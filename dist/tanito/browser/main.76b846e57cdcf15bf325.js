(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("bHdf");function r(){return Object(i.a)(1)}},"0Pi8":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("GyhO"),r=n("LRne");function s(...t){return e=>Object(i.a)(e,Object(r.a)(...t))}},"128B":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("Kqap"),r=n("BFxc"),s=n("xbPD"),o=n("mCNh");function a(t,e){return arguments.length>=2?function(n){return Object(o.a)(Object(i.a)(t,e),Object(r.a)(1),Object(s.a)(e))(n)}:function(e){return Object(o.a)(Object(i.a)((e,n,i)=>t(e,n,i+1)),Object(r.a)(1))(e)}}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("zx2A");function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),r=Object(i.c)(this.notifier,new i.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class o extends i.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1uah":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var i=n("yCtX"),r=n("DH7j"),s=n("7o/Q"),o=n("Lhse"),a=n("zx2A");function c(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(i.a)(t,void 0).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new u(t,this.resultSelector))}}class u extends s.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(r.a)(t)?e.push(new d(t)):e.push("function"==typeof t[o.a]?new h(t[o.a]()):new p(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void n.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class h{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class d{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[o.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class p extends a.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[o.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(a.c)(this.observable,new a.a(this))}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("9ppp");class s extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"32Ea":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new o(t,this.predicate))}}class o extends i.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("D0XW"),r=n("mlxB"),s=n("7o/Q"),o=n("WMd4");function a(t,e=i.a){const n=Object(r.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new c(n,e))}class c{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))}}class l extends s.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(l.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new u(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(o.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.time=t,this.notification=e}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3UWI":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D0XW"),r=n("tnsW"),s=n("PqYM");function o(t,e=i.a){return Object(r.a)(()=>Object(s.a)(t,e))}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4XzM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("89kA")},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return l});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const l=o},"5yfJ":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o});var i=n("HDdC"),r=n("KqfI");const s=new i.a(r.a);function o(){return s}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mAIw"),r=n("wj3C"),s=n("q/0M"),o=n("zVF4"),a=n("x7I3"),c=n("S+S0"),l=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(r),u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return i.__extends(e,t),e}(Error),d=new s.Logger("@firebase/firestore");function p(){return d.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.DEBUG){var r=e.map(b);d.debug.apply(d,i.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.ERROR){var r=e.map(b);d.error.apply(d,i.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.WARN){var r=e.map(b);d.warn.apply(d,i.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function b(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(r){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function v(t,e){t||y()}function _(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var T=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.o=function(t,n,i){return new e(t,n,i)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new h(u.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");i.push.apply(i,o.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.P=function(){return new e([])},e}(T),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.o=function(t,n,i){return new e(t,n,i)},e.V=function(t){return x.test(t)},e.prototype.R=function(){return this.A().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new h(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new h(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new h(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new h(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(T),O=function(){function t(t){this.path=t}return t.D=function(e){return new t(k.g(e))},t.C=function(e){return new t(k.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===k.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return k.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new k(e.slice()))},t}();function I(t,e){if(0!==e.length)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+$(e.length,"argument")+".")}function A(t,e,n){if(e.length!==n)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires "+$(n,"argument")+", but was called with "+$(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires at least "+$(n,"argument")+", but was called with "+$(e.length,"argument")+".")}function D(t,e,n,i){if(e.length<n||e.length>i)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+$(e.length,"argument")+".")}function R(t,e,n,i){U(t,e,W(n)+" argument",i)}function N(t,e,n,i){void 0!==i&&R(t,e,n,i)}function L(t,e,n,i){U(t,e,n+" option",i)}function F(t,e,n,i){void 0!==i&&L(t,e,n,i)}function j(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var s=[],o=0,a=r;o<a.length;o++){var c=a[o];if(c===i)return;s.push(V(c))}var l=V(i);throw new h(u.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,i,r)}function M(t,e,n,i){if(!e.some(function(t){return t===i}))throw new h(u.INVALID_ARGUMENT,"Invalid value "+V(i)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "));return i}function U(t,e,n,i){if(!("object"===e?B(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=V(i);throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function B(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function z(t,e,n){if(void 0===n)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function q(t,e,n){S(e,function(e,i){if(n.indexOf(e)<0)throw new h(u.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function H(t,e,n,i){var r=V(i);return new h(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+r)}function K(t,e,n){if(n<=0)throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function $(t,e){return t+" "+e+(1===t?"":"s")}function G(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Q=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=G(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Y(t,e){return t<e?-1:t>e?1:0}function X(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Y(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(u.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.fromBase64String=function(t){A("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(u.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(A("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return A("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return A("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),rt=function(t,e,n,i,r,s){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.W=s},st=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),ot=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.G(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),i=this.H[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.G(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.G(n[i][0],t))return 1===n.length?delete this.H[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){S(this.H,function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}})},t.prototype.m=function(){return C(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ct=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function lt(t){return null==t}function ut(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!ut(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var dt=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.tt=null};function pt(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new dt(t,e,n,i,r,s,o)}function ft(t){var e=_(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.R()+t.op.toString()+se(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.R()+e.dir;var e}).join(","),lt(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ui(e.startAt)),e.endAt&&(n+="|ub:",n+=ui(e.endAt)),e.tt=n}return e.tt}function mt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!mi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!ee(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!di(t.startAt,e.startAt)&&di(t.endAt,e.endAt)}function gt(t){return O.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bt,yt,vt=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=ct.min()),void 0===s&&(s=ct.min()),void 0===o&&(o=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=i,this.nt=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),_t=function(t){this.count=t};function wt(t){switch(t){case u.OK:return y();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return y()}}function St(t){if(void 0===t)return m("GRPC error has no .code"),u.UNKNOWN;switch(t){case bt.OK:return u.OK;case bt.CANCELLED:return u.CANCELLED;case bt.UNKNOWN:return u.UNKNOWN;case bt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case bt.INTERNAL:return u.INTERNAL;case bt.UNAVAILABLE:return u.UNAVAILABLE;case bt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case bt.NOT_FOUND:return u.NOT_FOUND;case bt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case bt.ABORTED:return u.ABORTED;case bt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case bt.DATA_LOSS:return u.DATA_LOSS;default:return y()}}(yt=bt||(bt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function t(t,e){this.i=t,this.root=e||kt.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,kt.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,kt.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var i=this.i(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ht(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Tt(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new Tt(this.root,t,this.i,!1)},t.prototype.dt=function(){return new Tt(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new Tt(this.root,t,this.i,!0)},t}(),Tt=function(){function t(t,e,n,i){this.Tt=i,this.Et=[];for(var r=1;!t.m();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.Tt?t.left:t.right;else{if(0===r){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),kt=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.ot(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.m()||r.left.yt()||r.left.left.yt()||(r=r.Vt()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.yt()&&(r=r.bt()),r.right.m()||r.right.yt()||r.right.left.yt()||(r=r.vt()),0===n(e,r.key)){if(r.right.m())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw y();if(this.right.yt())throw y();var t=this.left.Nt();if(t!==this.right.Nt())throw y();return t+(this.yt()?0:1)},t}();kt.EMPTY=null,kt.RED=!0,kt.at=!1,kt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.ot=function(t,e,n){return new kt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var xt=function(){function t(t){this.i=t,this.data=new Ct(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht(function(e,n){return t(e),!1})},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var i=n.It();if(this.i(i.key,t[1])>=0)return;e(i.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Et(this.data._t())},t.prototype.ft=function(t){return new Et(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),i=e.data._t();n.At();){var r=n.It().key,s=i.It().key;if(0!==this.i(r,s))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Et=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),Ot=new Ct(O.i);function It(){return Ot}function At(){return It()}var Pt=new Ct(O.i);function Dt(){return Pt}var Rt=new Ct(O.i),Nt=new xt(O.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Nt,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var Ft=new xt(Y);function jt(){return Ft}var Mt=function(){function t(t){this.i=t?function(e,n){return t(e,n)||O.i(e.key,n.key)}:function(t,e){return O.i(t.key,e.key)},this.Ot=Dt(),this.Lt=new Ct(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),i=e.Lt._t();n.At();){var r=n.It().key,s=i.It().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.i=this.i,i.Ot=e,i.Lt=n,i},t}(),Ut=function(){function t(){this.qt=new Ct(O.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):y():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht(function(e,n){t.push(n)}),t},t}(),Bt=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=i,this.Wt=r,this.fromCache=s,this.jt=o,this.Kt=a}return t.Gt=function(e,n,i,r){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Mt.Bt(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Qn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Vt=function(){function t(t,e,n,i,r){this.nt=t,this.zt=e,this.Ht=n,this.Yt=i,this.Jt=r}return t.Xt=function(e,n){var i=new Map;return i.set(e,zt.Zt(e,n)),new t(ct.min(),i,jt(),It(),Lt())},t}(),zt=function(){function t(t,e,n,i,r){this.resumeToken=t,this.te=e,this.ee=n,this.ne=i,this.se=r}return t.Zt=function(e,n){return new t(Z.B,n,Lt(),Lt(),Lt())},t}(),qt=function(t,e,n,i){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=i},Ht=function(t,e){this.targetId=t,this.oe=e},Kt=function(t,e,n,i){void 0===n&&(n=Z.B),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Wt=function(){function t(){this.ae=0,this.ce=Qt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Lt(),e=Lt(),n=Lt();return this.ce.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:y()}}),new zt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Qt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),$t=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=It(),this.Ve=Gt(),this.pe=new xt(Y)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var i=n[e];t.re instanceof Rn?this.ve(i,t.re):t.re instanceof Nn&&this.Se(i,t.key,t.re)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.Se(s[r],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,function(n){var i=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&i.de(t.resumeToken);break;case 1:i.Ae(),i._e||i.me(),i.de(t.resumeToken);break;case 2:i.Ae(),i._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(i.Re(),i.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),i.de(t.resumeToken));break;default:y()}})},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach(function(t,i){n.Fe(i)&&e(i)})},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,i=this.ke(e);if(i){var r=i.target;if(gt(r))if(0===n){var s=new O(r.path);this.Se(e,s,new Nn(s,ct.min()))}else v(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach(function(i,r){var s=e.ke(r);if(s){if(i.te&&gt(s.target)){var o=new O(s.target.path);null!==e.ye.get(o)||e.Le(r,o)||e.Se(r,o,new Nn(o,t))}i.fe&&(n.set(r,i.we()),i.me())}});var i=Lt();this.Ve.forEach(function(t,n){var r=!0;n.xt(function(t){var n=e.ke(t);return!n||2===n.et||(r=!1,!1)}),r&&(i=i.add(t))});var r=new Vt(t,n,this.pe,this.ye,i);return this.ye=It(),this.Ve=Gt(),this.pe=new xt(Y),r},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var i=this.Ne(t);this.Le(t,e)?i.Te(e,1):i.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new xt(Y),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Wt),this.ge.qe(t).forEach(function(n){e.Se(t,n,null)})},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Gt(){return new Ct(O.i)}function Qt(){return new Ct(O.i)}function Yt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xt(t){var e=t.mapValue.fields.__previous_value__;return Yt(e)?Xt(e):e}function Jt(t){var e=ae(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function te(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yt(t)?4:10:y()}function ee(t,e){var n=te(t);if(n!==te(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jt(t).isEqual(Jt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ae(t.timestampValue),i=ae(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return le(t.bytesValue).isEqual(le(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ce(t.geoPointValue.latitude)===ce(e.geoPointValue.latitude)&&ce(t.geoPointValue.longitude)===ce(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ce(t.integerValue)===ce(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ce(t.doubleValue),i=ce(e.doubleValue);return n===i?ut(n)===ut(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return X(t.arrayValue.values||[],e.arrayValue.values||[],ee);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(w(n)!==w(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!ee(n[r],i[r])))return!1;return!0}(t,e);default:return y()}}function ne(t,e){return void 0!==(t.values||[]).find(function(t){return ee(t,e)})}function ie(t,e){var n=te(t),i=te(e);if(n!==i)return Y(n,i);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ce(t.integerValue||t.doubleValue),i=ce(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Jt(t),Jt(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(t,e){var n=le(t),i=le(e);return n.L(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=Y(n[r],i[r]);if(0!==s)return s}return Y(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Y(ce(t.latitude),ce(e.latitude));return 0!==n?n:Y(ce(t.longitude),ce(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=ie(n[r],i[r]);if(s)return s}return Y(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=Y(i[o],s[o]);if(0!==a)return a;var c=ie(n[i[o]],r[s[o]]);if(0!==c)return c}return Y(i.length,s.length)}(t.mapValue,e.mapValue);default:throw y()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=ae(t),i=ae(e),r=Y(n.seconds,i.seconds);return 0!==r?r:Y(n.nanos,i.nanos)}function se(t){return oe(t)}function oe(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ae(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?le(t.bytesValue).toBase64():"referenceValue"in t?O.C(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=oe(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var s=r[i];n?n=!1:e+=",",e+=s+":"+oe(t.fields[s])}return e+"}"}(t.mapValue):y();var e}function ae(t){if(v(!!t),"string"==typeof t){var e=0,n=Zt.exec(t);if(v(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ce(t.seconds),nanos:ce(t.nanos)}}function ce(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function le(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function he(t){return!!t&&"integerValue"in t}function de(t){return!!t&&"arrayValue"in t}function pe(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function me(t){return!!t&&"mapValue"in t}var ge={asc:"ASCENDING",desc:"DESCENDING"},be={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ye=function(t,e){this.U=t,this.Qe=e};function ve(t){return{integerValue:""+t}}function _e(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ut(e)?"-0":e}}function we(t,e){return ht(e)?ve(e):_e(t,e)}function Se(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ce(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Te(t,e){return Se(t,e.Z())}function ke(t){return v(!!t),ct.J(function(t){var e=ae(t);return new at(e.seconds,e.nanos)}(t))}function xe(t,e){return function(t){return new k(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ee(t){var e=k.g(t);return v(Ye(e)),e}function Oe(t,e){return xe(t.U,e.path)}function Ie(t,e){var n=Ee(e);return v(n.get(1)===t.U.projectId),v(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new O(Re(n))}function Ae(t,e){return xe(t.U,e)}function Pe(t){var e=Ee(t);return 4===e.length?k.P():Re(e)}function De(t){return new k(["projects",t.U.projectId,"databases",t.U.database]).R()}function Re(t){return v(t.length>4&&"documents"===t.get(4)),t.u(5)}function Ne(t,e,n){return{name:Oe(t,e),fields:n.proto.mapValue.fields}}function Le(t,e){var n;if(e instanceof wn)n={update:Ne(t,e.key,e.value)};else if(e instanceof En)n={delete:Oe(t,e.key)};else if(e instanceof Sn)n={update:Ne(t,e.key,e.data),updateMask:Qe(e.We)};else if(e instanceof Tn)n={transform:{document:Oe(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof en)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof nn)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof sn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof an)return{fieldPath:e.field.R(),increment:n.je};throw y()}(0,t)})}};else{if(!(e instanceof On))return y();n={verify:Oe(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Te(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Ge)),n}function Fe(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?pn.updateTime(ke(t.updateTime)):void 0!==t.exists?pn.exists(t.exists):pn.ze()}(e.currentDocument):pn.ze();if(e.update){var i=Ie(t,e.update.name),r=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new un((t.fieldPaths||[]).map(function(t){return E.S(t)}))}(e.updateMask);return new Sn(i,r,s,n)}return new wn(i,r,n)}if(e.delete){var o=Ie(t,e.delete);return new En(o,n)}if(e.transform){var a=Ie(t,e.transform.document),c=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(v("REQUEST_TIME"===e.setToServerValue),n=new en):"appendMissingElements"in e?n=new nn(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sn(e.removeAllFromArray.values||[]):"increment"in e?n=new an(t,e.increment):y();var i=E.S(e.fieldPath);return new hn(i,n)}(t,e)});return v(!0===n.exists),new Tn(a,c)}if(e.verify){var l=Ie(t,e.verify);return new On(l,n)}return y()}function je(t,e){return{documents:[Ae(t,e.path)]}}function Me(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Ae(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,i.h()),n.structuredQuery.from=[{collectionId:i._()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NAN"}};if(pe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NOT_NAN"}};if(pe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ke(t.field),op:He(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ke(t.field),direction:qe(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Qe||lt(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Ve(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ve(e.endAt)),n}function Ue(t){var e=Pe(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){v(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Be(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new pi(We(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return lt(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=ze(n.startAt));var u=null;return n.endAt&&(u=ze(n.endAt)),Kn(jn(e,r,a,o,c,"F",l,u))}function Be(t){return t?void 0!==t.unaryFilter?[Ge(t)]:void 0!==t.fieldFilter?[$e(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Be(t)}).reduce(function(t,e){return t.concat(e)}):y():[]}function Ve(t){return{before:t.before,values:t.position}}function ze(t){return new li(t.values||[],!!t.before)}function qe(t){return ge[t]}function He(t){return be[t]}function Ke(t){return{fieldPath:t.R()}}function We(t){return E.S(t.fieldPath)}function $e(t){return ti.create(We(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ge(t){switch(t.unaryFilter.op){case"IS_NAN":var e=We(t.unaryFilter.field);return ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=We(t.unaryFilter.field);return ti.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=We(t.unaryFilter.field);return ti.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=We(t.unaryFilter.field);return ti.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function Qe(t){var e=[];return t.fields.forEach(function(t){return e.push(t.R())}),{fieldPaths:e}}function Ye(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Xe=function(){this.He=void 0};function Je(t,e,n){return t instanceof en?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nn?rn(t,e):t instanceof sn?on(t,e):function(t,e){var n=tn(t,e),i=cn(n)+cn(t.je);return he(n)&&he(t.je)?ve(i):_e(t.serializer,i)}(t,e)}function Ze(t,e,n){return t instanceof nn?rn(t,e):t instanceof sn?on(t,e):n}function tn(t,e){return t instanceof an?he(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(Xe),nn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Xe);function rn(t,e){for(var n=ln(e),i=function(t){n.some(function(e){return ee(e,t)})||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var sn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Xe);function on(t,e){for(var n=ln(e),i=function(t){n=n.filter(function(e){return!ee(e,t)})},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var an=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).serializer=e,i.je=n,i}return i.__extends(e,t),e}(Xe);function cn(t){return ce(t.integerValue||t.doubleValue)}function ln(t){return de(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var un=function(){function t(t){this.fields=t,t.sort(E.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return X(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),hn=function(t,e){this.field=t,this.transform=e},dn=function(t,e){this.version=t,this.transformResults=e},pn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fn(t,e){return void 0!==t.updateTime?e instanceof Rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Rn}var mn=function(){};function gn(t,e,n){return t instanceof wn?function(t,e,n){return new Rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Sn?function(t,e,n){if(!fn(t.Ge,e))return new Ln(t.key,n.version);var i=Cn(t,e);return new Rn(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof Tn?function(t,e,n){if(v(null!=n.transformResults),!fn(t.Ge,e))return new Ln(t.key,n.version);var i=kn(0,e),r=function(t,e,n){var i=[];v(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=null;e instanceof Rn&&(a=e.field(s.field)),i.push(Ze(o,a,n[r]))}return i}(t.fieldTransforms,e,n.transformResults),s=n.version,o=xn(t,i.data(),r);return new Rn(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Nn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function bn(t,e,n,i){return t instanceof wn?function(t,e){if(!fn(t.Ge,e))return e;var n=_n(e);return new Rn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Sn?function(t,e){if(!fn(t.Ge,e))return e;var n=_n(e),i=Cn(t,e);return new Rn(t.key,n,i,{Je:!0})}(t,e):t instanceof Tn?function(t,e,n,i){if(!fn(t.Ge,e))return e;var r=kn(0,e),s=function(t,e,n,i){for(var r=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,l=null;n instanceof Rn&&(l=n.field(a.field)),null===l&&i instanceof Rn&&(l=i.field(a.field)),r.push(Je(c,l,e))}return r}(t.fieldTransforms,n,e,i),o=xn(t,r.data(),s);return new Rn(t.key,r.version,o,{Je:!0})}(t,e,i,n):function(t,e){return fn(t.Ge,e)?new Nn(t.key,ct.min()):e}(t,e)}function yn(t,e){return t instanceof Tn?function(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var s=r[i],o=e instanceof Rn?e.field(s.field):void 0,a=tn(s.transform,o||null);null!=a&&(n=null==n?(new An).set(s.field,a):n.set(s.field,a))}return n?n.Xe():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||X(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nn&&e instanceof nn||t instanceof sn&&e instanceof sn?X(t.elements,e.elements,ee):t instanceof an&&e instanceof an?ee(t.je,e.je):t instanceof en&&e instanceof en}(t.transform,e.transform)}(t,e)}))}function _n(t){return t instanceof Rn?t.version:ct.min()}var wn=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).key=e,r.value=n,r.Ge=i,r.type=0,r}return i.__extends(e,t),e}(mn),Sn=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.We=i,s.Ge=r,s.type=1,s}return i.__extends(e,t),e}(mn);function Cn(t,e){return function(t,e){var n=new An(e);return t.We.fields.forEach(function(e){if(!e.m()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}}),n.Xe()}(t,e instanceof Rn?e.data():In.empty())}var Tn=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.fieldTransforms=n,i.type=2,i.Ge=pn.exists(!0),i}return i.__extends(e,t),e}(mn);function kn(t,e){return e}function xn(t,e,n){for(var i=new An(e),r=0;r<t.fieldTransforms.length;r++)i.set(t.fieldTransforms[r].field,n[r]);return i.Xe()}var En=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Ge=n,i.type=3,i}return i.__extends(e,t),e}(mn),On=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Ge=n,i.type=4,i}return i.__extends(e,t),e}(mn),In=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!me(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return ee(this.proto,t.proto)},t}(),An=function(){function t(t){void 0===t&&(t=In.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,i=0;i<t.length-1;++i){var r=t.get(i),s=n.get(r);s instanceof Map?n=s:s&&10===te(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(r,s),n=s):(s=new Map,n.set(r,s),n=s)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(E.P(),this.tn);return null!=t?new In(t):this.Ze},t.prototype.nn=function(t,e){var n=this,i=!1,r=this.Ze.field(t),s=me(r)?Object.assign({},r.mapValue.fields):{};return e.forEach(function(e,r){if(e instanceof Map){var o=n.nn(t.child(r),e);null!=o&&(s[r]=o,i=!0)}else null!==e?(s[r]=e,i=!0):s.hasOwnProperty(r)&&(delete s[r],i=!0)}),i?{mapValue:{fields:s}}:null},t}();function Pn(t){var e=[];return S(t.fields||{},function(t,n){var i=new E([t]);if(me(n)){var r=Pn(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)}),new un(e)}var Dn=function(t,e){this.key=t,this.version=e},Rn=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this,e,n)||this).sn=i,s.Je=!!r.Je,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return i.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Dn),Nn=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dn),Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dn),Fn=function(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=i,this.limit=r,this.an=s,this.startAt=o,this.endAt=a,this.cn=null,this.un=null};function jn(t,e,n,i,r,s,o,a){return new Fn(t,e,n,i,r,s,o,a)}function Mn(t){return new Fn(t)}function Un(t){return!lt(t.limit)&&"F"===t.an}function Bn(t){return!lt(t.limit)&&"L"===t.an}function Vn(t){return t.on.length>0?t.on[0].field:null}function zn(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.hn())return i.field}return null}function qn(t){return null!==t.collectionGroup}function Hn(t){var e=_(t);if(null===e.cn){e.cn=[];var n=zn(e),i=Vn(e);if(null!==n&&null===i)n.p()||e.cn.push(new pi(n)),e.cn.push(new pi(E.v(),"asc"));else{for(var r=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.cn.push(a),a.field.p()&&(r=!0)}if(!r){var c=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new pi(E.v(),c))}}}return e.cn}function Kn(t){var e=_(t);if(!e.un)if("F"===e.an)e.un=pt(e.path,e.collectionGroup,Hn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Hn(e);i<r.length;i++){var s=r[i];n.push(new pi(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new li(e.endAt.position,!e.endAt.before):null,a=e.startAt?new li(e.startAt.position,!e.startAt.before):null;e.un=pt(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.un}function Wn(t,e,n){return new Fn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $n(t,e){return new Fn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Gn(t,e){return new Fn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Qn(t,e){return mt(Kn(t),Kn(e))&&t.an===e.an}function Yn(t){return ft(Kn(t))+"|lt:"+t.an}function Xn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.R()+" "+e.op+" "+se(e.value);var e}).join(", ")+"]"),lt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.R()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ui(t.startAt)),t.endAt&&(e+=", endAt: "+ui(t.endAt)),"Target("+e+")"}(Kn(t))+"; limitType="+t.an+")"}function Jn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):O.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,i=t.on;n<i.length;n++){var r=i[n];if(!r.field.p()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hi(t.startAt,Hn(t),e)||t.endAt&&hi(t.endAt,Hn(t),e))}(t,e)}function Zn(t){return function(e,n){for(var i=!1,r=0,s=Hn(t);r<s.length;r++){var o=s[r],a=fi(o,e,n);if(0!==a)return a;i=i||o.field.p()}return 0}}var ti=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return i.__extends(e,t),e.create=function(t,n,i){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,i):new ei(t,n,i);if(pe(i)){if("=="!==n&&"!="!==n)throw new h(u.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,i)}if(fe(i)){if("=="!==n&&"!="!==n)throw new h(u.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,i)}return"array-contains"===n?new si(t,i):"in"===n?new oi(t,i):"not-in"===n?new ai(t,i):"array-contains-any"===n?new ci(t,i):new e(t,n,i)},e.ln=function(t,e,n){return"in"===e?new ni(t,n):new ii(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ie(e,this.value)):null!==e&&te(this.value)===te(e)&&this._n(ie(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ei=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=O.C(i.referenceValue),r}return i.__extends(e,t),e.prototype.matches=function(t){var e=O.i(t.key,this.key);return this._n(e)},e}(ti),ni=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=ri(0,n),i}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ti),ii=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=ri(0,n),i}return i.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ti);function ri(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return O.C(t.referenceValue)})}var si=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return de(e)&&ne(e.arrayValue,this.value)},e}(ti),oi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ne(this.value.arrayValue,e)},e}(ti),ai=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){if(ne(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ne(this.value.arrayValue,e)},e}(ti),ci=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!de(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ne(e.value.arrayValue,t)})},e}(ti),li=function(t,e){this.position=t,this.before=e};function ui(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return se(t)}).join(",")}function hi(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.p()?O.i(O.C(o.referenceValue),n.key):ie(o,n.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function di(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ee(t.position[n],e.position[n]))return!1;return!0}var pi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function fi(t,e,n){var i=t.field.p()?O.i(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?ie(i,r):y()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return y()}}function mi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gi=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},bi=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=i,this.Tn=r,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),i=Math.max(0,Date.now()-this.An),r=Math.max(0,n-i);r>0&&f("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.In=this.fn.yn(this.dn,r,function(){return e.An=Date.now(),t()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),yi=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.Dn&&y(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(t,r){i.bn=function(n){i.Nn(e,n).next(t,r)},i.vn=function(e){i.Cn(n,e).next(t,r)}})},t.prototype.Fn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var i=0,r=0,s=!1;e.forEach(function(e){++i,e.next(function(){++r,s&&r===i&&t()},function(t){return n(t)})}),s=!0,r===i&&t()})},t.kn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.$n(i)},t}(),vi=function(){function t(e,n,i){this.name=e,this.version=n,this.Mn=i,12.2===t.On(o.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return f("SimpleDb","Removing database:",t),ki(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=o.getUA(),n=t.On(e),i=0<n&&n<10,r=t.qn(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new wi(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new h(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wi(t,n))},r.onupgradeneeded=function(t){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}})})},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,function(){var s,o,a,c,l;return i.__generator(this,function(u){switch(u.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,l,u,h;return i.__generator(this,function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,c.Wn(t)];case 2:return c.db=i.sent(),e=Ci.open(c.db,t,s?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),yi.reject(t)}).Fn(),l={},a.catch(function(){}),[4,e.Gn];case 3:return[2,(l.value=(i.sent(),a),l)];case 4:return f("SimpleDb","Transaction failed with error:",(u=i.sent()).message,"Retrying:",h="FirebaseError"!==u.name&&o<3),c.close(),h?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},c=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_i=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return ki(this.zn.delete())},t}(),wi=function(t){function e(e,n){var i=this;return(i=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return i.__extends(e,t),e}(h);function Si(t){return"IndexedDbTransactionError"===t.name}var Ci=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new gi,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new wi(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var i=Ei(e.target.error);n.Zn.reject(new wi(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new wi(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ti(e)},t}(),Ti=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ki(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),ki(this.store.add(t))},t.prototype.get=function(t){var e=this;return ki(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),ki(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),ki(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.es(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.ns=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var i=this.cursor(n);return this.es(i,function(t,e,n){return n.delete()})},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.es(i,e)},t.prototype.os=function(t){var e=this.cursor({});return new yi(function(n,i){e.onerror=function(t){var e=Ei(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.es=function(t,e){var n=[];return new yi(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new _i(r),o=e(r.primaryKey,r.value,s);if(o instanceof yi){var a=o.catch(function(t){return s.done(),yi.reject(t)});n.push(a)}s.Sn?i():null===s.Jn?r.continue():r.continue(s.Jn)}else i()}}).next(function(){return yi.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ki(t){return new yi(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ei(t.target.error);n(e)}})}var xi=!1;function Ei(t){var e=vi.On(o.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xi||(xi=!0,setTimeout(function(){throw i},0)),i}}return t}function Oi(){return"undefined"!=typeof window?window:null}function Ii(){return"undefined"!=typeof document?document:null}var Ai=function(){function t(t,e,n,i,r){this.cs=t,this.dn=e,this.us=n,this.op=i,this.hs=r,this.ls=new gi,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Pi=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new bi(this,"async_queue_retry"),this.Vs=function(){var e=Ii();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Ii();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Ii();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Es.push(t),e.Ns()})},t.prototype.Ns=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e=this;return i.__generator(this,function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Si(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return e.Ns()}),n.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,n=this.Ts.then(function(){return e.gs=!0,t().catch(function(t){throw e.Rs=t,e.gs=!1,m("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gs=!1,t})});return this.Ts=n,n},t.prototype.yn=function(t,e,n){var i=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var r=Ai._s(this,t,e,n,function(t){return i.Fs(t)});return this.As.push(r),r},t.prototype.vs=function(){this.Rs&&y()},t.prototype.xs=function(){},t.prototype.$s=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then(function(){e.As.sort(function(t,e){return t.us-e.us});for(var n=0,i=e.As;n<i.length;n++){var r=i[n];if(r.pn(),"all"!==t&&r.dn===t)break}return e.$s()})},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Di(t,e){if(m("AsyncQueue",e+": "+t),Si(t))return new h(u.UNAVAILABLE,e+": "+t);throw t}var Ri=function(){this.Ls=void 0,this.listeners=[]},Ni=function(){this.Bs=new ot(function(t){return Yn(t)},Qn),this.onlineState="Unknown",this.qs=new Set};function Li(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a,c,l;return i.__generator(this,function(i){switch(i.label){case 0:if(n=_(t),s=!1,(o=n.Bs.get(r=e.query))||(s=!0,o=new Ri),!s)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),a=o,[4,n.Us(r)];case 2:return a.Ls=i.sent(),[3,4];case 3:return c=i.sent(),l=Di(c,"Initialization of query '"+Xn(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Qs(n.onlineState),o.Ls&&e.Ws(o.Ls)&&Ui(n),[2]}})})}function Fi(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a;return i.__generator(this,function(i){return n=_(t),s=!1,(o=n.Bs.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.Bs.delete(r),n.js(r))]:[2]})})}function ji(t,e){for(var n=_(t),i=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=n.Bs.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Ws(o)&&(i=!0);a.Ls=o}}i&&Ui(n)}function Mi(t,e,n){var i=_(t),r=i.Bs.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(n);i.Bs.delete(e)}function Ui(t){t.qs.forEach(function(t){t.next()})}var Bi=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new Bt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),s=!0):this.Ys(t,this.onlineState)&&(this.Js(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Bt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Vi=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vi.UNAUTHENTICATED=new Vi(null),Vi.ei=new Vi("google-credentials-uid"),Vi.ni=new Vi("first-party-uid");var zi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function qi(t,e){return"firestore_clients_"+t+"_"+e}function Hi(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.Zs()&&(i+="_"+e.uid),i}function Ki(t,e){return"firestore_targets_"+t+"_"+e}zi.ai=-1;var Wi=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.ci=function(e,n,i){var r=JSON.parse(i),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),s?new t(e,n,r.state,o):(m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$i=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new h(i.error.code,i.error.message)),r?new t(e,i.state,s):(m("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=jt(),o=0;r&&o<i.activeTargetIds.length;++o)r=ht(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(m("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(m("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yi=function(){function t(){this.activeTargetIds=jt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Xi=function(){function t(t,e,n,i,r){this.window=t,this.fn=e,this.persistenceKey=n,this._i=i,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Ct(Y),this.Ei=!1,this.Ii=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Ai=qi(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Yi),this.gi=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e,n,r,s,o,a,c,l,u,h=this;return i.__generator(this,function(i){switch(i.label){case 0:return[4,this.fi.pi()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._i&&(s=this.getItem(qi(this.persistenceKey,r)))&&(o=Gi.ci(r,s))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(c=this.vi(a))&&this.Si(c),l=0,u=this.Ii;l<u.length;l++)this.mi(u[l]);return this.Ii=[],this.window.addEventListener("unload",function(){return h.Di()}),this.Ei=!0,[2]}})})},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Ki(this.persistenceKey,t));if(n){var i=$i.ci(t,n);i&&(e=i.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Ki(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var i=this;e.forEach(function(t){i.Mi(t)}),this.currentUser=t,n.forEach(function(t){i.xi(t)})},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return i.__awaiter(e,void 0,void 0,function(){var t,e,r,s,o,a;return i.__generator(this,function(i){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Ji(n.key,n.newValue)))return[2,this.Xi(r)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(s=this.Zi(n.key,n.newValue)))return[2,this.tr(s)]}else if(n.key===this.Vi){if(null!==n.newValue&&(o=this.vi(n.newValue)))return[2,this.Si(o)]}else n.key===this.Ri&&(a=function(t){var e=zi.ai;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){m("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==zi.ai&&this.si(a)}else this.Ii.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var i=new Wi(this.currentUser,t,e,n),r=Hi(this.persistenceKey,this.currentUser,t);this.setItem(r,i.ui())},t.prototype.Mi=function(t){var e=Hi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var i=Ki(this.persistenceKey,t),r=new $i(t,e,n);this.setItem(i,r.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Gi.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),i=Number(n[1]);return Wi.ci(new Vi(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),i=Number(n[1]);return $i.ci(i,e)},t.prototype.vi=function(t){return Qi.ci(t)},t.prototype.Xi=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,i=e?this.Ti.ot(t,e):this.Ti.remove(t),r=this.Ni(this.Ti),s=this.Ni(i),o=[],a=[];return s.forEach(function(t){r.has(t)||o.push(t)}),r.forEach(function(t){s.has(t)||a.push(t)}),this.fi.sr(o,a).then(function(){n.Ti=i})},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=jt();return t.forEach(function(t,n){e=e.kt(n.activeTargetIds)}),e},t}(),Ji=function(){function t(){this.ir=new Yi,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Yi,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Zi=function(){function t(t,e,n,i){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=i}return t.prototype.cr=function(t,e,n){for(var i=n.ur,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=gn(s,e,i[r]))}return e},t.prototype.hr=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++){var r=i[n];r.key.isEqual(t)&&(e=bn(r,e,e,this.ar))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var c=a[o];c.key.isEqual(t)&&(e=bn(c,e,s,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach(function(i){var r=e.hr(i.key,t.get(i.key));r&&(n=n.ot(i.key,r))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X(this.mutations,t.mutations,function(t,e){return vn(t,e)})&&X(this.baseMutations,t.baseMutations,function(t,e){return vn(t,e)})},t}(),tr=function(){function t(t,e,n,i){this.batch=t,this._r=e,this.ur=n,this.dr=i}return t.from=function(e,n,i){v(e.mutations.length===i.length);for(var r=Rt,s=e.mutations,o=0;o<s.length;o++)r=r.ot(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),er=function(){function t(){this.wr=new ot(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?yi.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ir=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach(function(t){return t()})},t}(),rr=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next(function(i){return n.Fr(t,e,i)})},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next(function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].hr(e,t);return t})},t.prototype.$r=function(t,e,n){var i=At();return e.forEach(function(t,e){for(var r=0,s=n;r<s.length;r++)e=s[r].hr(t,e);i=i.ot(t,e)}),i},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next(function(e){return n.Mr(t,e)})},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next(function(i){var r=n.$r(t,e,i),s=It();return r.forEach(function(t,e){e||(e=new Nn(t,ct.min())),s=s.ot(t,e)}),s})},t.prototype.Lr=function(t,e,n){return function(t){return O.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):qn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new O(e)).next(function(t){var e=Dt();return t instanceof Rn&&(e=e.ot(t.key,t)),e})},t.prototype.qr=function(t,e,n){var i=this,r=e.collectionGroup,s=Dt();return this.Dr.Qr(t,r).next(function(o){return yi.forEach(o,function(o){var a=function(t,e){return new Fn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(r));return i.Ur(t,a,n).next(function(t){t.forEach(function(t,e){s=s.ot(t,e)})})}).next(function(){return s})})},t.prototype.Ur=function(t,e,n){var i,r,s=this;return this.vr.Lr(t,e,n).next(function(n){return i=n,s.Sr.Wr(t,e)}).next(function(e){return s.jr(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=i.get(l),h=bn(c,u,u,s.ar);i=h instanceof Rn?i.ot(l,h):i.remove(l)}})}).next(function(){return i.forEach(function(t,n){Jn(e,n)||(i=i.remove(t))}),i})},t.prototype.jr=function(t,e,n){for(var i=Lt(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var c=a[o];c instanceof Sn&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.vr.getEntries(t,i).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Rn&&(l=l.ot(t,e))}),l})},t}(),sr=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=i}return t.zr=function(e,n){for(var i=Lt(),r=Lt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}();function or(t,e){var n=t[1],i=e[1],r=Y(t[0],e[0]);return 0===r?Y(n,i):r}var ar=function(){function t(t){this.Hr=t,this.buffer=new xt(or),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();or(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),cr={Zr:!1,eo:0,no:0,so:0},lr=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();lr.ho=-1,lr.lo=1048576,lr._o=41943040,lr.co=10,lr.uo=1e3,lr.fo=new lr(lr._o,lr.co,lr.uo),lr.do=new lr(lr.ho,0,0);var ur=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==lr.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,function(){return i.__awaiter(e,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return Si(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Is(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}})})})},t}(),hr=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yo=function(t,e){var n=this;if(0===e)return yi.resolve(zi.ai);var i=new ar(e);return this.Ao.Ce(t,function(t){return i.Xr(t.sequenceNumber)}).next(function(){return n.Ao.Vo(t,function(t){return i.Xr(t)})}).next(function(){return i.maxValue})},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===lr.ho?(f("LruGarbageCollector","Garbage collection skipped; disabled"),yi.resolve(cr)):this.So(t).next(function(i){return i<n.params.io?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.io),cr):n.Do(t,e)})},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,i,r,o,a,c,l,u=this,h=Date.now();return this.Ro(t,this.params.ro).next(function(e){return e>u.params.oo?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.oo+" from "+e),i=u.params.oo):i=e,o=Date.now(),u.yo(t,i)}).next(function(i){return n=i,a=Date.now(),u.po(t,n,e)}).next(function(e){return r=e,c=Date.now(),u.bo(t,n)}).next(function(t){return l=Date.now(),p()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-h)+"ms"),yi.resolve({Zr:!0,eo:i,no:r,so:t})})},t}();function dr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=fr(e)),e=pr(t.get(n),e);return fr(e)}function pr(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function fr(t){return t+"\x01\x01"}function mr(t){var e=t.length;if(v(e>=2),2===e)return v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),k.P();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&y(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:y()}s=o+2}return new k(i)}var gr=function(t){this.Co=t};function br(t,e){if(e.document)return function(t,e,n){var i=Ie(t,e.name),r=ke(e.updateTime),s=new In({mapValue:{fields:e.fields}});return new Rn(i,r,s,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=O.$(e.noDocument.path),i=Sr(e.noDocument.readTime);return new Nn(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=O.$(e.unknownDocument.path),s=Sr(e.unknownDocument.version);return new Ln(r,s)}return y()}function yr(t,e,n){var i=vr(n),r=e.key.path.h().A();if(e instanceof Rn){var s=function(t,e){return{name:Oe(t,e.key),fields:e.rn().mapValue.fields,updateTime:Se(t,e.version.Z())}}(t.Co,e);return new Gr(null,null,s,e.hasCommittedMutations,i,r)}if(e instanceof Nn){var o=e.key.path.A(),a=wr(e.version),c=e.hasCommittedMutations;return new Gr(null,new Wr(o,a),null,c,i,r)}if(e instanceof Ln){var l=e.key.path.A(),u=wr(e.version);return new Gr(new $r(l,u),null,null,!0,i,r)}return y()}function vr(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function _r(t){var e=new at(t[0],t[1]);return ct.J(e)}function wr(t){var e=t.Z();return new Vr(e.seconds,e.nanoseconds)}function Sr(t){var e=new at(t.seconds,t.nanoseconds);return ct.J(e)}function Cr(t,e){var n=(e.baseMutations||[]).map(function(e){return Fe(t.Co,e)}),i=e.mutations.map(function(e){return Fe(t.Co,e)}),r=at.fromMillis(e.localWriteTimeMs);return new Zi(e.batchId,r,n,i)}function Tr(t){var e,n,i=Sr(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Sr(t.lastLimboFreeSnapshotVersion):ct.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=Kn(Mn(Pe(n.documents[0])))):e=Ue(t.query),new vt(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Z.fromBase64String(t.resumeToken))}function kr(t,e){var n,i=wr(e.nt),r=wr(e.lastLimboFreeSnapshotVersion);n=gt(e.target)?je(t.Co,e.target):Me(t.Co,e.target);var s=e.resumeToken.toBase64();return new Yr(e.targetId,ft(e.target),i,s,e.sequenceNumber,r,n)}var xr=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.Dr=n,this.No=i,this.Fo={}}return t.xo=function(e,n,i,r){return v(""!==e.uid),new t(e.Zs()?e.uid:"",n,i,r)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).rs({index:Hr.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.ko=function(t,e,n,i){var r=this,s=Ar(t),o=Ir(t);return o.add({}).next(function(a){v("number"==typeof a);for(var c=new Zi(a,e,n,i),l=function(t,e,n){var i=n.baseMutations.map(function(e){return Le(t.Co,e)}),r=n.mutations.map(function(e){return Le(t.Co,e)});return new Hr(e,n.batchId,n.ar.toMillis(),i,r)}(r.serializer,r.userId,c),u=[],h=new xt(function(t,e){return Y(t.R(),e.R())}),d=0,p=i;d<p.length;d++){var f=p[d],m=Kr.key(r.userId,f.key.path,a);h=h.add(f.key.path.h()),u.push(o.put(l)),u.push(s.put(m,Kr.PLACEHOLDER))}return h.forEach(function(e){u.push(r.Dr.Mo(t,e))}),t.pr(function(){r.Fo[a]=c.keys()}),yi.$n(u).next(function(){return c})})},t.prototype.Oo=function(t,e){var n=this;return Ir(t).get(e).next(function(t){return t?(v(t.userId===n.userId),Cr(n.serializer,t)):null})},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?yi.resolve(this.Fo[e]):this.Oo(t,e).next(function(t){if(t){var i=t.keys();return n.Fo[e]=i,i}return null})},t.prototype.Bo=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Ir(t).rs({index:Hr.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(v(e.batchId>=i),s=Cr(n.serializer,e)),r.done()}).next(function(){return s})},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ir(t).rs({index:Hr.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).ts(Hr.userMutationsIndex,n).next(function(t){return t.map(function(t){return Cr(e.serializer,t)})})},t.prototype.Nr=function(t,e){var n=this,i=Kr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Ar(t).rs({range:r},function(i,r,o){var a=i[0],c=i[2],l=mr(i[1]);if(a===n.userId&&e.path.isEqual(l))return Ir(t).get(c).next(function(t){if(!t)throw y();v(t.userId===n.userId),s.push(Cr(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.Or=function(t,e){var n=this,i=new xt(Y),r=[];return e.forEach(function(e){var s=Kr.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ar(t).rs({range:o},function(t,r,s){var o=t[0],a=t[2],c=mr(t[1]);o===n.userId&&e.path.isEqual(c)?i=i.add(a):s.done()});r.push(a)}),yi.$n(r).next(function(){return n.Qo(t,i)})},t.prototype.Wr=function(t,e){var n=this,i=e.path,r=i.length+1,s=Kr.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new xt(Y);return Ar(t).rs({range:o},function(t,e,s){var o=t[0],c=t[2],l=mr(t[1]);o===n.userId&&i.T(l)?l.length===r&&(a=a.add(c)):s.done()}).next(function(){return n.Qo(t,a)})},t.prototype.Qo=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(Ir(t).get(e).next(function(t){if(null===t)throw y();v(t.userId===n.userId),i.push(Cr(n.serializer,t))}))}),yi.$n(r).next(function(){return i})},t.prototype.Wo=function(t,e){var n=this;return Or(t.jo,this.userId,e).next(function(i){return t.pr(function(){n.Ko(e.batchId)}),yi.forEach(i,function(e){return n.No.Go(t,e)})})},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next(function(n){if(!n)return yi.resolve();var i=IDBKeyRange.lowerBound(Kr.prefixForUser(e.userId)),r=[];return Ar(t).rs({range:i},function(t,n,i){if(t[0]===e.userId){var s=mr(t[1]);r.push(s)}else i.done()}).next(function(){v(0===r.length)})})},t.prototype.Ho=function(t,e){return Er(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Pr(t).get(this.userId).next(function(t){return t||new qr(e.userId,-1,"")})},t}();function Er(t,e,n){var i=Kr.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Ar(t).rs({range:s,ss:!0},function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()}).next(function(){return o})}function Or(t,e,n){var i=t.store(Hr.store),r=t.store(Kr.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=i.rs({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){v(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=Kr.key(e,d.key.path,n.batchId);s.push(r.delete(p)),l.push(d.key)}return yi.$n(s).next(function(){return l})}function Ir(t){return ds.Qn(t,Hr.store)}function Ar(t){return ds.Qn(t,Kr.store)}function Pr(t){return ds.Qn(t,qr.store)}var Dr=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Lr(t).put(Fr(e),n)},t.prototype.Ar=function(t,e){var n=Lr(t),i=Fr(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.Jo(t,i)})},t.prototype.Rr=function(t,e){var n=this;return Lr(t).get(Fr(e)).next(function(t){return n.Xo(t)})},t.prototype.Zo=function(t,e){var n=this;return Lr(t).get(Fr(e)).next(function(t){var e=n.Xo(t);return e?{ta:e,size:jr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,i=At();return this.ea(t,e,function(t,e){var r=n.Xo(e);i=i.ot(t,r)}).next(function(){return i})},t.prototype.na=function(t,e){var n=this,i=At(),r=new Ct(O.i);return this.ea(t,e,function(t,e){var s=n.Xo(e);s?(i=i.ot(t,s),r=r.ot(t,jr(e))):(i=i.ot(t,null),r=r.ot(t,0))}).next(function(){return{sa:i,ia:r}})},t.prototype.ea=function(t,e,n){if(e.m())return yi.resolve();var i=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),r=e._t(),s=r.It();return Lr(t).rs({range:i},function(t,e,i){for(var o=O.$(t);s&&O.i(s,o)<0;)n(s,null),s=r.It();s&&s.isEqual(o)&&(n(s,e),s=r.At()?r.It():null),s?i.Xn(s.path.A()):i.done()}).next(function(){for(;s;)n(s,null),s=r.At()?r.It():null})},t.prototype.Lr=function(t,e,n){var i=this,r=Dt(),s=e.path.length+1,o={};if(n.isEqual(ct.min())){var a=e.path.A();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.A(),l=vr(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=Gr.collectionReadTimeIndex}return Lr(t).rs(o,function(t,n,o){if(t.length===s){var a=br(i.serializer,n);e.path.T(a.key.path)?a instanceof Rn&&Jn(e,a)&&(r=r.ot(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.ra=function(t){return new Rr(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Nr(t).get(Qr.key).next(function(t){return v(!!t),t})},t.prototype.Jo=function(t,e){return Nr(t).put(Qr.key,e)},t.prototype.Xo=function(t){if(t){var e=br(this.serializer,t);return e instanceof Nn&&e.version.isEqual(ct.min())?null:e}return null},t}(),Rr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).ca=e,i.oa=n,i.ua=new ot(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return i.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],i=0,r=new xt(function(t,e){return Y(t.R(),e.R())});return this.wr.forEach(function(s,o){var a=e.ua.get(s);if(o){var c=yr(e.ca.serializer,o,e.readTime);r=r.add(s.path.h());var l=jr(c);i+=l-a,n.push(e.ca.Er(t,s,c))}else if(i-=a,e.oa){var u=yr(e.ca.serializer,new Nn(s,ct.min()),e.readTime);n.push(e.ca.Er(t,s,u))}else n.push(e.ca.Ar(t,s))}),r.forEach(function(i){n.push(e.ca.Dr.Mo(t,i))}),n.push(this.ca.updateMetadata(t,i)),yi.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next(function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)})},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next(function(t){var e=t.sa;return t.ia.forEach(function(t,e){n.ua.set(t,e)}),e})},e}(er);function Nr(t){return ds.Qn(t,Qr.store)}function Lr(t){return ds.Qn(t,Gr.store)}function Fr(t){return t.path.A()}function jr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}var Mr=function(){function t(){this.ha=new Ur}return t.prototype.Mo=function(t,e){return this.ha.add(e),yi.resolve()},t.prototype.Qr=function(t,e){return yi.resolve(this.ha.getEntries(e))},t}(),Ur=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),i=this.index[e]||new xt(k.i),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t._(),n=t.h(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xt(k.i)).A()},t}(),Br=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;v(n<i&&n>=0&&i<=10);var s=new Ci("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(zr.store)}(t),function(t){t.createObjectStore(qr.store,{keyPath:qr.keyPath}),t.createObjectStore(Hr.store,{keyPath:Hr.keyPath,autoIncrement:!0}).createIndex(Hr.userMutationsIndex,Hr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kr.store)}(t),ts(t),function(t){t.createObjectStore(Gr.store)}(t));var o=yi.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Xr.store),t.deleteObjectStore(Yr.store),t.deleteObjectStore(Jr.store)}(t),ts(t)),o=o.next(function(){return function(t){var e=t.store(Jr.store),n=new Jr(0,0,ct.min().Z(),0);return e.put(Jr.key,n)}(s)})),n<4&&i>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Hr.store).ts().next(function(n){t.deleteObjectStore(Hr.store),t.createObjectStore(Hr.store,{keyPath:Hr.keyPath,autoIncrement:!0}).createIndex(Hr.userMutationsIndex,Hr.userMutationsKeyPath,{unique:!0});var i=e.store(Hr.store),r=n.map(function(t){return i.put(t)});return yi.$n(r)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(es.store,{keyPath:es.keyPath})}(t)})),n<5&&i>=5&&(o=o.next(function(){return r.removeAcknowledgedMutations(s)})),n<6&&i>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Qr.store)}(t),r.addDocumentGlobal(s)})),n<7&&i>=7&&(o=o.next(function(){return r.ensureSequenceNumbers(s)})),n<8&&i>=8&&(o=o.next(function(){return r.createCollectionParentIndex(t,s)})),n<9&&i>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gr.store);e.createIndex(Gr.readTimeIndex,Gr.readTimeIndexPath,{unique:!1}),e.createIndex(Gr.collectionReadTimeIndex,Gr.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(o=o.next(function(){return r.rewriteCanonicalIds(s)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Gr.store).rs(function(t,n){e+=jr(n)}).next(function(){var n=new Qr(e);return t.store(Qr.store).put(Qr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(qr.store),i=t.store(Hr.store);return n.ts().next(function(n){return yi.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.ts(Hr.userMutationsIndex,r).next(function(i){return yi.forEach(i,function(i){v(i.userId===n.userId);var r=Cr(e.serializer,i);return Or(t,n.userId,r).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Xr.store),n=t.store(Gr.store);return t.store(Jr.store).get(Jr.key).next(function(t){var i=[];return n.rs(function(n,r){var s=new k(n),o=function(t){return[0,dr(t)]}(s);i.push(e.get(o).next(function(n){return n?yi.resolve():function(n){return e.put(new Xr(0,dr(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return yi.$n(i)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Zr.store,{keyPath:Zr.keyPath});var n=e.store(Zr.store),i=new Ur,r=function(t){if(i.add(t)){var e=t._(),r=t.h();return n.put({collectionId:e,parent:dr(r)})}};return e.store(Gr.store).rs({ss:!0},function(t,e){var n=new k(t);return r(n.h())}).next(function(){return e.store(Kr.store).rs({ss:!0},function(t,e){var n=mr(t[1]);return r(n.h())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Yr.store);return n.rs(function(t,i){var r=Tr(i),s=kr(e.serializer,r);return n.put(s)})},t}(),Vr=function(t,e){this.seconds=t,this.nanoseconds=e},zr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zr.store="owner",zr.key="owner";var qr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};qr.store="mutationQueues",qr.keyPath="userId";var Hr=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Hr.store="mutations",Hr.keyPath="batchId",Hr.userMutationsIndex="userMutationsIndex",Hr.userMutationsKeyPath=["userId","batchId"];var Kr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,dr(e)]},t.key=function(t,e,n){return[t,dr(e),n]},t}();Kr.store="documentMutations",Kr.PLACEHOLDER=new Kr;var Wr=function(t,e){this.path=t,this.readTime=e},$r=function(t,e){this.path=t,this.version=e},Gr=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};Gr.store="remoteDocuments",Gr.readTimeIndex="readTimeIndex",Gr.readTimeIndexPath="readTime",Gr.collectionReadTimeIndex="collectionReadTimeIndex",Gr.collectionReadTimeIndexPath=["parentPath","readTime"];var Qr=function(t){this.byteSize=t};Qr.store="remoteDocumentGlobal",Qr.key="remoteDocumentGlobalKey";var Yr=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};Yr.store="targets",Yr.keyPath="targetId",Yr.queryTargetsIndexName="queryTargetsIndex",Yr.queryTargetsKeyPath=["canonicalId","targetId"];var Xr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xr.store="targetDocuments",Xr.keyPath=["targetId","path"],Xr.documentTargetsIndex="documentTargetsIndex",Xr.documentTargetsKeyPath=["path","targetId"];var Jr=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var Zr=function(t,e){this.collectionId=t,this.parent=e};function ts(t){t.createObjectStore(Xr.store,{keyPath:Xr.keyPath}).createIndex(Xr.documentTargetsIndex,Xr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Yr.store,{keyPath:Yr.keyPath}).createIndex(Yr.queryTargetsIndexName,Yr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Jr.store)}Zr.store="collectionParents",Zr.keyPath=["collectionId","parent"];var es=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};es.store="clientMetadata",es.keyPath="clientId";var ns=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([qr.store,Hr.store,Kr.store,Gr.store,Yr.store,zr.store,Jr.store,Xr.store],[es.store]),[Qr.store]),[Zr.store]),is=function(){function t(){this.la=new Ur}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var i=e._(),r=e.h();t.pr(function(){n.la.add(e)});var s={collectionId:i,parent:dr(r)};return rs(t).put(s)}return yi.resolve()},t.prototype.Qr=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return rs(t).ts(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(mr(s.parent))}return n})},t}();function rs(t){return ds.Qn(t,Zr.store)}var ss=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),os=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next(function(n){var i=new ss(n.highestTargetId);return n.highestTargetId=i.next(),e.Ta(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ea=function(t){return this.ma(t).next(function(t){return ct.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ia=function(t){return this.ma(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Aa=function(t,e,n){var i=this;return this.ma(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.Z()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Ta(t,r)})},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next(function(){return n.ma(t).next(function(i){return i.targetCount+=1,n.Pa(e,i),n.Ta(t,i)})})},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next(function(){return as(t).delete(e.targetId)}).next(function(){return n.ma(t)}).next(function(e){return v(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)})},t.prototype.po=function(t,e,n){var i=this,r=0,s=[];return as(t).rs(function(o,a){var c=Tr(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,s.push(i.Va(t,c)))}).next(function(){return yi.$n(s)}).next(function(){return r})},t.prototype.Ce=function(t,e){return as(t).rs(function(t,n){var i=Tr(n);e(i)})},t.prototype.ma=function(t){return cs(t).get(Jr.key).next(function(t){return v(null!==t),t})},t.prototype.Ta=function(t,e){return cs(t).put(Jr.key,e)},t.prototype.ga=function(t,e){return as(t).put(kr(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next(function(t){return t.targetCount})},t.prototype.va=function(t,e){var n=ft(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return as(t).rs({range:i,index:Yr.queryTargetsIndexName},function(t,n,i){var s=Tr(n);mt(e,s.target)&&(r=s,i.done())}).next(function(){return r})},t.prototype.Sa=function(t,e,n){var i=this,r=[],s=ls(t);return e.forEach(function(e){var o=dr(e.path);r.push(s.put(new Xr(n,o))),r.push(i.No.Da(t,n,e))}),yi.$n(r)},t.prototype.Ca=function(t,e,n){var i=this,r=ls(t);return yi.forEach(e,function(e){var s=dr(e.path);return yi.$n([r.delete([n,s]),i.No.Na(t,n,e)])})},t.prototype.pa=function(t,e){var n=ls(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=ls(t),r=Lt();return i.rs({range:n,ss:!0},function(t,e,n){var i=mr(t[1]),s=new O(i);r=r.add(s)}).next(function(){return r})},t.prototype.Ho=function(t,e){var n=dr(e.path),i=IDBKeyRange.bound([n],[J(n)],!1,!0),r=0;return ls(t).rs({index:Xr.documentTargetsIndex,ss:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.Ue=function(t,e){return as(t).get(e).next(function(t){return t?Tr(t):null})},t}();function as(t){return ds.Qn(t,Yr.store)}function cs(t){return ds.Qn(t,Jr.store)}function ls(t){return ds.Qn(t,Xr.store)}var us="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hs=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jo=e,i.xa=n,i}return i.__extends(e,t),e}(ir),ds=function(){function t(e,n,i,r,s,o,a,c,l,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.fn=s,this.window=o,this.document=a,this.$a=l,this.ka=d,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ms(this,r),this.Wa=n+"main",this.serializer=new gr(c),this.ja=new vi(this.Wa,10,new Br(this.serializer)),this.Ka=new os(this.No,this.serializer),this.Dr=new is,this.vr=function(t,e){return new Dr(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===d&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof hs)return vi.Qn(t.jo,e);throw y()},t.prototype.start=function(){var t=this;return this.za().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(u.FAILED_PRECONDITION,us);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ka.Ia(e)})}).then(function(e){t.Ma=new zi(e,t.$a)}).then(function(){t.Oa=!0}).catch(function(e){return t.ja&&t.ja.close(),Promise.reject(e)})},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return this.Ei?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn(function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fs(e).put(new es(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ec(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.Qa(!1)}))})}).next(function(){return t.nc(e)}).next(function(n){return t.isPrimary&&!n?t.sc(e).next(function(){return!1}):!!n&&t.ic(e).next(function(){return!0})})}).catch(function(e){if(Si(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.Qa(e)}),t.isPrimary=e})},t.prototype.ec=function(t){var e=this;return ps(t).get(zr.key).next(function(t){return yi.resolve(e.rc(t))})},t.prototype.oc=function(t){return fs(t).delete(this.clientId)},t.prototype.ac=function(){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,s=this;return i.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Qn(e,es.store);return n.ts().next(function(t){var e=s.uc(t,18e5),i=t.filter(function(t){return-1===e.indexOf(t)});return yi.forEach(i,function(t){return n.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(e=i.sent(),this.Ga)for(n=0,r=e;n<r.length;n++)this.Ga.removeItem(this.hc(r[n].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return t.za().then(function(){return t.ac()}).then(function(){return t.Ja()})})},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?yi.resolve(!0):ps(t).get(zr.key).next(function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(u.FAILED_PRECONDITION,us);return!1}}return!(!e.networkEnabled||!e.inForeground)||fs(t).ts().next(function(t){return void 0===e.uc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Di=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[zr.store,es.store],function(e){var n=new hs(e,zi.ai);return t.sc(n).next(function(){return t.oc(n)})})];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}})})},t.prototype.uc=function(t,e){var n=this;return t.filter(function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)})},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fs(e).ts().next(function(e){return t.uc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return xr.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var i,r=this;return f("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",ns,function(s){return i=new hs(s,r.Ma?r.Ma.next():zi.ai),"readwrite-primary"===e?r.ec(i).next(function(t){return!!t||r.nc(i)}).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs(function(){return r.Qa(!1)}),new h(u.FAILED_PRECONDITION,nr);return n(i)}).next(function(t){return r.ic(i).next(function(){return t})}):r.Ac(i).next(function(){return n(i)})}).then(function(t){return i.br(),t})},t.prototype.Ac=function(t){var e=this;return ps(t).get(zr.key).next(function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(u.FAILED_PRECONDITION,us)})},t.prototype.ic=function(t){var e=new zr(this.clientId,this.allowTabSynchronization,Date.now());return ps(t).put(zr.key,e)},t.Ln=function(){return vi.Ln()},t.prototype.sc=function(t){var e=this,n=ps(t);return n.get(zr.key).next(function(t){return e.rc(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(zr.key)):yi.resolve()})},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws(function(){return e.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return m("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(i){m("Failed to set zombie client id.",i)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(i){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ps(t){return ds.Qn(t,zr.store)}function fs(t){return ds.Qn(t,es.store)}var ms=function(){function t(t,e){this.db=t,this.wo=new hr(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Rc=function(t){var e=0;return this.Vo(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,function(t,n){return e(n)})},t.prototype.Da=function(t,e,n){return gs(t,n)},t.prototype.Na=function(t,e,n){return gs(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return gs(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Pr(t).os(function(i){return Er(t,i,e).next(function(t){return t&&(n=!0),yi.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.bo=function(t,e){var n=this,i=this.db.Ec().ra(),r=[],s=0;return this.gc(t,function(o,a){if(a<=e){var c=n.Pc(t,o).next(function(e){if(!e)return s++,i.Rr(t,o).next(function(){return i.Ar(o),ls(t).delete([0,dr(o.path)])})});r.push(c)}}).next(function(){return yi.$n(r)}).next(function(){return i.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return gs(t,e)},t.prototype.gc=function(t,e){var n,i=ls(t),r=zi.ai;return i.rs({index:Xr.documentTargetsIndex},function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==zi.ai&&e(new O(mr(n)),r),r=o,n=s):r=zi.ai}).next(function(){r!==zi.ai&&e(new O(mr(n)),r)})},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function gs(t,e){return ls(t).put(function(t,e){return new Xr(0,dr(t.path),e)}(e,t.xa))}function bs(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ys=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Ct(Y),this.vc=new ot(function(t){return ft(t)},mt),this.Sc=ct.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new rr(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.vo(n,e.bc)})},t}();function vs(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.Dc.ra({oa:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=yi.resolve();return s.forEach(function(t){o=o.next(function(){return i.Rr(e,t)}).next(function(e){var s=e,o=n.dr.get(t);v(null!==o),(!s||s.version.L(o)<0)&&(s=r.cr(t,s,n))&&i.Er(s,n._r)})}),o.next(function(){return t.Sr.Wo(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Cc.kr(t,i)})})}function _s(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ka.Ea(t)})}function ws(t,e){var n=_(t),i=e.nt,r=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Dc.ra({oa:!0});r=n.bc;var o=[];e.zt.forEach(function(e,s){var a=r.get(s);if(a){o.push(n.Ka.Ca(t,e.se,s).next(function(){return n.Ka.Sa(t,e.ee,s)}));var c=e.resumeToken;if(c.O()>0){var l=a.it(c,i).st(t.xa);r=r.ot(s,l),function(t,e,n){return v(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,l,e)&&o.push(n.Ka.ya(t,l))}}});var a=It(),c=Lt();if(e.Yt.forEach(function(t,e){c=c.add(t)}),o.push(s.getEntries(t,c).next(function(r){e.Yt.forEach(function(c,l){var u=r.get(c);l instanceof Nn&&l.version.isEqual(ct.min())?(s.Ar(c,i),a=a.ot(c,l)):null==u||l.version.L(u.version)>0||0===l.version.L(u.version)&&u.hasPendingWrites?(s.Er(l,i),a=a.ot(c,l)):f("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version),e.Jt.has(c)&&o.push(n.persistence.No.yc(t,c))})})),!i.isEqual(ct.min())){var l=n.Ka.Ea(t).next(function(e){return n.Ka.Aa(t,t.xa,i)});o.push(l)}return yi.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Cc.Mr(t,a)})}).then(function(t){return n.bc=r,t})}function Ss(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)})}function Cs(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.Ka.va(t,e).next(function(r){return r?yi.resolve(i=r):n.Ka.wa(t).next(function(r){return i=new vt(e,r,0,t.xa),n.Ka.Ra(t,i).next(function(){return i})})})}).then(function(t){var i=n.bc.get(t.targetId);return(null===i||t.nt.L(i.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t})}function Ts(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:r=_(t),s=r.bc.get(e),o=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.No.removeTarget(t,s)})];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Si(a=i.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(s.target),[2]}})})}function ks(t,e,n){var i=_(t),r=ct.min(),s=Lt();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=_(t),r=i.vc.get(n);return void 0!==r?yi.resolve(i.bc.get(r)):i.Ka.va(e,n)}(i,t,Kn(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.Ka.Fa(t,e.targetId).next(function(t){s=t})}).next(function(){return i.Vc.Lr(t,e,n?r:ct.min(),n?s:Lt())}).next(function(t){return{documents:t,Fc:s}})})}function xs(t,e){var n=_(t),i=_(n.Ka),r=n.bc.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.Ue(t,e).next(function(t){return t?t.target:null})})}function Es(t){var e=_(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=_(t),r=It(),s=vr(n),o=Lr(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:Gr.readTimeIndex,range:a},function(t,e){var n=br(i.serializer,e);r=r.ot(n.key,n),s=e.readTime}).next(function(){return{xc:r,readTime:_r(s)}})}(e.Dc,t,e.Sc)}).then(function(t){var n=t.xc;return e.Sc=t.readTime,n})}function Os(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){return[2,(e=_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Lr(t),n=ct.min();return e.rs({index:Gr.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=_r(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.Sc=t})]})})}function Is(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==nr)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]})})}var As=function(){function t(){this.$c=new xt(Ps.kc),this.Mc=new xt(Ps.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Ps(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach(function(t){return n.Da(t,e)})},t.prototype.Na=function(t,e){this.Bc(new Ps(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach(function(t){return n.Na(t,e)})},t.prototype.Uc=function(t){var e=this,n=new O(new k([])),i=new Ps(n,t),r=new Ps(n,t+1),s=[];return this.Mc.Ft([i,r],function(t){e.Bc(t),s.push(t.key)}),s},t.prototype.Qc=function(){var t=this;this.$c.forEach(function(e){return t.Bc(e)})},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new O(new k([])),n=new Ps(e,t),i=new Ps(e,t+1),r=Lt();return this.Mc.Ft([n,i],function(t){r=r.add(t.key)}),r},t.prototype.Ho=function(t){var e=new Ps(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Ps=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return O.i(t.key,e.key)||Y(t.jc,e.jc)},t.Oc=function(t,e){return Y(t.jc,e.jc)||O.i(t.key,e.key)},t}(),Ds=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Rs=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Vi.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Ns=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Vi.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then(function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.Zc!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new Ds(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Vi(t)},t}(),Ls=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Vi.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Fs=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ls(this.eu,this.nu))},t.prototype.Hc=function(t){t(Vi.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),js=function(){function t(t,e,n,i,r,s){this.fn=t,this.su=n,this.iu=i,this.ru=r,this.listener=s,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new bi(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return t.fu()}))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.uu()?[2,this.close(0)]:[2]})})},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===u.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then(function(e){t.ou===n&&t.Iu(e)},function(n){e(function(){var e=new h(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)})})},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu(function(){n(function(){return e.state=2,e.listener.gu()})}),this.stream.Tu(function(t){n(function(){return e.Au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn(function(){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Au=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws(function(){return e.ou===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ms=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).serializer=r,o}return i.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.Qe?(v(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?u.UNKNOWN:St(t.code);return new h(e,t.message||"")}(o);n=new Kt(i,r,s,a||null)}else if("documentChange"in e){var c=e.documentChange,l=Ie(t,c.document.name),d=ke(c.document.updateTime),p=new In({mapValue:{fields:c.document.fields}}),f=new Rn(l,d,p,{});n=new qt(c.targetIds||[],c.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var m=e.documentDelete,g=Ie(t,m.document),b=m.readTime?ke(m.readTime):ct.min(),_=new Nn(g,b);n=new qt([],m.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var w=e.documentRemove,S=Ie(t,w.document);n=new qt([],w.removedTargetIds||[],S,null)}else{if(!("filter"in e))return y();var C=e.filter,T=new _t(C.count||0);n=new Ht(C.targetId,T)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ct.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ct.min():e.readTime?ke(e.readTime):ct.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=De(this.serializer),e.addTarget=function(t,e){var n,i=e.target;return(n=gt(i)?{documents:je(t,i)}:{query:Me(t,i)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=Ce(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=De(this.serializer),e.removeTarget=t,this.du(e)},e}(js),Us=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).serializer=r,o.bu=!1,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map(function(t){return function(t,e){var n=ke(t.updateTime?t.updateTime:e);n.isEqual(ct.min())&&(n=ke(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new dn(n,i)}(t,e)})):[]}(t.writeResults,t.commitTime),n=ke(t.commitTime);return this.listener.Du(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=De(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Le(e.serializer,t)})};this.du(n)},e}(js),Bs=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.iu=n,r.serializer=i,r.Fu=!1,r}return i.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var i=this;return this.xu(),this.credentials.getToken().then(function(r){return i.iu.$u(t,e,n,r)}).catch(function(t){throw t.code===u.UNAUTHENTICATED&&i.credentials.zc(),t})},e.prototype.ku=function(t,e,n){var i=this;return this.xu(),this.credentials.getToken().then(function(r){return i.iu.ku(t,e,n,r)}).catch(function(t){throw t.code===u.UNAUTHENTICATED&&i.credentials.zc(),t})},e.prototype.terminate=function(){this.Fu=!1},e}(function(){}),Vs=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()}))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(m(e),this.Lu=!1):f("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),zs=function(t,e,n,r,s){var o=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=s,this.Xu.Zu(function(t){n.ws(function(){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return Js(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(4),[4,Hs(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,qs(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.th=new Vs(n,r)};function qs(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(i){switch(i.label){case 0:if(!Js(t))return[3,4];e=0,n=t.Ju,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hs(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(i){switch(i.label){case 0:e=0,n=t.Ju,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ks(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return e=_(t),f("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Hs(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}})})}function Ws(t,e){var n=_(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Xs(n)?Ys(n):fo(n).uu()&&Gs(n,e))}function $s(t,e){var n=_(t),i=fo(n);n.Hu.delete(e),i.uu()&&Qs(n,e),0===n.Hu.size&&(i.uu()?i._u():Js(n)&&n.th.set("Unknown"))}function Gs(t,e){t.eh.Ie(e.targetId),fo(t).Vu(e)}function Qs(t,e){t.eh.Ie(e),fo(t).pu(e)}function Ys(t){t.eh=new $t({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),fo(t).start(),t.th.Bu()}function Xs(t){return Js(t)&&!fo(t).cu()&&t.Hu.size>0}function Js(t){return 0===_(t).Yu.size}function Zs(t){t.eh=void 0}function to(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return t.Hu.forEach(function(e,n){Gs(t,e)}),[2]})})}function eo(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){return Zs(t),Xs(t)?(t.th.Qu(e),Ys(t)):t.th.set("Unknown"),[2]})})}function no(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o;return i.__generator(this,function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof Kt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o;return i.__generator(this,function(i){switch(i.label){case 0:n=e.cause,r=0,s=e.targetIds,i.label=1;case 1:return r<s.length?t.Hu.has(o=s[r])?[4,t.Gu.nh(o,n)]:[3,3]:[3,5];case 2:i.sent(),t.Hu.delete(o),t.eh.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),f("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,io(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qt?t.eh.be(e):e instanceof Ht?t.eh.$e(e):t.eh.De(e),n.isEqual(ct.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_s(t.ju)];case 8:return s=a.sent(),n.L(s)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach(function(n,i){if(n.resumeToken.O()>0){var r=t.Hu.get(i);r&&t.Hu.set(i,r.it(n.resumeToken,e))}}),n.Ht.forEach(function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Qs(t,e);var i=new vt(n.target,e,1,n.sequenceNumber);Gs(t,i)}}),t.Gu.sh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,io(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function io(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r=this;return i.__generator(this,function(s){switch(s.label){case 0:if(!Si(e))throw e;return t.Yu.add(1),[4,Hs(t)];case 1:return s.sent(),t.th.set("Offline"),n||(n=function(){return _s(t.ju)}),t.cs.Cs(function(){return i.__awaiter(r,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,qs(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ro(t,e){return e().catch(function(n){return io(t,n,e)})}function so(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,s,o;return i.__generator(this,function(i){switch(i.label){case 0:e=_(t),n=mo(e),r=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return Js(t)&&t.zu.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Ss(e.ju,r)];case 3:return null===(s=i.sent())?(0===e.zu.length&&n._u(),[3,7]):(r=s.batchId,function(t,e){t.zu.push(e);var n=mo(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,s),[3,6]);case 4:return o=i.sent(),[4,io(e,o)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return oo(e)&&ao(e),[2]}})})}function oo(t){return Js(t)&&!mo(t).cu()&&t.zu.length>0}function ao(t){mo(t).start()}function co(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return mo(t).Nu(),[2]})})}function lo(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r;return i.__generator(this,function(i){for(e=mo(t),n=0,r=t.zu;n<r.length;n++)e.Su(r[n].mutations);return[2]})})}function uo(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s;return i.__generator(this,function(i){switch(i.label){case 0:return r=t.zu.shift(),s=tr.from(r,e,n),[4,ro(t,function(){return t.Gu.ih(s)})];case 1:return i.sent(),[4,so(t)];case 2:return i.sent(),[2]}})})}function ho(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return e&&mo(t).vu?[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(i){switch(i.label){case 0:return wt(r=e.code)&&r!==u.ABORTED?(n=t.zu.shift(),mo(t).lu(),[4,ro(t,function(){return t.Gu.rh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,so(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return oo(t)&&ao(t),[2]}})})}function po(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(i){switch(i.label){case 0:return n=_(t),e?(n.Yu.delete(2),[4,qs(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Hs(n)]);case 3:i.sent(),n.th.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function fo(t){var e=this;return t.oh||(t.oh=function(t,e,n){var i=_(t);return i.xu(),new Ms(e,i.iu,i.credentials,i.serializer,n)}(t.Ku,t.cs,{gu:to.bind(null,t),Tu:eo.bind(null,t),yu:no.bind(null,t)}),t.Ju.push(function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return n?(t.oh.lu(),Xs(t)?Ys(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Zs(t),e.label=3;case 3:return[2]}})})})),t.oh}function mo(t){var e=this;return t.ah||(t.ah=function(t,e,n){var i=_(t);return i.xu(),new Us(e,i.iu,i.credentials,i.serializer,n)}(t.Ku,t.cs,{gu:co.bind(null,t),Tu:ho.bind(null,t),Cu:lo.bind(null,t),Du:uo.bind(null,t)}),t.Ju.push(function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,so(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(f("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}})})})),t.ah}var go=function(t){this.key=t},bo=function(t){this.key=t},yo=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Lt(),this.Wt=Lt(),this._h=Zn(t),this.fh=new Mt(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,i=e?e.mh:new Ut,r=e?e.fh:this.fh,s=e?e.Wt:this.Wt,o=r,a=!1,c=Un(this.query)&&r.size===this.query.limit?r.last():null,l=Bn(this.query)&&r.size===this.query.limit?r.first():null;if(t.ht(function(t,e){var u=r.get(t),h=e instanceof Rn?e:null;h&&(h=Jn(n.query,h)?h:null);var d=!!u&&n.Wt.has(u.key),p=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),f=!1;u&&h?u.data().isEqual(h.data())?d!==p&&(i.track({type:3,doc:h}),f=!0):n.Th(u,h)||(i.track({type:2,doc:h}),f=!0,(c&&n._h(h,c)>0||l&&n._h(h,l)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),f=!0):u&&!h&&(i.track({type:1,doc:u}),f=!0,(c||l)&&(a=!0)),f&&(h?(o=o.add(h),s=p?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Un(this.query)||Bn(this.query))for(;o.size>this.query.limit;){var u=Un(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{fh:o,mh:i,Eh:a,Wt:s}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var i=this,r=this.fh;this.fh=t.fh,this.Wt=t.Wt;var s=t.mh.Ut();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||i._h(t.doc,e.doc)}),this.Ih(n);var o=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,c=a!==this.hh;return this.hh=a,0!==s.length||c?{snapshot:new Bt(this.query,t.fh,r,s,t.Wt,0===a,c,!1),Rh:o}:{Rh:o}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Ut,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uh=e.uh.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uh=e.uh.delete(t)}),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Lt(),this.fh.forEach(function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))});var n=[];return e.forEach(function(e){t.lh.has(e)||n.push(new bo(e))}),this.lh.forEach(function(t){e.has(t)||n.push(new go(t))}),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Lt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Bt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),vo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_o=function(t){this.key=t,this.Vh=!1},wo=function(){function t(t,e,n,i,r,s){this.ju=t,this.ph=e,this.bh=n,this.Sh=i,this.currentUser=r,this.Dh=s,this.Ch={},this.Nh=new ot(function(t){return Yn(t)},Qn),this.Fh=new Map,this.xh=[],this.$h=new Ct(O.i),this.kh=new Map,this.Mh=new As,this.Oh={},this.Lh=new Map,this.Bh=ss.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function So(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:return n=Go(t),(s=n.Nh.get(e))?(n.Sh.Oi(s.targetId),r=s.view.yh(),[3,4]):[3,1];case 1:return[4,Cs(n.ju,Kn(e))];case 2:return o=i.sent(),a=n.Sh.Oi(o.targetId),[4,Co(n,e,o.targetId,"current"===a)];case 3:r=i.sent(),n.Uh&&Ws(n.ph,o),i.label=4;case 4:return[2,r]}})})}function Co(t,e,n,r){return i.__awaiter(this,void 0,void 0,function(){var s,o,a,c,l,u;return i.__generator(this,function(h){switch(h.label){case 0:return t.Qh=function(e,n,r){return function(t,e,n,r){return i.__awaiter(this,void 0,void 0,function(){var s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:return(s=e.view.wh(n)).Eh?[4,ks(t.ju,e.query,!1).then(function(t){return e.view.wh(t.documents,s)})]:[3,2];case 1:s=i.sent(),i.label=2;case 2:return o=r&&r.zt.get(e.targetId),a=e.view.yr(s,t.Uh,o),[2,(No(t,e.targetId,a.Rh),a.snapshot)]}})})}(t,e,n,r)},[4,ks(t.ju,e,!0)];case 1:return s=h.sent(),o=new yo(e,s.Fc),a=o.wh(s.documents),c=zt.Zt(n,r&&"Offline"!==t.onlineState),l=o.yr(a,t.Uh,c),No(t,n,l.Rh),u=new vo(e,n,o),[2,(t.Nh.set(e,u),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),l.snapshot)]}})})}function To(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s;return i.__generator(this,function(i){switch(i.label){case 0:return n=_(t),r=n.Nh.get(e),(s=n.Fh.get(r.targetId)).length>1?[2,(n.Fh.set(r.targetId,s.filter(function(t){return!Qn(t,e)})),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,Ts(n.ju,r.targetId,!1).then(function(){n.Sh.Ui(r.targetId),$s(n.ph,r.targetId),Do(n,r.targetId)}).catch(Is)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Do(n,r.targetId),[4,Ts(n.ju,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})}function ko(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(i){switch(i.label){case 0:n=_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ws(n.ju,e)];case 2:return r=i.sent(),e.zt.forEach(function(t,e){var i=n.kh.get(e);i&&(v(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?i.Vh=!0:t.ne.size>0?v(i.Vh):t.se.size>0&&(v(i.Vh),i.Vh=!1))}),[4,jo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Is(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xo(t,e,n){var i=_(t);if(i.Uh&&0===n||!i.Uh&&1===n){var r=[];i.Nh.forEach(function(t,n){var i=n.view.Qs(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=_(t);n.onlineState=e;var i=!1;n.Bs.forEach(function(t,n){for(var r=0,s=n.listeners;r<s.length;r++)s[r].Qs(e)&&(i=!0)}),i&&Ui(n)}(i.bh,e),r.length&&i.Ch.yu(r),i.onlineState=e,i.Uh&&i.Sh.Ki(e)}}function Eo(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a,c,l;return i.__generator(this,function(i){switch(i.label){case 0:return(r=_(t)).Sh.Qi(e,"rejected",n),s=r.kh.get(e),(o=s&&s.key)?(a=(a=new Ct(O.i)).ot(o,new Nn(o,ct.min())),c=Lt().add(o),l=new Vt(ct.min(),new Map,new xt(Y),a,c),[4,ko(r,l)]):[3,2];case 1:return i.sent(),r.$h=r.$h.remove(o),r.kh.delete(e),Fo(r),[3,4];case 2:return[4,Ts(r.ju,e,!1).then(function(){return Do(r,e,n)}).catch(Is)];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function Oo(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s;return i.__generator(this,function(i){switch(i.label){case 0:n=_(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vs(n.ju,e)];case 2:return s=i.sent(),Po(n,r,null),Ao(n,r),n.Sh.ki(r,"acknowledged"),[4,jo(n,s)];case 3:return i.sent(),[3,6];case 4:return[4,Is(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Io(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s;return i.__generator(this,function(i){switch(i.label){case 0:r=_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n.Sr.Oo(t,e).next(function(e){return v(null!==e),i=e.keys(),n.Sr.Wo(t,e)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Cc.kr(t,i)})})}(r.ju,e)];case 2:return s=i.sent(),Po(r,e,n),Ao(r,e),r.Sh.ki(e,"rejected",n),[4,jo(r,s)];case 3:return i.sent(),[3,6];case 4:return[4,Is(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ao(t,e){(t.Lh.get(e)||[]).forEach(function(t){t.resolve()}),t.Lh.delete(e)}function Po(t,e,n){var i=_(t),r=i.Oh[i.currentUser.ti()];if(r){var s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Oh[i.currentUser.ti()]=r}}function Do(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var i=0,r=t.Fh.get(e);i<r.length;i++){var s=r[i];t.Nh.delete(s),n&&t.Ch.Wh(s,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach(function(e){t.Mh.Ho(e)||Ro(t,e)})}function Ro(t,e){var n=t.$h.get(e);null!==n&&($s(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Fo(t))}function No(t,e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof go?(t.Mh.Da(s.key,e),Lo(t,s)):s instanceof bo?(f("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Na(s.key,e),t.Mh.Ho(s.key)||Ro(t,s.key)):y()}}function Lo(t,e){var n=e.key;t.$h.get(n)||(f("SyncEngine","New document in limbo: "+n),t.xh.push(n),Fo(t))}function Fo(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new _o(e)),t.$h=t.$h.ot(e,n),Ws(t.ph,new vt(Kn(Mn(e.path)),n,2,zi.ai))}}function jo(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return i.__generator(this,function(c){switch(c.label){case 0:return r=_(t),s=[],o=[],a=[],r.Nh.m()?[3,3]:(r.Nh.forEach(function(t,i){a.push(r.Qh(i,e,n).then(function(t){if(t){r.Uh&&r.Sh.Qi(i.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=sr.zr(i.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.Ch.yu(s),[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a,c,l,u;return i.__generator(this,function(i){switch(i.label){case 0:n=_(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return yi.forEach(e,function(e){return yi.forEach(e.Kr,function(i){return n.persistence.No.Da(t,e.targetId,i)}).next(function(){return yi.forEach(e.Gr,function(i){return n.persistence.No.Na(t,e.targetId,i)})})})})];case 2:return i.sent(),[3,4];case 3:if(!Si(r=i.sent()))throw r;return f("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(s=0,o=e;s<o.length;s++)c=(a=o[s]).targetId,a.fromCache||(l=n.bc.get(c),u=l.rt(l.nt),n.bc=n.bc.ot(c,u));return[2]}})})}(r.ju,o)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function Mo(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(s){switch(s.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(f("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o;return i.__generator(this,function(i){switch(i.label){case 0:return n=_(t),r=n.Sr,s=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var i;return n.Sr.Uo(t).next(function(o){return i=o,r=n.persistence.mc(e),s=new rr(n.Dc,r,n.persistence.Ic()),r.Uo(t)}).next(function(e){for(var n=[],r=[],o=Lt(),a=0,c=i;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];r.push(f.batchId);for(var m=0,g=f.mutations;m<g.length;m++)o=o.add(g[m].key)}return s.kr(t,o).next(function(t){return{jh:t,Kh:n,Gh:r}})})})];case 1:return o=i.sent(),[2,(n.Sr=r,n.Cc=s,n.Vc.Nc(n.Cc),o)]}})})}(n.ju,e)]);case 1:return r=s.sent(),n.currentUser=e,function(t,e){t.Lh.forEach(function(t){t.forEach(function(t){t.reject(new h(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lh.clear()}(n),n.Sh.ji(e,r.Kh,r.Gh),[4,jo(n,r.jh)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Uo(t,e){var n=_(t),i=n.kh.get(e);if(i&&i.Vh)return Lt().add(i.key);var r=Lt(),s=n.Fh.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var c=n.Nh.get(a[o]);r=r.kt(c.view.dh)}return r}function Bo(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s;return i.__generator(this,function(i){switch(i.label){case 0:return[4,ks((n=_(t)).ju,e.query,!0)];case 1:return r=i.sent(),s=e.view.Ph(r),[2,(n.Uh&&No(n,e.targetId,s.Rh),s)]}})})}function Vo(t,e,n,r){return i.__awaiter(this,void 0,void 0,function(){var s,o;return i.__generator(this,function(i){switch(i.label){case 0:return[4,function(t,e){var n=_(t),i=_(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.Lo(t,e).next(function(e){return e?n.Cc.kr(t,e):yi.resolve(null)})})}((s=_(t)).ju,e)];case 1:return null===(o=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,so(s.ph)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Po(s,e,r||null),Ao(s,e),function(t,e){_(_(t).Sr).Ko(e)}(s.ju,e)):y(),i.label=4;case 4:return[4,jo(s,o)];case 5:return i.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}})})}function zo(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a,c,l;return i.__generator(this,function(i){switch(i.label){case 0:return Go(n=_(t)),Qo(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.Ci(),[4,qo(n,r.A())]);case 1:return s=i.sent(),n.qh=!0,[4,po(n.ph,!0)];case 2:for(i.sent(),o=0,a=s;o<a.length;o++)Ws(n.ph,a[o]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(c=[],l=Promise.resolve(),n.Fh.forEach(function(t,e){n.Sh.qi(e)?c.push(e):l=l.then(function(){return Do(n,e),Ts(n.ju,e,!0)}),$s(n.ph,e)}),[4,l]);case 4:return i.sent(),[4,qo(n,c)];case 5:return i.sent(),function(t){var e=_(t);e.kh.forEach(function(t,n){$s(e.ph,n)}),e.Mh.Qc(),e.kh=new Map,e.$h=new Ct(O.i)}(n),n.qh=!1,[4,po(n.ph,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}})})}function qo(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a,c,l,u,h,d,p,f,m;return i.__generator(this,function(i){switch(i.label){case 0:n=_(t),r=[],s=[],o=0,a=e,i.label=1;case 1:return o<a.length?(l=void 0,(u=n.Fh.get(c=a[o]))&&0!==u.length?[4,Cs(n.ju,Kn(u[0]))]:[3,7]):[3,13];case 2:l=i.sent(),h=0,d=u,i.label=3;case 3:return h<d.length?(p=n.Nh.get(d[h]),[4,Bo(n,p)]):[3,6];case 4:(f=i.sent()).snapshot&&s.push(f.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,xs(n.ju,c)];case 8:return m=i.sent(),[4,Cs(n.ju,m)];case 9:return l=i.sent(),[4,Co(n,Ho(m),c,!1)];case 10:i.sent(),i.label=11;case 11:r.push(l),i.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.yu(s),r)]}})})}function Ho(t){return jn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ko(t){var e=_(t);return _(_(e.ju).persistence).pi()}function Wo(t,e,n,r){return i.__awaiter(this,void 0,void 0,function(){var s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:return(s=_(t)).qh?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Es(s.ju)];case 3:return o=i.sent(),a=Vt.Xt(e,"current"===n),[4,jo(s,o,a)];case 4:return i.sent(),[3,8];case 5:return[4,Ts(s.ju,e,!0)];case 6:return i.sent(),Do(s,e,r),[3,8];case 7:y(),i.label=8;case 8:return[2]}})})}function $o(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a,c,l,u,h,d;return i.__generator(this,function(p){switch(p.label){case 0:if(!(r=Go(t)).qh)return[3,10];s=0,o=e,p.label=1;case 1:return s<o.length?r.Fh.has(a=o[s])?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,xs(r.ju,a)]:[3,6];case 2:return c=p.sent(),[4,Cs(r.ju,c)];case 3:return l=p.sent(),[4,Co(r,Ho(c),l.targetId,!1)];case 4:p.sent(),Ws(r.ph,l),p.label=5;case 5:return s++,[3,1];case 6:u=function(t){return i.__generator(this,function(e){switch(e.label){case 0:return r.Fh.has(t)?[4,Ts(r.ju,t,!1).then(function(){$s(r.ph,t),Do(r,t)}).catch(Is)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,d=n,p.label=7;case 7:return h<d.length?[5,u(d[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Go(t){var e=_(t);return e.ph.Gu.sh=ko.bind(null,e),e.ph.Gu.qe=Uo.bind(null,e),e.ph.Gu.nh=Eo.bind(null,e),e.Ch.yu=ji.bind(null,e.bh),e.Ch.Wh=Mi.bind(null,e.bh),e}function Qo(t){var e=_(t);return e.ph.Gu.ih=Oo.bind(null,e),e.ph.Gu.rh=Io.bind(null,e),e}var Yo=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ct.min())?this.Hh(t,e):this.zh.kr(t,i).next(function(o){var a=r.Yh(e,o);return(Un(e)||Bn(e))&&r.Eh(e.an,a,i,n)?r.Hh(t,e):(p()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xn(e)),r.zh.Lr(t,e,n).next(function(t){return a.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Yh=function(t,e){var n=new xt(Zn(t));return e.forEach(function(e,i){i instanceof Rn&&Jn(t,i)&&(n=n.add(i))}),n},t.prototype.Eh=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.L(i)>0)},t.prototype.Hh=function(t,e){return p()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",Xn(e)),this.zh.Lr(t,e,ct.min())},t}(),Xo=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new xt(Ps.kc)}return t.prototype.$o=function(t){return yi.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,i){var r=this.Jh;this.Jh++;var s=new Zi(r,e,n,i);this.Sr.push(s);for(var o=0,a=i;o<a.length;o++){var c=a[o];this.Xh=this.Xh.add(new Ps(c.key,r)),this.Dr.Mo(t,c.key.path.h())}return yi.resolve(s)},t.prototype.Oo=function(t,e){return yi.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),i=n<0?0:n;return yi.resolve(this.Sr.length>i?this.Sr[i]:null)},t.prototype.qo=function(){return yi.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return yi.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,i=new Ps(e,0),r=new Ps(e,Number.POSITIVE_INFINITY),s=[];return this.Xh.Ft([i,r],function(t){var e=n.Zh(t.jc);s.push(e)}),yi.resolve(s)},t.prototype.Or=function(t,e){var n=this,i=new xt(Y);return e.forEach(function(t){var e=new Ps(t,0),r=new Ps(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,r],function(t){i=i.add(t.jc)})}),yi.resolve(this.el(i))},t.prototype.Wr=function(t,e){var n=e.path,i=n.length+1,r=n;O.F(r)||(r=r.child(""));var s=new Ps(new O(r),0),o=new xt(Y);return this.Xh.xt(function(t){var e=t.key.path;return!!n.T(e)&&(e.length===i&&(o=o.add(t.jc)),!0)},s),yi.resolve(this.el(o))},t.prototype.el=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.Zh(t);null!==i&&n.push(i)}),n},t.prototype.Wo=function(t,e){var n=this;v(0===this.nl(e.batchId,"removed")),this.Sr.shift();var i=this.Xh;return yi.forEach(e.mutations,function(r){var s=new Ps(r.key,e.batchId);return i=i.delete(s),n.No.Go(t,r.key)}).next(function(){n.Xh=i})},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Ps(e,0),i=this.Xh.$t(n);return yi.resolve(e.isEqual(i&&i.key))},t.prototype.zo=function(t){return yi.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Jo=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Ct(O.i),this.size=0}return t.prototype.Er=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.sl(e);return this.docs=this.docs.ot(i,{ta:e,size:o,readTime:n}),this.size+=o-s,this.Dr.Mo(t,i.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return yi.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,i=At();return e.forEach(function(t){var e=n.docs.get(t);i=i.ot(t,e?e.ta:null)}),yi.resolve(i)},t.prototype.Lr=function(t,e,n){for(var i=Dt(),r=new O(e.path.child("")),s=this.docs.ft(r);s.At();){var o=s.It(),a=o.value,c=a.ta,l=a.readTime;if(!e.path.T(o.key.path))break;l.L(n)<=0||c instanceof Rn&&Jn(e,c)&&(i=i.ot(c.key,c))}return yi.resolve(i)},t.prototype.il=function(t,e){return yi.forEach(this.docs,function(t){return e(t)})},t.prototype.ra=function(t){return new Zo(this)},t.prototype.aa=function(t){return yi.resolve(this.size)},t}(),Zo=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return i.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach(function(i,r){r?n.push(e.ca.Er(t,r,e.readTime)):e.ca.Ar(i)}),yi.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(er),ta=function(){function t(t){this.persistence=t,this.rl=new ot(function(t){return ft(t)},mt),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.ol=0,this.al=new As,this.targetCount=0,this.cl=ss.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach(function(t,n){return e(n)}),yi.resolve()},t.prototype.Ea=function(t){return yi.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return yi.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),yi.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),yi.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new ss(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,yi.resolve()},t.prototype.ya=function(t,e){return this.ga(e),yi.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,yi.resolve()},t.prototype.po=function(t,e,n){var i=this,r=0,s=[];return this.rl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.rl.delete(o),s.push(i.pa(t,a.targetId)),r++)}),yi.$n(s).next(function(){return r})},t.prototype.ba=function(t){return yi.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return yi.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),yi.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var i=this.persistence.No,r=[];return i&&e.forEach(function(e){r.push(i.Go(t,e))}),yi.$n(r)},t.prototype.pa=function(t,e){return this.al.Uc(e),yi.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return yi.resolve(n)},t.prototype.Ho=function(t,e){return yi.resolve(this.al.Ho(e))},t}(),ea=function(){function t(t){var e=this;this.ul={},this.Ma=new zi(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new ta(this),this.Dr=new Mr,this.vr=function(t,n){return new Jo(t,function(t){return e.No.hl(t)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Xo(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var i=this;f("MemoryPersistence","Starting transaction:",t);var r=new na(this.Ma.next());return this.No.ll(),n(r).next(function(t){return i.No._l(r).next(function(){return t})}).Fn().then(function(t){return r.br(),t})},t.prototype.fl=function(t,e){return yi.kn(Object.values(this.ul).map(function(n){return function(){return n.Ho(t,e)}}))},t}(),na=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return i.__extends(e,t),e}(ir),ia=function(){function t(t){this.persistence=t,this.dl=new As,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw y()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),yi.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),yi.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),yi.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach(function(t){return n.Tl.add(t.toString())});var i=this.persistence.Tc();return i.Fa(t,e.targetId).next(function(t){t.forEach(function(t){return n.Tl.add(t.toString())})}).next(function(){return i.Va(t,e)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return yi.forEach(this.Tl,function(i){var r=O.D(i);return e.El(t,r).next(function(t){t||n.Ar(r)})}).next(function(){return e.wl=null,n.apply(t)})},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next(function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())})},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return yi.kn([function(){return yi.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ra=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),sa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},oa=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return i.__extends(e,t),e.prototype.Nl=function(t,e,n,i){return new Promise(function(r,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),r(e);break;case a.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),s(new h(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=o.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var i=o.getResponseJson().error;if(i&&i.status&&i.message){var c=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}(i.status);s(new h(c,i.message))}else s(new h(u.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new h(u.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f("Connection",'RPC "'+t+'" completed.')}});var c=JSON.stringify(i);o.send(e,"POST",c,n,15)})},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=a.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(r.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");f("Connection","Creating WebChannel: "+s,r);var c=i.createWebChannel(s,r),l=!1,d=!1,p=new ra({Il:function(t){d?f("Connection","Not sending because WebChannel is closed:",t):(l||(f("Connection","Opening WebChannel transport."),c.open(),l=!0),f("Connection","WebChannel sending:",t),c.send(t))},Al:function(){return c.close()}}),m=function(t,e){c.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return m(a.WebChannel.EventType.OPEN,function(){d||f("Connection","WebChannel transport opened.")}),m(a.WebChannel.EventType.CLOSE,function(){d||(d=!0,f("Connection","WebChannel transport closed"),p.Vl())}),m(a.WebChannel.EventType.ERROR,function(t){d||(d=!0,g("Connection","WebChannel transport errored:",t),p.Vl(new h(u.UNAVAILABLE,"The operation could not be completed")))}),m(a.WebChannel.EventType.MESSAGE,function(t){var e;if(!d){var n=t.data[0];v(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=bt[t];if(void 0!==e)return St(e)}(r),o=i.message;void 0===s&&(s=u.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),d=!0,p.Vl(new h(s,o)),c.close()}else f("Connection","WebChannel received:",n),p.pl(n)}}),setTimeout(function(){p.yl()},0),p},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,i){var r=this.Dl(t,e);f("RestConnection","Sending: ",r,n);var s={};return this.Cl(s,i),this.Nl(t,r,s,n).then(function(t){return f("RestConnection","Received: ",t),t},function(e){throw g("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.ku=function(t,e,n,i){return this.$u(t,e,n,i)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+sa[t]},t}()),aa=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ca=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function la(t){return new ye(t,!0)}var ua="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ha=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}})})},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Yo,new ys(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(u.FAILED_PRECONDITION,ua);return new ea(ia.ml)},t.prototype.Ll=function(t){return new Ji},t.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}})})},t.prototype.clearPersistence=function(t,e){throw new h(u.FAILED_PRECONDITION,ua)},t}(),da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,function(){var n,r=this;return i.__generator(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Kl.fi,this.Sh instanceof Xi?(this.Sh.fi={er:Vo.bind(null,n),nr:Wo.bind(null,n),sr:$o.bind(null,n),pi:Ko.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Xa(function(t){return i.__awaiter(r,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return[4,zo(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Oi();if(!Xi.Ln(e))throw new h(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bs(t.bl.U,t.bl.persistenceKey);return new Xi(e,t.cs,n,t.clientId,t.Wl)}return new Ji},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Os(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Qo(this.Kl.fi)];case 4:return n.sent(),[4,so(this.Kl.ph)];case 5:return n.sent(),[2]}})})},e.prototype.Ul=function(t){return new ur(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=bs(t.bl.U,t.bl.persistenceKey),n=la(t.bl.U);return new ds(t.persistenceSettings.synchronizeTabs,e,t.clientId,lr.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Oi(),Ii(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Ji},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return vi.Ln()?[4,vi.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(bs(t,e))},e}(ha)),pa=function(){function t(){}return t.prototype.initialize=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n=this;return i.__generator(this,function(i){switch(i.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return xo(n.fi,t,1)},this.ph.Gu.Jl=Mo.bind(null,this.fi),[4,po(this.ph,this.fi.Uh)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.Hl=function(t){return new Ni},t.prototype.Gl=function(t){var e=la(t.bl.U),n=new oa(t.bl);return function(t,e,n){return new Bs(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,i,r,s,o=this;return e=this.ju,n=this.Ku,i=t.cs,r=function(t){return xo(o.fi,t,0)},s=aa.Ln()?new aa:new ca,new zs(e,n,i,r,s)},t.prototype.Yl=function(t){return function(t,e,n,i,r,s,o){var a=new wo(t,e,n,i,r,s);return o&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Ks(this.ph)},t}(),fa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ma=function(t){!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new h(u.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+$(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(R("FieldPath","string",e,t[e]),0===t[e].length)throw new h(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new E(t)},ga=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(E.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(ma),ba=new RegExp("[~\\*/\\[\\]]"),ya=function(t){this.e_=t},va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ya);function _a(t,e,n){return new Da({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.n_=function(t){return new hn(t.path,new en)},e.prototype.isEqual=function(t){return t instanceof e},e}(ya),Sa=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).a_=n,i}return i.__extends(e,t),e.prototype.n_=function(t){var e=_a(this,t,!0),n=this.a_.map(function(t){return Ma(t,e)}),i=new nn(n);return new hn(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ya),Ca=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).a_=n,i}return i.__extends(e,t),e.prototype.n_=function(t){var e=_a(this,t,!0),n=this.a_.map(function(t){return Ma(t,e)}),i=new sn(n);return new hn(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ya),Ta=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).c_=n,i}return i.__extends(e,t),e.prototype.n_=function(t){var e=new an(t.serializer,we(t.serializer,this.c_));return new hn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ya),ka=function(){function t(t,e){if(A("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Y(this.u_,t.u_)||Y(this.h_,t.h_)},t}(),xa=function(t){this.l_=t},Ea=/^__.*__$/,Oa=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Ia=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new Sn(t,this.data,this.We,e):new wn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Tn(t,this.fieldTransforms)),n},t}(),Aa=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new Sn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new Tn(t,this.fieldTransforms)),n},t}();function Pa(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Da=function(){function t(t,e,n,i,r,s){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.m_(),this.fieldTransforms=r||[],this.We=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.T_({path:n,o_:!1});return i.I_(t),i},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.T_({path:n,o_:!1});return i.m_(),i},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Ha(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find(function(e){return t.T(e)})||void 0!==this.fieldTransforms.find(function(e){return t.T(e.field)})},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Pa(this.s_)&&Ea.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Ra=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||la(t)}return t.prototype.P_=function(t,e,n,i){return void 0===i&&(i=!1),new Da({s_:t,methodName:e,r_:n,path:E.P(),o_:!1,g_:i},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Na(t,e,n,i,r,s){void 0===s&&(s={});var o=t.P_(s.merge||s.mergeFields?2:0,e,n,r);Va("Data must be an object, but it was:",o,i);var a,c,l=Ua(i,o);if(s.merge)a=new un(o.We),c=o.fieldTransforms;else if(s.mergeFields){for(var d=[],p=0,f=s.mergeFields;p<f.length;p++){var m=f[p],g=void 0;if(m instanceof ma)g=m.t_;else{if("string"!=typeof m)throw y();g=qa(e,m,n)}if(!o.contains(g))throw new h(u.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");Ka(d,g)||d.push(g)}a=new un(d),c=o.fieldTransforms.filter(function(t){return a.Ye(t.field)})}else a=null,c=o.fieldTransforms;return new Ia(new In(l),a,c)}function La(t,e,n,i){var r=t.P_(1,e,n);Va("Data must be an object, but it was:",r,i);var s=[],o=new An;S(i,function(t,i){var a=qa(e,t,n),c=r.A_(a);if(i instanceof va||i instanceof xa&&i.l_ instanceof va)s.push(a);else{var l=Ma(i,c);null!=l&&(s.push(a),o.set(a,l))}});var a=new un(s);return new Aa(o.Xe(),a,r.fieldTransforms)}function Fa(t,e,n,i,r,s){var o=t.P_(1,e,n),a=[za(e,i,n)],c=[r];if(s.length%2!=0)throw new h(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(za(e,s[l])),c.push(s[l+1]);for(var d=[],p=new An,f=a.length-1;f>=0;--f)if(!Ka(d,a[f])){var m=a[f],g=c[f],b=o.A_(m);if(g instanceof va||g instanceof xa&&g.l_ instanceof va)d.push(m);else{var y=Ma(g,b);null!=y&&(d.push(m),p.set(m,y))}}var v=new un(d);return new Aa(p.Xe(),v,o.fieldTransforms)}function ja(t,e,n,i){return void 0===i&&(i=!1),Ma(n,t.P_(i?4:3,e))}function Ma(t,e){if(t instanceof xa&&(t=t.l_),Ba(t))return Va("Unsupported field value:",e,t),Ua(t,e);if(t instanceof ya)return function(t,e){if(!Pa(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=Ma(s[r],e.R_(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return we(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:Se(e.serializer,n)}}if(t instanceof at){var i=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Se(e.serializer,i)}}if(t instanceof ka)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:Ce(e.serializer,t.q)};if(t instanceof Oa){var r=e.U,s=t.__;if(!s.isEqual(r))throw e.i_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:xe(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+V(t))}(t,e)}function Ua(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.We.push(e.path):S(t,function(t,i){var r=Ma(i,e.E_(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Ba(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ka||t instanceof tt||t instanceof Oa||t instanceof ya)}function Va(t,e,n){if(!Ba(n)||!B(n)){var i=V(n);throw e.i_("an object"===i?t+" a custom object":t+" "+i)}}function za(t,e,n){if(e instanceof ma)return e.t_;if("string"==typeof e)return qa(t,e);throw Ha("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function qa(t,e,n){try{return function(t){if(t.search(ba)>=0)throw new h(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ga.bind.apply(ga,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new h(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Ha((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Ha(t,e,n,i,r){var s=i&&!i.m(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+i),o&&(c+=" in document "+r),c+=")"),new h(u.INVALID_ARGUMENT,(a+=". ")+t+c)}function Ka(t,e){return t.some(function(t){return t.isEqual(e)})}var Wa=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){switch(r.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a,c;return i.__generator(this,function(i){switch(i.label){case 0:return n=_(t),r=De(n.serializer)+"/documents",s={documents:e.map(function(t){return Oe(n.serializer,t)})},[4,n.ku("BatchGetDocuments",r,s)];case 1:return o=i.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found);var n=Ie(t,e.found.name),i=ke(e.found.updateTime),r=new In({mapValue:{fields:e.found.fields}});return new Rn(n,i,r,{})}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=Ie(t,e.missing),i=ke(e.readTime);return new Nn(n,i)}(t,e):y()}(n.serializer,t);a.set(e.key.toString(),e)}),c=[],[2,(e.forEach(function(t){var e=a.get(t.toString());v(!!e),c.push(e)}),c)]}})})}(this.Ku,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Nn||t instanceof Rn?n.D_(t):y()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new En(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e=this;return i.__generator(this,function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=O.D(n);e.mutations.push(new On(i,e.Ge(i)))}),[4,function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s;return i.__generator(this,function(i){switch(i.label){case 0:return n=_(t),r=De(n.serializer)+"/documents",s={writes:e.map(function(t){return Le(n.serializer,t)})},[4,n.$u("Commit",r,s)];case 1:return i.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}})})},t.prototype.D_=function(t){var e;if(t instanceof Rn)e=t.version;else{if(!(t instanceof Nn))throw y();e=ct.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(u.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?pn.updateTime(e):pn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ct.min()))throw new h(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(e)}return pn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),$a=function(){function t(t,e,n,i){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=i,this.N_=5,this.ys=new bi(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn(function(){return i.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return i.__generator(this,function(i){return t=new Wa(this.Ku),(e=this.x_(t))&&e.then(function(e){n.cs.ws(function(){return t.commit().then(function(){n.ls.resolve(e)}).catch(function(t){n.k_(t)})})}).catch(function(t){n.k_(t)}),[2]})})})},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!lt(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws(function(){return e.F_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),Ga=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=Q.k(),this.O_=new gi}return t.prototype.start=function(t,e,n,r){var s=this;this.L_(),this.bl=t;var o=new gi,a=!1;return this.credentials.Hc(function(t){if(!a)return a=!0,f("FirestoreClient","Initializing. user=",t.uid),s.B_(e,n,r,t,o).then(s.O_.resolve,s.O_.reject);s.cs.Cs(function(){return function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(i){switch(i.label){case 0:return(n=_(t)).cs.xs(),f("RemoteStore","RemoteStore received new credentials"),r=Js(n),n.Yu.add(3),[4,Hs(n)];case 1:return i.sent(),r&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return i.sent(),n.Yu.delete(3),[4,qs(n)];case 3:return i.sent(),[2]}})})}(s.ph,t)})}),this.cs.ws(function(){return s.O_.promise}),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!0),function(t){var e=_(t);return e.Yu.delete(0),qs(e)}(t.ph)})},t.prototype.B_=function(t,e,n,r,s){return i.__awaiter(this,void 0,void 0,function(){var o,a,c=this;return i.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,t.initialize(o={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:r,Dh:100,persistenceSettings:n})];case 1:return l.sent(),[4,e.initialize(t,o)];case 2:return l.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=So.bind(null,this.fi),this.q_.js=To.bind(null,this.fi),this.persistence.Za(function(){return i.__awaiter(c,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),s.resolve(),[3,4];case 3:if(a=l.sent(),s.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new ha,new pa,{jl:!1},r,s))];case 4:return[2]}})})},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!1),function(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(0),[4,Hs(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}})})}(t.ph)})},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new gi;return this.cs.bs(function(){return i.__awaiter(t,void 0,void 0,function(){var t,n;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Ks(this.ph)];case 1:return i.sent(),[4,this.Sh.Di()];case 2:return i.sent(),[4,this.persistence.Di()];case 3:return i.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=i.sent(),n=Di(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}})})}),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new gi;return this.cs.ws(function(){return function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:Js((n=_(t)).ph)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Sr.qo(t)})}(n.ju)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((s=n.Lh.get(r)||[]).push(e),n.Lh.set(r,s),[3,4]);case 3:return o=i.sent(),a=Di(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}(t.fi,e)}),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.L_();var r=new fa(n),s=new Bi(t,r,e);return this.cs.ws(function(){return Li(i.q_,s)}),function(){r.Zl(),i.cs.ws(function(){return Fi(i.q_,s)})}},t.prototype.Q_=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new gi,[2,(this.cs.ws(function(){return function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Cc.Cr(t,e)})}(t,e)];case 1:return(r=i.sent())instanceof Rn?n.resolve(r):r instanceof Nn?n.resolve(null):n.reject(new h(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=i.sent(),o=Di(s,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(n.ju,t,e)}),e.promise)]}})})},t.prototype.W_=function(t,e){return void 0===e&&(e={}),i.__awaiter(this,void 0,void 0,function(){var n,r=this;return i.__generator(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new gi,[2,(this.cs.ws(function(){return function(t,e,n,i,r){var s=new fa({next:function(s){e.ws(function(){return Fi(t,o)});var a=s.docs.has(n);!a&&s.fromCache?r.reject(new h(u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new h(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new Bi(Mn(n.path),s,{includeMetadataChanges:!0,Xs:!0});return Li(t,o)}(r.q_,r.cs,t,e,n)}),n.promise)]}})})},t.prototype.j_=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new gi,[2,(this.cs.ws(function(){return function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a,c,l;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,ks(t,e,!0)];case 1:return r=i.sent(),s=new yo(e,r.Fc),o=s.wh(r.documents),a=s.yr(o,!1),n.resolve(a.snapshot),[3,3];case 2:return c=i.sent(),l=Di(c,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}})})}(n.ju,t,e)}),e.promise)]}})})},t.prototype.K_=function(t,e){return void 0===e&&(e={}),i.__awaiter(this,void 0,void 0,function(){var n,r=this;return i.__generator(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new gi,[2,(this.cs.ws(function(){return function(t,e,n,i,r){var s=new fa({next:function(n){e.ws(function(){return Fi(t,o)}),n.fromCache&&"server"===i.source?r.reject(new h(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),o=new Bi(n,s,{includeMetadataChanges:!0,Xs:!0});return Li(t,o)}(r.q_,r.cs,t,e,n)}),n.promise)]}})})},t.prototype.write=function(t){var e=this;this.L_();var n=new gi;return this.cs.ws(function(){return function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return i.__generator(this,function(i){switch(i.label){case 0:r=Qo(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,i=_(t),r=at.now(),s=e.reduce(function(t,e){return t.add(e.key)},Lt());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Cc.kr(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=yn(l,n.get(l.key));null!=u&&o.push(new Sn(l.key,u,Pn(u.proto.mapValue),pn.exists(!0)))}return i.Sr.ko(t,r,o,e)})}).then(function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}})}(r.ju,e)];case 2:return s=i.sent(),r.Sh.xi(s.batchId),function(t,e,n){var i=t.Oh[t.currentUser.ti()];i||(i=new Ct(Y)),i=i.ot(e,n),t.Oh[t.currentUser.ti()]=i}(r,s.batchId,n),[4,jo(r,s.wr)];case 3:return i.sent(),[4,so(r.ph)];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),a=Di(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}(e.fi,t,n)}),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new fa(t);return this.cs.ws(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){return[2,function(t,e){_(t).qs.add(e),e.next()}(this.q_,n)]})})}),function(){n.Zl(),e.cs.ws(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){return[2,function(t,e){_(t).qs.delete(e)}(this.q_,n)]})})})}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new gi;return this.cs.ws(function(){return new $a(e.cs,e.Ku,t,n).run(),Promise.resolve()}),n.promise},t}();function Qa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Ya=function(){function t(t,e,n,i,r){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=i,this.J_=r}return t.prototype.X_=function(t){switch(te(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(le(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw y()}},t.prototype.if=function(t){var e=this,n={};return S(t.fields||{},function(t,i){n[t]=e.X_(i)}),n},t.prototype.nf=function(t){return new ka(ce(t.latitude),ce(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map(function(t){return e.X_(t)})},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=Xt(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Jt(t));default:return null}},t.prototype.Z_=function(t){var e=ae(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=k.g(t);v(Ye(e));var n=new st(e.get(1),e.get(3)),i=new O(e.u(5));return n.isEqual(this.U)||m("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(i)},t}(),Xa=lr.ho,Ja=function(){function t(t){var e,n,i,r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new h(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),F("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?m("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&m("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(i=t.ignoreUndefinedProperties)&&void 0!==i&&i,F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=lr._o;else{if(t.cacheSizeBytes!==Xa&&t.cacheSizeBytes<lr.lo)throw new h(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+lr.lo);this.cacheSizeBytes=t.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(r=t.experimentalForceLongPolling)&&void 0!==r&&r,F("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(s=t.experimentalAutoDetectLongPolling)&&void 0!==s&&s,function(t,e,n,i){if(!0===e&&!0===i)throw new h(u.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Za=function(){function t(e,n,r,s){var o=this;if(void 0===r&&(r=new ha),void 0===s&&(s=new pa),this.rf=r,this.af=s,this.cf=null,this.uf=new Pi,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new Ns(n)}else{var c=e;if(!c.projectId)throw new h(u.INVALID_ARGUMENT,"Must provide projectId");this.__=new st(c.projectId,c.database),this.ff="[DEFAULT]",this.df=new Rs}this.wf=new Ja({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ra(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){A("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Ja(t);if(this.lf&&!this.wf.isEqual(e))throw new h(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Rs;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fs(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,i&&r))throw new h(u.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:i,ka:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e=this;return i.__generator(this,function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new gi,[2,(this.uf.bs(function(){return i.__awaiter(e,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}})})}),t.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),Qa(t)?this.lf.G_(t):(R("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new ha,new pa,{jl:!1}),this.lf},t.prototype.Af=function(){return new rt(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var i=this.Af();return this.lf=new Ga(this.df,this.uf),this.lf.start(i,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(u.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return A("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.hf(),new fc(k.g(t),this,null)},t.prototype.doc=function(t){return A("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.hf(),nc.Rf(k.g(t),this,null)},t.prototype.collectionGroup=function(t){if(A("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new dc(function(t){return new Fn(k.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return A("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.hf().transaction(function(n){return t(new tc(e,n))})},t.prototype.batch=function(){return this.hf(),new ec(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){A("Firestore.setLogLevel",arguments,1),M("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),d.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),tc=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;A("Transaction.get",arguments,1);var n=yc("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then(function(t){if(!t||1!==t.length)return y();var i=t[0];if(i instanceof Nn)return new rc(e.yf,n.f_,null,!1,!1,n.d_);if(i instanceof Rn)return new rc(e.yf,n.f_,i,!1,!1,n.d_);throw y()})},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var i=yc("Transaction.set",t,this.yf);n=mc("Transaction.set",n);var r=_c(i.d_,e,n),s=Na(this.yf.mf,"Transaction.set",i.f_,r,null!==i.d_,n);return this.Vf.set(i.f_,s),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof ga?(P("Transaction.update",arguments,3),i=yc("Transaction.update",t,this.yf),r=Fa(this.yf.mf,"Transaction.update",i.f_,e,n,s)):(A("Transaction.update",arguments,2),i=yc("Transaction.update",t,this.yf),r=La(this.yf.mf,"Transaction.update",i.f_,e)),this.Vf.update(i.f_,r),this},t.prototype.delete=function(t){A("Transaction.delete",arguments,1);var e=yc("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),ec=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.vf();var i=yc("WriteBatch.set",t,this.yf);n=mc("WriteBatch.set",n);var r=_c(i.d_,e,n),s=Na(this.yf.mf,"WriteBatch.set",i.f_,r,null!==i.d_,n);return this.pf=this.pf.concat(s.w_(i.f_,pn.ze())),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.vf(),"string"==typeof e||e instanceof ga?(P("WriteBatch.update",arguments,3),i=yc("WriteBatch.update",t,this.yf),r=Fa(this.yf.mf,"WriteBatch.update",i.f_,e,n,s)):(A("WriteBatch.update",arguments,2),i=yc("WriteBatch.update",t,this.yf),r=La(this.yf.mf,"WriteBatch.update",i.f_,e)),this.pf=this.pf.concat(r.w_(i.f_,pn.exists(!0))),this},t.prototype.delete=function(t){A("WriteBatch.delete",arguments,1),this.vf();var e=yc("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new En(e.f_,pn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),nc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n.__,e,i)||this).f_=e,r.firestore=n,r.d_=i,r.lf=r.firestore.hf(),r}return i.__extends(e,t),e.Rf=function(t,n,i){if(t.length%2!=0)throw new h(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new O(t),n,i)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(A("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new h(u.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=k.g(t);return new fc(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2),e=mc("DocumentReference.set",e);var n=_c(this.d_,t,e),i=Na(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(i.w_(this.f_,pn.ze()))},e.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof ga?(P("DocumentReference.update",arguments,2),n=Fa(this.firestore.mf,"DocumentReference.update",this.f_,t,e,i)):(A("DocumentReference.update",arguments,1),n=La(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,pn.exists(!0)))},e.prototype.delete=function(){return A("DocumentReference.delete",arguments,0),this.lf.write([new En(this.f_,pn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];D("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||Qa(r[a])||(q("DocumentReference.onSnapshot",o=r[a],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var c={includeMetadataChanges:o.includeMetadataChanges};if(Qa(r[a])){var l=r[a];r[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),r[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),r[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else R("DocumentReference.onSnapshot","function",a,r[a]),N("DocumentReference.onSnapshot","function",a+1,r[a+1]),N("DocumentReference.onSnapshot","function",a+2,r[a+2]);var u={next:function(t){r[a]&&r[a](i.Sf(t))},error:r[a+1],complete:r[a+2]};return this.lf.listen(Mn(this.f_.path),c,u)},e.prototype.get=function(t){var e=this;D("DocumentReference.get",arguments,0,1),bc("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then(function(t){return new rc(e.firestore,e.f_,t,!0,t instanceof Rn&&t.Je,e.d_)}):n.W_(this.f_,t).then(function(t){return e.Sf(t)})},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new rc(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Oa),ic=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rc=function(){function t(t,e,n,i,r,s){this.yf=t,this.f_=e,this.Df=n,this.Cf=i,this.Nf=r,this.d_=s}return t.prototype.data=function(t){var e=this;if(D("DocumentSnapshot.data",arguments,0,1),t=gc("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new sc(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ya(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",function(t){return new nc(t,e.yf,null)},function(t){return new it(t)}).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(D("DocumentSnapshot.get",arguments,1,2),e=gc("DocumentSnapshot.get",e),this.Df){var i=this.Df.data().field(za("DocumentSnapshot.get",t,this.f_));if(null!==i)return new Ya(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",function(t){return new nc(t,n.yf,n.d_)},function(t){return new it(t)}).X_(i)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new nc(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ic(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(rc);function oc(t,e,n,i,r,s,o){var a;if(r.p()){if("array-contains"===s||"array-contains-any"===s)throw new h(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){lc(o,s);for(var c=[],l=0,d=o;l<d.length;l++)c.push(cc(i,t,d[l]));a={arrayValue:{values:c}}}else a=cc(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lc(o,s),a=ja(n,e,o,"in"===s||"not-in"===s);var p=ti.create(r,s,a);return function(t,e){if(e.hn()){var n=zn(t);if(null!==n&&!n.isEqual(e.field))throw new h(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=Vn(t);null!==i&&uc(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new h(u.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,p),p}function ac(t,e,n){if(null!==t.startAt)throw new h(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new pi(e,n);return function(t,e){if(null===Vn(t)){var n=zn(t);null!==n&&uc(0,n,e.field)}}(t,i),i}function cc(t,e,n){if("string"==typeof n){if(""===n)throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qn(e)&&-1!==n.indexOf("/"))throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(k.g(n));if(!O.F(i))throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return ue(t,new O(i))}if(n instanceof Oa)return ue(t,n.f_);throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+V(n)+".")}function lc(t,e){if(!Array.isArray(t)||0===t.length)throw new h(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new h(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function uc(t,e,n){if(!n.isEqual(e))throw new h(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hc(t){if(Bn(t)&&0===t.on.length)throw new h(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,i){A("Query.where",arguments,3),z("Query.where",3,i);var r=M("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),s=za("Query.where",e),o=oc(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,s,r,i);return new t(function(t,e){var n=t.filters.concat([e]);return new Fn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var i;if(D("Query.orderBy",arguments,1,2),N("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i="asc";else{if("desc"!==n)throw new h(u.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i="desc"}var r=za("Query.orderBy",e),s=ac(this.Ff,r,i);return new t(function(t,e){var n=t.on.concat([e]);return new Fn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.limit=function(e){return A("Query.limit",arguments,1),R("Query.limit","number",1,e),K("Query.limit",1,e),new t(Wn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return A("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),K("Query.limitToLast",1,e),new t(Wn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];P("Query.startAt",arguments,1);var r=this.xf("Query.startAt",e,n,!0);return new t($n(this.Ff,r),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];P("Query.startAfter",arguments,1);var r=this.xf("Query.startAfter",e,n,!1);return new t($n(this.Ff,r),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];P("Query.endBefore",arguments,1);var r=this.xf("Query.endBefore",e,n,!0);return new t(Gn(this.Ff,r),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];P("Query.endAt",arguments,1);var r=this.xf("Query.endAt",e,n,!1);return new t(Gn(this.Ff,r),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&Qn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,r){if(z(t,1,e),e instanceof rc)return A(t,i.__spreadArrays([e],n),1),function(t,e,n,i,r){if(!i)throw new h(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Hn(t);o<a.length;o++){var c=a[o];if(c.field.p())s.push(ue(e,i.key));else{var l=i.field(c.field);if(Yt(l))throw new h(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var d=c.field.R();throw new h(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}s.push(l)}}return new li(s,r)}(this.Ff,this.firestore.__,t,e.Df,r);var s=[e].concat(n);return function(t,e,n,i,r,s){var o=t.on;if(r.length>o.length)throw new h(u.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var l=r[c];if(o[c].field.p()){if("string"!=typeof l)throw new h(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!qn(t)&&-1!==l.indexOf("/"))throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var d=t.path.child(k.g(l));if(!O.F(d))throw new h(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+d+"' is not because it contains an odd number of segments.");var p=new O(d);a.push(ue(e,p))}else{var f=ja(n,i,l);a.push(f)}}return new li(a,s)}(this.Ff,this.firestore.__,this.firestore.mf,t,s,r)},t.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];D("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof r[a]||Qa(r[a])||(q("Query.onSnapshot",o=r[a],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),Qa(r[a])){var c=r[a];r[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),r[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),r[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else R("Query.onSnapshot","function",a,r[a]),N("Query.onSnapshot","function",a+1,r[a+1]),N("Query.onSnapshot","function",a+2,r[a+2]);var l={next:function(t){r[a]&&r[a](new pc(i.firestore,i.Ff,t,i.d_))},error:r[a+1],complete:r[a+2]};return hc(this.Ff),this.firestore.hf().listen(this.Ff,o,l)},t.prototype.get=function(t){var e=this;D("Query.get",arguments,0,1),bc("Query.get",t),hc(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then(function(t){return new pc(e.firestore,e.Ff,t,e.d_)})},t}(),pc=function(){function t(t,e,n,i){this.yf=t,this.$f=e,this.kf=n,this.d_=i,this.Mf=null,this.Of=null,this.metadata=new ic(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach(function(i){t.call(e,n.Lf(i,n.metadata.fromCache,n.kf.Wt.has(i.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new dc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var i=0;return t.docChanges.map(function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:i++}})}var r=t.Qt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var i=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vc(e.type),doc:i,oldIndex:s,newIndex:o}})}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Qn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new sc(this.yf,t.key,t,e,n,this.d_)},t}(),fc=function(t){function e(e,n,i){var r=this;if((r=t.call(this,Mn(e),n,i)||this).Bf=e,e.length%2!=1)throw new h(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return r}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new nc(new O(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Q.k()),R("CollectionReference.doc","non-empty string",1,t);var e=k.g(t);return nc.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){A("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;R("CollectionReference.add","object",1,e);var n=this.doc();return new nc(n.f_,this.firestore,null).set(e).then(function(){return n})},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(dc);function mc(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+V(i));for(var s=0;s<i.length;++s)if(!r(i[s]))throw new h(u.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+V(i[s]))}(t,"mergeFields",0,i,function(t){return"string"==typeof t||t instanceof ga})}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function gc(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),j(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function bc(t,e){N(t,"object",1,e),e&&(q(t,e,["source"]),j(t,0,"source",e.source,["default","server","cache"]))}function yc(t,e,n){if(e instanceof Oa){if(e.firestore!==n)throw new h(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function vc(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function _c(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.serverTimestamp=function(){I("FieldValue.serverTimestamp",arguments);var t=new wa("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){I("FieldValue.delete",arguments);var t=new va("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayUnion",arguments,1);var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayUnion()",arguments,1),new Sa("arrayUnion",t)}).apply(void 0,t);return i.e_="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayRemove",arguments,1);var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayRemove()",arguments,1),new Ca("arrayRemove",t)}).apply(void 0,t);return i.e_="FieldValue.arrayRemove",new e(i)},e.increment=function(t){R("FieldValue.increment","number",1,t),A("FieldValue.increment",arguments,1);var n=function(t){return new Ta("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(xa),Sc={Firestore:Za,GeoPoint:ka,Timestamp:at,Blob:it,Transaction:tc,WriteBatch:ec,DocumentReference:nc,DocumentSnapshot:rc,Query:dc,QueryDocumentSnapshot:sc,QuerySnapshot:pc,CollectionReference:fc,FieldPath:ga,FieldValue:wc,setLogLevel:Za.setLogLevel,CACHE_SIZE_UNLIMITED:Xa};function Cc(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",function(t){return function(t,e){var n=new pa,i=new da(n);return new Za(t,e,i,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Sc)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}Cc(l.default),e.__PRIVATE_registerFirestore=Cc},"7+OI":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"74GY":function(t,e){t.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},"7HRe":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("quSY"),s=n("kJWO"),o=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function u(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(n=>{const i=new r.a;return i.add(e.schedule(()=>{const r=t[s.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(c.a)(t))return function(t,e){return new i.a(n=>{const i=new r.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(o.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new r.a;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(e.schedule(()=>{s=t[a.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),p=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"89kA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("qCKp"),r=n("ZR4w");i.Observable.prototype.map=r.map},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},ADeD:function(t){t.exports=JSON.parse('{"words":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')},BFxc:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("SeVD"),s=n("7HRe");function o(t,e){return e?Object(s.a)(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),s=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EFs4:function(t,e){t.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},"F97/":function(t,e,n){"use strict";function i(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",function(){return i})},GJmQ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e=!1){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.inclusive))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("LRne"),r=n("0EUg");function s(...t){return Object(r.a)()(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("8Qeq"),r=n("7o/Q"),s=n("2QA8"),o=n("gRHU"),a=n("kJWO"),c=n("mCNh"),l=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(i?i.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(i.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(c.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IAdc:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("128B");function r(t,e,n){return 0===n?[e]:(t.push(e),t)}function s(){return Object(i.a)(r,[])}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Y/cZ");class r extends i.a{constructor(t,e=i.a.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("zx2A");function r(t){return function(e){const n=new s(t),i=e.lift(n);return n.caught=i}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends i.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this);this.add(r);const s=Object(i.c)(n,r);s!==r&&this.add(s)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("GyhO"),r=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(r.a)(e)?(t.pop(),n=>Object(i.a)(t,n,e)):e=>Object(i.a)(t,e)}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("D0XW");function s(t,e=r.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},LM6Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("kU1M");e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.startWith.apply(void 0,t)(this)}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},MSNS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("gSmF")},"NHP+":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("quSY");class s extends i.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),r.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),r.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("sVev"),r=n("pLZG"),s=n("BFxc"),o=n("XDbj"),a=n("xbPD"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(r.a)((e,n)=>t(e,n,l)):c.a,Object(s.a)(1),n?Object(a.a)(e):Object(o.a)(()=>new i.a))}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("wj3C"),r=n("mAIw"),s=n("zVF4"),o=n("q/0M"),a=n("S+S0");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l,u=c(i),h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},f=p("localStorage"),m=p("sessionStorage"),g=new o.Logger("@firebase/database"),b=(l=1,function(){return l++}),y=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var i=n.digest();return s.base64.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=v.apply(null,r):n+="object"==typeof r?s.stringify(r):r,n+=" "}return n},_=null,w=!0,S=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=o.LogLevel.VERBOSE,_=g.log.bind(g),e&&m.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,m.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===_&&!0===m.get("logging_enabled")&&S(!0)),_){var n=v.apply(null,t);_(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,r.__spread([t],e))}},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,r.__spread(t));g.error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,r.__spread(t));throw g.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,r.__spread(t));g.warn(n)},O=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",A="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===I||e===A)return-1;if(e===I||t===A)return 1;var n=Q(t),i=Q(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},D=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},N=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=s.stringify(e[r]),i+=":",i+=N(t[e[r]]);return i+"}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,M,U,B,V,z,q,H,K,W,$=function(t){var e,n,i,r,o;s.assert(!O(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),l="";for(o=0;o<64;o+=8){var u=parseInt(c.substr(o,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},G=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(e){setTimeout(function(){throw E("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},X=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var s=P(n[r],i[r]);if(0!==s)return s}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="firebaseio.com",et="websocket",nt="long_polling",it=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=!1),void 0===s&&(s=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),t===et)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==nt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return F(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),rt=function(t,e){var n=st(t),i=n.namespace;return"firebase.com"===n.domain&&x(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new it(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new J(n.pathString)}},st=function(t){var e="",n="",i="",s="",o="",a=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var s=r.__values(t.split("&")),o=s.next();!o.done;o=s.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var m=e.indexOf(".");i=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=i}"ns"in p&&(o=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:c,pathString:s,namespace:o}},ot=/[\[\].#$\/\u0000-\u001F\u007F]/,at=/[\[\].#$\u0000-\u001F\u007F]/,ct=10485760,lt=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ut=function(t){return"string"==typeof t&&0!==t.length&&!at.test(t)},ht=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!O(t)||t&&"object"==typeof t&&s.contains(t,".sv")},dt=function(t,e,n,i,r){r&&void 0===n||pt(s.errorPrefix(t,e,r),n,i)},pt=function(t,e,n){var i=n instanceof J?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(O(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>ct/3&&s.stringLength(e)>ct)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(F(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!lt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),pt(t,n,i),i.pop()}),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ft=function(t,e,n,i,r){if(!r||void 0!==n){var o=s.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];F(n,function(t,e){var n=new J(t);if(pt(o,e,i.child(n)),".priority"===n.getBack()&&!ht(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),s=0;s<r.length;s++)if(".priority"===r[s]&&s===r.length-1);else if(!lt(r[s]))throw new Error(t+"contains an invalid key ("+r[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var o=null;for(n=0;n<e.length;n++){if(i=e[n],null!==o&&o.contains(i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,a)}},mt=function(t,e,n,i){if(!i||void 0!==n){if(O(n))throw new Error(s.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ht(n))throw new Error(s.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},bt=function(t,e,n,i){if(!(i&&void 0===n||lt(n)))throw new Error(s.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yt=function(t,e,n,i){if(!(i&&void 0===n||ut(n)))throw new Error(s.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vt=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yt(t,e,n,i)},_t=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},wt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!lt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ut(t)}(i))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},St=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,i)+"must be a boolean.")},Ct=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set",this.path_),dt("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority",this.path_),dt("OnDisconnect.setWithPriority",1,t,this.path_,!1),mt("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),_t("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var r=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),Tt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),kt=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M=0,U=[],function(t){var e,n=t===M;M=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=j.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=j.charAt(U[e]);return s.assert(20===r.length,"nextPushId: Length should be 20."),r}),xt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new xt(I,t),i=new xt(I,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return xt.MIN},t}(),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return B},set:function(t){B=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(A,B)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new xt(t,B)},e.prototype.toString=function(){return".key"},e}(Et),It=new Ot,At=function(t){return"number"==typeof t?"number:"+$(t):"string:"+t},Pt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===V||t.isEmpty(),"priority of unexpected type.");s.assert(t===V||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Dt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return z},set:function(t){z=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(s.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+At(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?$(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return s.assert(r>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Rt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?P(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(A,new Dt("[PRIORITY-POST]",H))},e.prototype.makePost=function(t,e){var n=q(t);return new xt(e,new Dt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),Nt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Lt=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:jt.EMPTY_NODE,this.right=null!=s?s:jt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return jt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Lt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}(),Mt=Math.log(2),Ut=function(){function t(t){this.count=parseInt(Math.log(t+1)/Mt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Bt=function(t,e,n,i){t.sort(e);var r=function(e,i){var s,o,a=i-e;if(0===a)return null;if(1===a)return s=t[e],o=n?n(s):s,new Lt(o,s.node,Lt.BLACK,null,null);var c=parseInt(a/2,10)+e,l=r(e,c),u=r(c+1,i);return s=t[c],o=n?n(s):s,new Lt(o,s.node,Lt.BLACK,l,u)},s=function(e){for(var i=null,s=null,o=t.length,a=function(e,i){var s=o-e,a=o;o-=e;var l=r(s+1,a),u=t[s],h=n?n(u):u;c(new Lt(h,u.node,i,null,l))},c=function(t){i?(i.left=t,i=t):(s=t,i=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));u?a(h,Lt.BLACK):(a(h,Lt.BLACK),a(h,Lt.RED))}return s}(new Ut(t.length));return new jt(i||e,s)},Vt={},zt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Vt&&Rt,"ChildrenNode.ts has not been loaded"),K=K||new t({".priority":Vt},{".priority":Rt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof jt?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==It,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,o=[],a=!1,c=n.getIterator(xt.Wrap),l=c.getNext();l;)a=a||e.isDefinedOn(l.node),o.push(l),l=c.getNext();i=a?Bt(o,e.getCompare()):Vt;var u=e.toString(),h=r.__assign({},this.indexSet_);h[u]=e;var d=r.__assign({},this.indexes_);return d[u]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(s.map(this.indexes_,function(t,r){var o=s.safeGet(i.indexSet_,r);if(s.assert(o,"Missing index implementation for "+r),t===Vt){if(o.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(xt.Wrap),l=c.getNext();l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Bt(a,o.getCompare())}return Vt}var u=n.get(e.name),h=t;return u&&(h=h.remove(new xt(e.name,u))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,function(t){if(t===Vt)return t;var i=n.get(e.name);return i?t.remove(new xt(e.name,i)):t}),this.indexSet_)},t}();function qt(t,e){return P(t.name,e.name)}function Ht(t,e){return P(t,e)}var Kt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Pt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new jt(Ht),null,zt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new xt(e,n),r=void 0,o=void 0;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));var a=r.isEmpty()?W:this.priorityNode_;return new t(r,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,s=!0;if(this.forEachChild(Rt,function(o,a){n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){var o=[];for(var a in n)o[a]=n[a];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+At(this.getPriority().val())+":"),this.forEachChild(Rt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new xt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,xt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,xt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wt?-1:0},t.prototype.withIndex=function(e){if(e===It||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===It||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Rt),i=e.getIterator(Rt),r=n.getNext(),s=i.getNext();r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=n.getNext(),s=i.getNext()}return null===r&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===It?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Wt=new(function(t){function e(){return t.call(this,new jt(Ht),Kt.EMPTY_NODE,zt.Default)||this}return r.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Kt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Kt));function $t(t,e){if(void 0===e&&(e=null),null===t)return Kt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Dt(t,$t(e));if(t instanceof Array){var n=Kt.EMPTY_NODE;return F(t,function(e,i){if(s.contains(t,e)&&"."!==e.substring(0,1)){var r=$t(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority($t(e))}var i=[],r=!1;if(F(t,function(t,e){if("."!==t.substring(0,1)){var n=$t(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new xt(t,n)))}}),0===i.length)return Kt.EMPTY_NODE;var o=Bt(i,qt,function(t){return t.name},Ht);if(r){var a=Bt(i,Rt.getCompare());return new Kt(o,$t(e),new zt({".priority":a},{".priority":Rt}))}return new Kt(o,$t(e),zt.Default)}Object.defineProperties(xt,{MIN:{value:new xt(I,Kt.EMPTY_NODE)},MAX:{value:new xt(A,Wt)}}),Ot.__EMPTY_NODE=Kt.EMPTY_NODE,Dt.__childrenNodeConstructor=Kt,V=Wt,H=Wt,q=$t;var Gt,Qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return xt.MAX},e.prototype.makePost=function(t,e){var n=$t(t);return new xt(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?P(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=$t(t),i=Kt.EMPTY_NODE.updateChild(this.indexPath_,n);return new xt(e,i)},e.prototype.maxPost=function(){var t=Kt.EMPTY_NODE.updateChild(this.indexPath_,Wt);return new xt(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Xt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),yt("DataSnapshot.child",1,e,!1);var n=new J(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Rt)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),yt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(i,r){return e(new t(r,n.ref_.child(i),Rt))})},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),te=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Jt("value",this,new Xt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ee=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Jt(t.type,this,new Xt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),s=i.length;if(s===r.length){if(1===s){var o=i[0],a=r[0];return!(a!==o||e.callbacks_[o]&&this.callbacks_[a]&&e.callbacks_[o]!==this.callbacks_[a])}return r.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ne=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){Gt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===It){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==A)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Rt){if(null!=e&&!ht(e)||null!=n&&!ht(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Yt||t.getIndex()===Qt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){s.validateArgCount("Query.on",2,4,arguments.length),gt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new te(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new ee(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),gt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var o=e||null;i=new te(o,null,n||null)}else t&&(e&&((r={})[t]=e),i=new ee(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),gt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",i,r),c=!0,l=new s.Deferred;l.promise.catch(function(){});var u=function(t){c&&(c=!1,o.off(e,u),n&&n.bind(a.context)(t),l.resolve(t))};return this.on(e,u,function(t){o.off(e,u),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)}),l.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');yt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new Yt(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),dt("Query.startAt",1,e,this.path,!0),bt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),dt("Query.endAt",1,e,this.path,!0),bt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),dt("Query.equalTo",1,t,this.path,!1),bt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return i&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,s.validateCallback(t,3,i.cancel,!0),i.context=n,s.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ie=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),re=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),se=function(t,e,n){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?oe(t[".sv"],e,n):"object"==typeof t[".sv"]?ae(t[".sv"],e):void s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},oe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:s.assert(!1,"Unexpected server value: "+t)}},ae=function(t,e,n){t.hasOwnProperty("increment")||s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&s.assert(!1,"Unexpected increment value: "+i);var r=e.node();if(s.assert(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var o=r.getValue();return"number"!=typeof o?i:o+i},ce=function(t,e,n,i){return ue(e,new re(n,t),i)},le=function(t,e,n){return ue(t,new ie(e),n)};function ue(t,e,n){var i,r=t.getPriority().val(),s=se(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,a=se(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Dt(a,$t(s)):t}var c=t;return i=c,s!==c.getPriority().val()&&(i=i.updatePriority(new Dt(s))),c.forEachChild(Rt,function(t,r){var s=ue(r,e.getImmediateChild(t),n);s!==r&&(i=i.updateImmediateChild(t,s))}),i}var he,de,pe=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Rt,function(t,e){n.remember(new J(t),e)}),this.forget(t)}if(this.children.size>0){var i=t.getFront();return t=t.popFront(),this.children.has(i)&&this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,i){var r=new J(t.toString()+"/"+n);i.forEachTree(r,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}(),fe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),me=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,s.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ge=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=fe.ACK_USER_WRITE,this.source=me.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),be=function(){function t(t,e){void 0===e&&(he||(he=new jt(D)),e=he),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return F(e,function(t,e){n=n.set(new J(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new J(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),s=this.children.insert(i,r);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),s=void 0;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?t.Empty:new t(this.value,s)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),s=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(t.child(i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),s=this.children.get(r);return s?s.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),s=this.children.get(r);return s?s.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ye=function(){function t(t,e){this.source=t,this.path=e,this.type=fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=fe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),_e=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=fe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new ve(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),we=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Se=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new we(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new we(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new we(Kt.EMPTY_NODE,!1,!1),new we(Kt.EMPTY_NODE,!1,!1)),t}(),Ce=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Te=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ce.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ce.childAddedChange(e,n)):o.trackChildChange(Ce.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Rt,function(t,i){e.hasChild(t)||n.trackChildChange(Ce.childRemovedChange(t,i))}),e.isLeafNode()||e.forEachChild(Rt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Ce.childChangedChange(e,i,r))}else n.trackChildChange(Ce.childAddedChange(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ke=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===Ce.CHILD_ADDED||e===Ce.CHILD_CHANGED||e===Ce.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===Ce.CHILD_ADDED&&r===Ce.CHILD_REMOVED)this.changeMap.set(n,Ce.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===Ce.CHILD_REMOVED&&r===Ce.CHILD_ADDED)this.changeMap.delete(n);else if(e===Ce.CHILD_REMOVED&&r===Ce.CHILD_CHANGED)this.changeMap.set(n,Ce.childRemovedChange(n,i.oldSnap));else if(e===Ce.CHILD_CHANGED&&r===Ce.CHILD_ADDED)this.changeMap.set(n,Ce.childAddedChange(n,t.snapshotNode));else{if(e!==Ce.CHILD_CHANGED||r!==Ce.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,Ce.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),xe=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ee=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new we(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),Oe=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ie=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,a,c=new ke;if(n.type===fe.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,i,r,c):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,i,r,a,c))}else if(n.type===fe.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,i,r,c):(s.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,i,r,a,c))}else if(n.type===fe.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,i,r,c):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,c)}else{if(n.type!==fe.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,c)}var d=c.getChanges();return t.maybeAddValueEvent_(e,o,d),new Oe(o,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Ce.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,c=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=n.calcCompleteEventChildren(l instanceof Kt?l:Kt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),u,r)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=e.getFront();if(".priority"===d){s.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();c=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,c);a=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var m=e.popFront(),g=void 0;if(o.isCompleteForChild(d)){c=t.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),c);g=null!=b?o.getNode().getImmediateChild(d).updateChild(m,b):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());a=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,i,r):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,s,o){var a,c=t.getServerCache(),l=s?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(c.getNode(),n,null);else if(l.filtersNodes()&&!c.isFiltered()){var u=c.getNode().updateChild(e,n);a=l.updateFullNode(c.getNode(),u,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=c.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,xe,null)}var f=t.updateServerSnap(a,c.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),m=new Ee(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,m,o)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,s){var o,a,c=t.getEventCache(),l=new Ee(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,s),o=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(".priority"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),o=t.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),d=c.getNode().getImmediateChild(u),p=void 0;if(h.isEmpty())p=n;else{var f=l.getCompleteChild(u);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Kt.EMPTY_NODE}if(d.equals(p))o=t;else{var m=this.filter_.updateChild(c.getNode(),u,p,h,l,s);o=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,s,o){var a=this,c=e;return i.foreach(function(i,l){var u=n.child(i);t.cacheHasChild_(e,u.getFront())&&(c=a.applyUserOverwrite_(c,u,l,r,s,o))}),i.foreach(function(i,l){var u=n.child(i);t.cacheHasChild_(e,u.getFront())||(c=a.applyUserOverwrite_(c,u,l,r,s,o))}),c},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,s,o){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,l=t;c=e.isEmpty()?n:be.Empty.setTree(e,n);var u=t.getServerCache().getNode();return c.children.inorderTraversal(function(e,n){if(u.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new J(e),h,i,r,s,o)}}),c.children.inorderTraversal(function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new J(e),d,i,r,s,o)}}),l},t.prototype.ackUserWrite_=function(t,e,n,i,r,s){if(null!=i.shadowingWrite(e))return t;var o=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,o,s);if(e.isEmpty()){var c=be.Empty;return a.getNode().forEachChild(It,function(t,e){c=c.set(new J(t),e)}),this.applyServerMerge_(t,e,c,i,r,o,s)}return t}var l=be.Empty;return n.foreach(function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(l=l.set(t,a.getNode().getChild(i)))}),this.applyServerMerge_(t,e,l,i,r,o,s)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),s=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(s,e,n,xe,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var a=new Ee(n,t,i),c=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof Kt,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(c,u=u,r)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?this.filter_.updateChild(c,d,p,e.popFront(),a,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(c,d,Kt.EMPTY_NODE,e.popFront(),a,r):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ae=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],s=[];return t.forEach(function(t){t.type===Ce.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(Ce.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(r,Ce.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,Ce.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,Ce.CHILD_MOVED,s,n,e),this.generateEventsForType_(r,Ce.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,Ce.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var s=this,o=n.filter(function(t){return t.type===e});o.sort(this.compareChanges_.bind(this)),o.forEach(function(e){var n=s.materializeSingleChange_(e,r);i.forEach(function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,s.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new xt(t.childName,t.snapshotNode),i=new xt(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),Pe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new Te(n.getIndex()),r=n.getNodeFilter();this.processor_=new Ie(r);var s=e.getServerCache(),o=e.getEventCache(),a=i.updateFullNode(Kt.EMPTY_NODE,s.getNode(),null),c=r.updateFullNode(Kt.EMPTY_NODE,o.getNode(),null),l=new we(a,s.isFullyInitialized(),i.filtersNodes()),u=new we(c,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=new Se(u,l),this.eventGenerator_=new Ae(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)})}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(a)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===fe.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),s.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,function(t,e){n.push(Ce.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(Ce.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),De=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(de,"Reference.ts has not been loaded"),de},set:function(t){s.assert(!de,"__referenceConstructor has already been defined"),de=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,o,a=t.source.queryId;if(null!==a){var c=this.views.get(a);return s.assert(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var l=[];try{for(var u=r.__values(this.views.values()),h=u.next();!h.done;h=u.next())l=l.concat((c=h.value).applyOperation(t,e,n))}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return l},t.prototype.addEventRegistration=function(t,e,n,i,r){var s=t.queryIdentifier(),o=this.views.get(s);if(!o){var a=n.calcCompleteEventCache(r?i:null),c=!1;a?c=!0:i instanceof Kt?(a=n.calcCompleteEventChildren(i),c=!1):(a=Kt.EMPTY_NODE,c=!1);var l=new Se(new we(a,c,!1),new we(i,r,!1));o=new Pe(t,l),this.views.set(s,o)}return o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var s,o,a=e.queryIdentifier(),c=[],l=[],u=this.hasCompleteView();if("default"===a)try{for(var h=r.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=r.__read(d.value,2),m=f[0];l=l.concat((p=f[1]).removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(m),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery()))}}catch(g){s={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}else(p=this.views.get(a))&&(l=l.concat(p.removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery())));return u&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=r.__values(this.views.values()),s=i.next();!s.done;s=i.next()){var o=s.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var s=r.__values(this.views.values()),o=s.next();!o.done;o=s.next())i=i||o.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=r.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Re=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new be(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,s=i.value,o=J.relativePath(r,e);return s=s.updateChild(o,n),new t(this.writeTree_.set(r,s))}var a=new be(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return F(e,function(e,i){n=n.addWrite(t.child(e),i)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,be.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,function(e,n){t.push(new xt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new xt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new be(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Ne(J.Empty,this.writeTree_,t)},t.Empty=new t(new be(null)),t}();function Ne(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,r){".priority"===e?(s.assert(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Ne(t.child(e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(t.child(".priority"),i)),n}var Le=function(){function t(){this.visibleWrites_=Re.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Fe(t,this)},t.prototype.addOverwrite=function(t,e,n,i){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});s.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,a=this.allWrites_.length-1;r&&a>=0;){var c=this.allWrites_[a];c.visible&&(a>=n&&this.recordContainsPath_(c,i.path)?r=!1:i.path.contains(c.path)&&(o=!0)),a--}return!!r&&(o?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):F(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var s=this.visibleWrites_.childCompoundWrite(e);return!r&&s.isEmpty()?n:r||null!=n||s.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Kt.EMPTY_NODE):null}var o=this.visibleWrites_.getCompleteNode(e);if(null!=o)return o;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(J.Empty)?a.apply(n||Kt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Kt.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Rt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Rt,function(t,e){var i=r.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,i)}),r.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){s.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,s){var o,a=this.visibleWrites_.childCompoundWrite(t),c=a.getCompleteNode(J.Empty);if(null!=c)o=c;else{if(null==e)return[];o=a.apply(e)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var l=[],u=s.getCompare(),h=r?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),d=h.getNext();d&&l.length<i;)0!==u(d,n)&&l.push(d),d=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Re.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path,c=void 0;if(o.snap)n.contains(a)?(c=J.relativePath(n,a),i=i.addWrite(c,o.snap)):a.contains(n)&&(c=J.relativePath(a,n),i=i.addWrite(J.Empty,o.snap.getChild(c)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))c=J.relativePath(n,a),i=i.addWrites(c,o.children);else if(a.contains(n))if((c=J.relativePath(a,n)).isEmpty())i=i.addWrites(J.Empty,o.children);else{var l=s.safeGet(o.children,c.getFront());if(l){var u=l.getChild(c.popFront());i=i.addWrite(J.Empty,u)}}}}}return i},t}(),Fe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),je=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=be.Empty,this.pendingWriteTree_=new Le,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new ve(me.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=be.fromObject(e);return this.applyOperationToSyncPoints_(new _e(me.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=be.Empty;return null!=n.snap?i=i.set(J.Empty,!0):F(n.children,function(t,e){i=i.set(new J(t),e)}),this.applyOperationToSyncPoints_(new ge(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ve(me.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=be.fromObject(e);return this.applyOperationToSyncPoints_(new _e(me.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ye(me.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,c=J.relativePath(o,e),l=new ve(me.forServerTaggedQuery(a),c,n);return this.applyTaggedOperation_(o,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,c=J.relativePath(o,e),l=be.fromObject(n),u=new _e(me.forServerTaggedQuery(a),c,l);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),s=r.path,o=r.queryId,a=J.relativePath(s,e),c=new ye(me.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=J.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a,c=this.syncPointTree_.get(i);c?(o=o||c.hasCompleteView(),r=r||c.getCompleteServerCache(J.Empty)):(c=new De,this.syncPointTree_=this.syncPointTree_.set(i,c)),null!=r?a=!0:(a=!1,r=Kt.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(r=r.updateImmediateChild(t,n))}));var l=c.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(u,h),this.tagToQueryMap.set(h,u)}var d=this.pendingWriteTree_.childWrites(i),p=c.addEventRegistration(e,n,d,r,a);if(!l&&!o){var f=c.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,s=e.path,o=this.syncPointTree_.get(s),a=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var c=o.removeEventRegistration(e,n,i);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var l=c.removed;a=c.events;var u=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(s,function(t,e){return e.hasCompleteView()});if(u&&!h){var d=this.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var m=p[f],g=m.getQuery(),b=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),b.hashFn,b.onComplete)}}!h&&l.length>0&&!i&&(u?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach(function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,function(e,n){var i=J.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r});return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),F(n,function(t,e){i=i.concat(e)}),i})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),s=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),c=this.syncPointTree_.subtree(i);if(r)s.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),F(n,function(t,e){i=i.concat(e)}),i}),u=0;u<l.length;++u){var h=l[u];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Kt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(J.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(J.Empty));var s=[],o=t.path.getFront(),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){var l=n?n.getImmediateChild(o):null,u=i.child(o);s=s.concat(this.applyOperationHelper_(a,c,l,u))}return r&&(s=s.concat(r.applyOperation(t,i,n))),s},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,s=e.get(J.Empty);null==n&&null!=s&&(n=s.getCompleteServerCache(J.Empty));var o=[];return e.children.inorderTraversal(function(e,s){var a=n?n.getImmediateChild(e):null,c=i.child(e),l=t.operationForChild(e);l&&(o=o.concat(r.applyOperationDescendantsHelper_(l,s,a,c)))}),s&&(o=o.concat(s.applyOperation(t,i,n))),o},t.nextQueryTag_=1,t}(),Me=function(){function t(){this.rootNode_=Kt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ue=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),Be=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ue),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ve=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=r.__assign({},t);return this.last_&&F(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),ze=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ve(t);var n=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;F(e,function(e,r){r>0&&s.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new He(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),He=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&C("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ke=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=r.__spread(this.listeners_[t]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),We=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return r.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ke),$e=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return r.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ke),Ge=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&Y(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),Qe="start",Ye="close",Xe=function(){function t(t,e,n,i,r){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=i,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=Be.getCollection(e),this.urlFn=function(t){return e.connectionURL(nt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ge(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Je(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.__read(t,5),s=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===Qe)n.id=o,n.password=a;else{if(s!==Ye)throw new Error("Unrecognized command received: "+s);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.__read(t,2),s=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),i=L(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Je=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){C("frame writing exception"),c.stack&&C(c.stack),C(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),Ze="",tn=null;"undefined"!=typeof MozWebSocket?tn=MozWebSocket:"undefined"!=typeof WebSocket&&(tn=WebSocket);var en=function(){function t(e,n,i,r,s){this.connId=e,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=Be.getCollection(n),this.connURL=t.connectionURL_(n,r,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL(et,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+Ze+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},r=process.env,o=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new tn(this.connURL,[],i)}else this.mySock=new tn(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tn&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Xe,en]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,s=en&&en.isAvailable(),o=s&&!en.previouslyFailed();if(e.webSocketOnly&&(s||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[en];else{var a=this.transports_=[];try{for(var c=r.__values(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),rn=function(){function t(t,e,n,i,r,s,o,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=i,this.onReady_=r,this.onDisconnect_=s,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new nn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=X(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=R("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?k("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),X(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),sn=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),on=1e3,an=function(t){function e(n,i,r,o,a,c,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=i,u.onDataUpdate_=r,u.onConnectStatus_=o,u.onServerInfoUpdate_=a,u.authTokenProvider_=c,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=T("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=on,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),We.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&$e.getInstance().on("online",u.onOnline_,u),u}return r.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(s.stringify(r)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+r+" for "+s);var o={p:r};t.tag&&(o.q=i.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,c=o.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(s))===t&&(n.log_("listen response",o),"ok"!==c&&n.removeListen_(r,s),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):k("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=on),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this,c=this.lastSessionId,l=!1,u=null,h=function(){u?u.close():(l=!0,r())};this.realtime_={close:h,sendRequest:function(t){s.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){l?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,u=new rn(o,a.repoInfo_,a.applicationId_,n,i,r,function(t){E(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},c))}).then(null,function(e){a.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&E(e),h())})}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return N(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new J(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var s=r.__values(this.listens.values()),o=s.next();!o.done;o=s.next()){var a=o.value;try{for(var c=(n=void 0,r.__values(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ze.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=$e.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(sn),cn=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=T("p:rest:"),r.listens_={},r}return r.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var c=e.getListenId_(t,i),l={};this.listens_[c]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",u,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,i),s.safeGet(o.listens_,c)===l&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var o=r&&r.accessToken;o&&(e.auth=o);var a=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+s.querystring(e);i.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){i.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=s.jsonEval(c.responseText)}catch(e){E("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&E("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()})},e}(sn),ln="repo_interrupt",un=function(){function t(t,e,n,i){var r=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new pe,this.persistentConnection_=null,this.stats_=Be.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new cn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new an(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Be.getOrCreateReporter(t,function(){return new ze(r.stats_,r.server_)}),this.transactionsInit_(),this.infoData_=new Me,this.infoSyncTree_=new je({startListening:function(t,e,n,i){var s=[],o=r.infoData_.getNode(t.path);return o.isEmpty()||(s=r.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout(function(){i("ok")},0)),s},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new je({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var s=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,s)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var a=s.map(e,function(t){return $t(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(r,a,i)}else{var c=$t(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,c,i)}else if(n){var l=s.map(e,function(t){return $t(t)});o=this.serverSyncTree_.applyServerMerge(r,l)}else{var u=$t(e);o=this.serverSyncTree_.applyServerOverwrite(r,u)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;F(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),i=$t(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),o=$t(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),c=le(o,a,s),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,c,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),o.val(!0),function(e,n){var s="ok"===e;s||E("set at "+t+" failed: "+e);var o=r.serverSyncTree_.ackUserWrite(l,!s);r.eventQueue_.raiseEventsForChangedPath(t,o),r.callOnCompleteCallback(i,e,n)});var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,s=this.generateServerValues(),o={};if(F(e,function(e,n){r=!1,o[e]=ce(t.child(e),$t(n),i.serverSyncTree_,s)}),r)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,o,a);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,r){var s="ok"===e;s||E("update at "+t+" failed: "+e);var o=i.serverSyncTree_.ackUserWrite(a,!s),c=o.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(c,o),i.callOnCompleteCallback(n,e,r)}),F(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new pe;this.onDisconnect_.forEachTree(J.Empty,function(i,r){var s=ce(i,r,t.serverSyncTree_,e);n.remember(i,s)});var i=[];n.forEachTree(J.Empty,function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new pe,this.eventQueue_.raiseEventsForChangedPath(J.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)})},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=$t(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),function(e,s){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,s)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,s=$t(e,n);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(e,n){"ok"===e&&r.onDisconnect_.remember(t,s),r.callOnCompleteCallback(i,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(s.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(r,s){"ok"===r&&F(e,function(e,n){var r=$t(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,r,s)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(ln)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(ln)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ve(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);F(e,function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,r.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y(function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var s=new Error(r);s.code=i,t(s)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Sn(this))},enumerable:!1,configurable:!0}),t}(),hn=function(){function t(e){this.indexedFilter_=new Te(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,s){return this.matches(new xt(e,n))||(n=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Kt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Kt.EMPTY_NODE);var r=this;return e.forEachChild(Rt,function(t,e){r.matches(new xt(t,e))||(i=i.updateImmediateChild(t,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),dn=function(){function t(t){this.rangedFilter_=new hn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,s){return this.rangedFilter_.matches(new xt(e,n))||(n=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Kt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;r.hasNext()&&s<this.limit_;){var o=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(o.name,o.node),s++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Kt.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();s=0;for(var h=!1;r.hasNext();)o=r.getNext(),!h&&l(a,o)<=0&&(h=!0),h&&s<this.limit_&&l(o,c)<=0?s++:i=i.updateImmediateChild(o.name,Kt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var c=t;s.assert(c.numChildren()===this.limit_,"");var l=new xt(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=i.getChildAfterChild(this.index_,u,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,l);if(h&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(Ce.childChangedChange(e,n,d)),c.updateImmediateChild(e,n);null!=r&&r.trackChildChange(Ce.childRemovedChange(e,d));var m=c.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(Ce.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?t:h&&o(u,l)>=0?(null!=r&&(r.trackChildChange(Ce.childRemovedChange(u.name,u.node)),r.trackChildChange(Ce.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,Kt.EMPTY_NODE)):t},t}(),pn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Rt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Rt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Te(this.getIndex()):this.hasLimit()?new dn(this):new hn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()||(this.index_===Rt?e=n.PRIORITY_INDEX:this.index_===Qt?e=n.VALUE_INDEX:this.index_===It?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Yt,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=s.stringify(e),this.startSet_&&(i[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_)),i},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),fn=function(t){function e(e,n){if(!(e instanceof un))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,pn.DEFAULT,!1)||this}return r.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?vt("Reference.child",1,t,!1):yt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),_t("Reference.set",this.path),dt("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),_t("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var r=new s.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority",this.path),dt("Reference.setWithPriority",1,t,this.path,!1),mt("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),_t("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),_t("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),St("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new s.Deferred;"function"==typeof e&&i.promise.catch(function(){});var r=function(t,n,r){t?i.reject(t):i.resolve(new Tt(n,r)),"function"==typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority",this.path),mt("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),_t("Reference.push",this.path),dt("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=kt(i),o=this.child(r),a=this.child(r);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return _t("Reference.onDisconnect",this.path),new Ct(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(ne);ne.__referenceConstructor=fn,De.__referenceConstructor=fn;var mn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),gn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new mn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof J?e:new J(e),i=this,r=n.getFront();null!==r;)i=new t(r,i,s.safeGet(i.node_.children,r)||new mn),r=(n=n.popFront()).getFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;F(this.node_.children,function(i,r){e(new t(i,n,r))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=s.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),bn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});un.MAX_TRANSACTION_RETRIES_=25,un.prototype.transactionsInit_=function(){this.transactionQueueTree_=new gn},un.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new fn(this,t);o.on("value",r);var a={path:t,update:e,onComplete:n,status:null,order:b(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);a.currentInputSnapshot=c;var l=a.update(c.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var u=new Xt(a.currentInputSnapshot,new fn(this,a.path),Rt);a.onComplete(null,!1,u)}}else{pt("transaction failed: Data returned ",l,a.path),a.status=bn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var p=void 0;"object"==typeof l&&null!==l&&s.contains(l,".priority")?(p=s.safeGet(l,".priority"),s.assert(ht(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Kt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),m=$t(l,p),g=le(m,c,f);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},un.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Kt.EMPTY_NODE},un.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===bn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},un.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map(function(t){return t.currentWriteId}),r=this.getLatestState_(t,i),o=r,a=r.hash(),c=0;c<e.length;c++){var l=e[c];s.assert(l.status===bn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=bn.SENT,l.retryCount++;var u=J.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var s=[],o=0;o<e.length;o++){if(e[o].status=bn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[o].currentWriteId)),e[o].onComplete){var a=e[o].currentOutputSnapshotResolved,c=new fn(n,e[o].path),l=new Xt(a,c,Rt);s.push(e[o].onComplete.bind(null,null,!0,l))}e[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),o=0;o<s.length;o++)Y(s[o])}else{if("datastale"===i)for(o=0;o<e.length;o++)e[o].status=e[o].status===bn.SENT_NEEDS_ABORT?bn.NEEDS_ABORT:bn.RUN;else for(E("transaction at "+d.toString()+" failed: "+i),o=0;o<e.length;o++)e[o].status=bn.NEEDS_ABORT,e[o].abortReason=i;n.rerunTransactions_(t)}},a)},un.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},un.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter(function(t){return t.status===bn.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var a=t[o],c=J.relativePath(e,a.path),l=!1,u=void 0;if(s.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===bn.NEEDS_ABORT)l=!0,u=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===bn.RUN)if(a.retryCount>=un.MAX_TRANSACTION_RETRIES_)l=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,r);a.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){pt("transaction failed: Data returned ",d,a.path);var p=$t(d);"object"==typeof d&&null!=d&&s.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=a.currentWriteId,m=this.generateServerValues(),g=le(p,h,m);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else l=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[o].status=bn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===u){var b=new fn(this,t[o].path),y=new Xt(t[o].currentInputSnapshot,b,Rt);n.push(t[o].onComplete.bind(null,null,!1,y))}else n.push(t[o].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Y(n[o]);this.sendReadyTransactions_()}},un.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},un.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},un.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},un.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==bn.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},un.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},un.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===bn.SENT_NEEDS_ABORT||(e[o].status===bn.SENT?(s.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=bn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(s.assert(e[o].status===bn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)Y(n[o])}};var yn,vn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),_n=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),wn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return yn||(yn=new t),yn},t.prototype.interrupt=function(){var t,e,n,i;try{for(var s=r.__values(Object.keys(this.repos_)),o=s.next();!o.done;o=s.next()){var a=o.value;try{for(var c=(n=void 0,r.__values(Object.keys(this.repos_[a]))),l=c.next();!l.done;l=c.next())this.repos_[a][l.value].interrupt()}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,i;try{for(var s=r.__values(Object.keys(this.repos_)),o=s.next();!o.done;o=s.next()){var a=o.value;try{for(var c=(n=void 0,r.__values(Object.keys(this.repos_[a]))),l=c.next();!l.done;l=c.next())this.repos_[a][l.value].resume()}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,i){var r=n||t.options.databaseURL;void 0===r&&(t.options.projectId||x("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),r=t.options.projectId+"-default-rtdb.firebaseio.com");var s,o=rt(r,i),a=o.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,a=(o=rt(r="http://"+c+"?ns="+a.namespace,i)).repoInfo):s=!o.repoInfo.secure;var l=i&&s?new _n:new vn(t,e);return wt("Invalid Firebase Database URL",1,o),o.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,l).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||x("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var i=s.safeGet(this.repos_,e.name);i||(this.repos_[e.name]=i={});var r=s.safeGet(i,t.toURLString());return r&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new un(t,this.useRestClient_,e,n),i[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Sn=function(){function t(t){this.repo_=t,t instanceof un||x("Don't call new Database() directly - please use firebase.database()."),this.root_=new fn(t,J.Empty),this.INTERNAL=new Cn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof fn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=rt(t,this.repo_.repoInfo_.nodeAdmin);wt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&x(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&x("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Cn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.database.checkDeleted_("delete"),wn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),Tn=Object.freeze({__proto__:null,forceLongPolling:function(){en.forceDisallow(),Xe.forceAllow()},forceWebSockets:function(){Xe.forceDisallow()},isWebSocketsAvailable:function(){return en.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),kn=an;an.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},an.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var xn=Object.freeze({__proto__:null,DataConnection:kn,RealTimeConnection:rn,hijackHash:function(t){var e=an.prototype.put;return an.prototype.put=function(n,i,r,s){void 0!==s&&(s=t()),e.call(this,n,i,r,s)},function(){an.prototype.put=e}},ConnectionTarget:it,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){wn.getInstance().forceRestClient(t)}}),En=Sn.ServerValue;function On(e){Ze=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new a.Component("database",function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return wn.getInstance().databaseFromApp(n,i,e)},"PUBLIC").setServiceProps({Reference:fn,Query:ne,Database:Sn,DataSnapshot:Xt,enableLogging:S,INTERNAL:Tn,ServerValue:En,TEST_ACCESS:xn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),s.isNodeSdk()&&(t.exports=n)}On(u.default),e.DataSnapshot=Xt,e.Database=Sn,e.OnDisconnect=Ct,e.Query=ne,e.Reference=fn,e.ServerValue=En,e.enableLogging=S,e.registerDatabase=On},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("Cfvw"),s=n("EY2u");function o(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(r.a)(n):Object(s.b)()).subscribe(e)})}},Nv8m:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("yCtX"),s=n("l7GE"),o=n("ZUHj");function a(...t){if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(r.a)(t,void 0).lift(new c)}class c{call(t,e){return e.subscribe(new l(t))}}class l extends s.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],i=Object(o.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},OQgR:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return h});var i=n("7o/Q"),r=n("quSY"),s=n("HDdC"),o=n("XNiG");function a(t,e,n,i){return r=>r.lift(new c(t,e,n,i))}class c{constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class l extends i.a{constructor(t,e,n,i,r){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(s){this.error(s)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,r);const t=new h(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new h(e,r))}catch(s){return void this.error(s)}this.add(t.subscribe(new u(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class u extends i.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class h extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new r.a,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new d(n)),e.add(i.subscribe(t)),e}}class d extends r.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=r.a),new i.a(e=>{const i=Object(s.a)(t)?t:+t-n.now();return n.schedule(c,i,{index:0,period:a,subscriber:e})})}function c(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mAIw"),r=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:o,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var r=i.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=i.__read(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService(l);c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(i.__spread(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=c,e.Provider=a},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("sVev"),r=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(r.a)((e,n)=>t(e,n,l)):c.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new i.a))}},T7iU:function(t,e,n){"object"==typeof navigator&&(t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f={addCSS:!0,thumbWidth:15,watch:!0};function m(t,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}var g,b,y,v=function(t){return null!=t?t.constructor:null},_=function(t,e){return!!(t&&e&&t instanceof e)},w=function(t){return v(t)===String},S=function(t){return Array.isArray(t)},C=function(t){return _(t,NodeList)},T=w,k=S,x=C,E=function(t){return _(t,Element)},O=function(t){return _(t,Event)},I=function(t){return function(t){return null==t}(t)||(w(t)||S(t)||C(t))&&!t.length||function(t){return v(t)===Object}(t)&&!Object.keys(t).length},A=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),E(e)?this.element=e:T(e)&&(this.element=document.querySelector(e)),E(this.element)&&I(this.element.rangeTouch)&&(this.config=p({},f,{},n),this.init())}return function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,n=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(t){e.element[n](t,function(t){return e.set(t)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!O(e))return null;var n,i=e.target,r=e.changedTouches[0],s=parseFloat(i.getAttribute("min"))||0,o=parseFloat(i.getAttribute("max"))||100,a=parseFloat(i.getAttribute("step"))||1,c=i.getBoundingClientRect(),l=100/c.width*(this.config.thumbWidth/2)/100;return 0>(n=100/c.width*(r.clientX-c.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*l:50<n&&(n+=2*(n-50)*l),s+function(t,e){if(1>e){var n=function(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);return parseFloat(t.toFixed(n))}return Math.round(t/e)*e}(n/100*(o-s),a)}},{key:"set",value:function(e){t.enabled&&O(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(t,e){if(t&&e){var n=new Event(e,{bubbles:!0});t.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(I(e)||T(e)?i=Array.from(document.querySelectorAll(T(e)?e:'input[type="range"]')):E(e)?i=[e]:x(e)?i=Array.from(e):k(e)&&(i=e.filter(E)),I(i))return null;var r=p({},f,{},n);return T(e)&&r.watch&&new MutationObserver(function(n){Array.from(n).forEach(function(n){Array.from(n.addedNodes).forEach(function(n){E(n)&&m(n,e)&&new t(n,r)})})}).observe(document.body,{childList:!0,subtree:!0}),i.map(function(e){return new t(e,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),P=function(t){return null!=t?t.constructor:null},D=function(t,e){return Boolean(t&&e&&t instanceof e)},R=function(t){return null==t},N=function(t){return P(t)===Object},L=function(t){return P(t)===String},F=function(t){return P(t)===Function},j=function(t){return Array.isArray(t)},M=function(t){return D(t,NodeList)},U=function(t){return R(t)||(L(t)||j(t)||M(t))&&!t.length||N(t)&&!Object.keys(t).length},B=R,V=N,z=function(t){return P(t)===Number&&!Number.isNaN(t)},q=L,H=function(t){return P(t)===Boolean},K=F,W=j,$=M,G=function(t){return D(t,Element)},Q=function(t){return D(t,Event)},Y=function(t){return D(t,KeyboardEvent)},X=function(t){return D(t,TextTrack)||!R(t)&&L(t.kind)},J=function(t){if(D(t,window.URL))return!0;if(!L(t))return!1;var e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://".concat(t));try{return!U(new URL(e).hostname)}catch(t){return!1}},Z=U,tt=(g=document.createElement("span"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},y=Object.keys(b).find(function(t){return void 0!==g.style[t]}),!!q(y)&&b[y]);function et(t,e){setTimeout(function(){try{t.hidden=!0,t.hidden=!1}catch(t){}},e)}var nt={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function it(t,e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)}function rt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!n.length)return t;var s=n.shift();return V(s)?(Object.keys(s).forEach(function(e){V(s[e])?(Object.keys(t).includes(e)||Object.assign(t,i({},e,{})),rt(t[e],s[e])):Object.assign(t,i({},e,s[e]))}),rt.apply(void 0,[t].concat(n))):t}function st(t,e){Array.from(t.length?t:[t]).reverse().forEach(function(t,n){var i=n>0?e.cloneNode(!0):e,r=t.parentNode,s=t.nextSibling;i.appendChild(t),s?r.insertBefore(i,s):r.appendChild(i)})}function ot(t,e){G(t)&&!Z(e)&&Object.entries(e).filter(function(t){var e=o(t,2)[1];return!B(e)}).forEach(function(e){var n=o(e,2);return t.setAttribute(n[0],n[1])})}function at(t,e,n){var i=document.createElement(t);return V(e)&&ot(i,e),q(n)&&(i.innerText=n),i}function ct(t,e,n,i){G(e)&&e.appendChild(at(t,n,i))}function lt(t){$(t)||W(t)?Array.from(t).forEach(lt):G(t)&&G(t.parentNode)&&t.parentNode.removeChild(t)}function ut(t){if(G(t))for(var e=t.childNodes.length;e>0;)t.removeChild(t.lastChild),e-=1}function ht(t,e){return G(e)&&G(e.parentNode)&&G(t)?(e.parentNode.replaceChild(t,e),t):null}function dt(t,e){if(!q(t)||Z(t))return{};var n={},i=rt({},e);return t.split(",").forEach(function(t){var e=t.trim(),r=e.replace(".",""),s=e.replace(/[[\]]/g,"").split("="),a=o(s,1)[0],c=s.length>1?s[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":n.class=q(i.class)?"".concat(i.class," ").concat(r):r;break;case"#":n.id=e.replace("#","");break;case"[":n[a]=c}}),rt(i,n)}function pt(t,e){if(G(t)){var n=e;H(n)||(n=!t.hidden),t.hidden=n}}function ft(t,e,n){if($(t))return Array.from(t).map(function(t){return ft(t,e,n)});if(G(t)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),t.classList[i](e),t.classList.contains(e)}return!1}function mt(t,e){return G(t)&&t.classList.contains(e)}function gt(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function bt(t){return this.elements.container.querySelectorAll(t)}function yt(t){return this.elements.container.querySelector(t)}function vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];G(t)&&(t.focus({preventScroll:!0}),e&&ft(t,this.config.classNames.tabFocus))}var _t,wt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},St={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,n){var i=St[t]||"html5"!==e;return{api:i,ui:i&&St.rangeInput&&("video"!==t||!nt.isIPhone||nt.isIPhone&&n&&St.playsinline)}},pip:!(nt.isIPhone||!K(at("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||at("video").disablePictureInPicture)),airplay:K(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){if(Z(t))return!1;var e=o(t.split("/"),1)[0],n=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(wt).includes(n)&&(n+='; codecs="'.concat(wt[t],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(_t=document.createElement("input"),_t.type="range","range"===_t.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==tt,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function Tt(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t&&"addEventListener"in t&&!Z(e)&&K(n)){var a=e.split(" "),c=o;Ct&&(c={passive:s,capture:o}),a.forEach(function(e){i&&i.eventListeners&&r&&i.eventListeners.push({element:t,type:e,callback:n,options:c}),t[r?"addEventListener":"removeEventListener"](e,n,c)})}}function kt(t){Tt.call(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0,!0,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])}function xt(t){Tt.call(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0,!1,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])}function Et(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Tt.call(this,t,n,function o(){xt(t,n,o,r,s);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];i.apply(e,c)},!0,r,s)}function Ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(G(t)&&!Z(e)){var r=new CustomEvent(e,{bubbles:n,detail:s(s({},i),{},{plyr:this})});t.dispatchEvent(r)}}function It(){this&&this.eventListeners&&(this.eventListeners.forEach(function(t){t.element.removeEventListener(t.type,t.callback,t.options)}),this.eventListeners=[])}function At(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):kt.call(t,t.elements.container,"ready",e)}).then(function(){})}function Pt(t){(function(t){return D(t,Promise)&&F(t.then)})(t)&&t.then(null,function(){})}function Dt(t){return!!(W(t)||q(t)&&t.includes(":"))&&(W(t)?t:t.split(":")).map(Number).every(z)}function Rt(t){if(!W(t)||!t.every(z))return null;var e=o(t,2),n=e[0],i=e[1],r=function t(e,n){return 0===n?e:t(n,e%n)}(n,i);return[n/r,i/r]}function Nt(t){var e=function(t){return Dt(t)?t.split(":").map(Number):null},n=e(t);if(null===n&&(n=e(this.config.ratio)),null===n&&!Z(this.embed)&&W(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Rt([i.videoWidth,i.videoHeight])}return n}function Lt(t){if(!this.isVideo)return{};var e=this.elements.wrapper,n=Nt.call(this,t),i=o(W(n)?n:[0,0],2),r=100/i[0]*i[1];if(e.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-r)/(s/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(a,"%)")}else this.isHTML5&&e.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:r,ratio:n}}var Ft={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){var n=e.getAttribute("type");return!!Z(n)||St.mime.call(t,n)}):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:Ft.getSources.call(this).map(function(t){return Number(t.getAttribute("size"))}).filter(Boolean)},setup:function(){if(this.isHTML5){var t=this;t.options.speed=t.config.speed.options,Z(this.config.ratio)||Lt.call(t),Object.defineProperty(t.media,"quality",{get:function(){var e=Ft.getSources.call(t).find(function(e){return e.getAttribute("src")===t.source});return e&&Number(e.getAttribute("size"))},set:function(e){if(t.quality!==e){if(t.config.quality.forced&&K(t.config.quality.onChange))t.config.quality.onChange(e);else{var n=Ft.getSources.call(t).find(function(t){return Number(t.getAttribute("size"))===e});if(!n)return;var i=t.media,r=i.currentTime,s=i.paused,o=i.preload,a=i.readyState,c=i.playbackRate;t.media.src=n.getAttribute("src"),("none"!==o||a)&&(t.once("loadedmetadata",function(){t.speed=c,t.currentTime=r,s||Pt(t.play())}),t.media.load())}Ot.call(t,t.media,"qualitychange",!1,{quality:e})}}})}},cancelRequests:function(){this.isHTML5&&(lt(Ft.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function jt(t){return W(t)?t.filter(function(e,n){return t.indexOf(e)===n}):t}function Mt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Z(t)?t:t.toString().replace(/{(\d+)}/g,function(t,e){return n[e].toString()})}var Ut=function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString())},Bt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})};function Vt(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return t=Ut(t,"-"," "),t=Ut(t,"_"," "),t=Bt(t),Ut(t," ","")}function zt(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML}var qt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Z(t)||Z(e))return"";var n=it(e.i18n,t);return Z(n)?Object.keys(qt).includes(t)?qt[t]:"":(Object.entries({"{seektime}":e.seekTime,"{title}":e.title}).forEach(function(t){var e=o(t,2);n=Ut(n,e[0],e[1])}),n)},Kt=function(){function e(n){t(this,e),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return n(e,[{key:"get",value:function(t){if(!e.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(Z(n))return null;var i=JSON.parse(n);return q(t)&&t.length?i[t]:i}},{key:"set",value:function(t){if(e.supported&&this.enabled&&V(t)){var n=this.get();Z(n)&&(n={}),rt(n,t),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}]),e}();function Wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",function(){if("text"===e)try{n(JSON.parse(r.responseText))}catch(t){n(r.responseText)}else n(r.response)}),r.addEventListener("error",function(){throw new Error(r.status)}),r.open("GET",t,!0),r.responseType=e,r.send()}catch(t){i(t)}})}function $t(t,e){if(q(t)){var n="cache",i=q(e),r=function(){return null!==document.getElementById(e)},s=function(t,e){t.innerHTML=e,i&&r()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!r()){var o=Kt.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",e),o){var c=window.localStorage.getItem("".concat(n,"-").concat(e));if(null!==c){var l=JSON.parse(c);s(a,l.content)}}Wt(t).then(function(t){Z(t)||(o&&window.localStorage.setItem("".concat(n,"-").concat(e),JSON.stringify({content:t})),s(a,t))}).catch(function(){})}}}var Gt=function(t){return Math.trunc(t/60/60%60,10)},Qt=function(t){return Math.trunc(t/60%60,10)},Yt=function(t){return Math.trunc(t%60,10)};function Xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!z(t))return Xt(void 0,e,n);var i=function(t){return"0".concat(t).slice(-2)},r=Gt(t),s=Qt(t),o=Yt(t);return r=e||r>0?"".concat(r,":"):"","".concat(n&&t>0?"-":"").concat(r).concat(i(s),":").concat(i(o))}var Jt={getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||nt.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=yt.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:bt.call(this,this.config.selectors.buttons.play),pause:yt.call(this,this.config.selectors.buttons.pause),restart:yt.call(this,this.config.selectors.buttons.restart),rewind:yt.call(this,this.config.selectors.buttons.rewind),fastForward:yt.call(this,this.config.selectors.buttons.fastForward),mute:yt.call(this,this.config.selectors.buttons.mute),pip:yt.call(this,this.config.selectors.buttons.pip),airplay:yt.call(this,this.config.selectors.buttons.airplay),settings:yt.call(this,this.config.selectors.buttons.settings),captions:yt.call(this,this.config.selectors.buttons.captions),fullscreen:yt.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=yt.call(this,this.config.selectors.progress),this.elements.inputs={seek:yt.call(this,this.config.selectors.inputs.seek),volume:yt.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:yt.call(this,this.config.selectors.display.buffer),currentTime:yt.call(this,this.config.selectors.display.currentTime),duration:yt.call(this,this.config.selectors.display.duration)},G(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(t,e){var n="http://www.w3.org/2000/svg",i=Jt.getIconUrl.call(this),r="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),s=document.createElementNS(n,"svg");ot(s,rt(e,{"aria-hidden":"true",focusable:"false"}));var o=document.createElementNS(n,"use"),a="".concat(r,"-").concat(t);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(o),s},createLabel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ht(t,this.config);return at("span",s(s({},e),{},{class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(t){if(Z(t))return null;var e=at("span",{class:this.config.classNames.menu.value});return e.appendChild(at("span",{class:this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var n=this,i=rt({},e),r=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(t=Vt(t)).charAt(0).toLowerCase()+t.slice(1)}(t),s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(t){Object.keys(i).includes(t)&&(s[t]=i[t],delete i[t])}),"button"!==s.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(function(t){return t===n.config.classNames.control})||rt(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,t){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",s.label="play",s.icon="play";break;default:Z(s.label)&&(s.label=r),Z(s.icon)&&(s.icon=t)}var o=at(s.element);return s.toggle?(o.appendChild(Jt.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),o.appendChild(Jt.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),o.appendChild(Jt.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),o.appendChild(Jt.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(o.appendChild(Jt.createIcon.call(this,s.icon)),o.appendChild(Jt.createLabel.call(this,s.label))),rt(i,dt(this.config.selectors.buttons[r],i)),ot(o,i),"play"===r?(W(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange:function(t,e){var n=at("input",rt(dt(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ht(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,Jt.updateRangeFill.call(this,n),A.setup(n),n},createProgress:function(t,e){var n=at("progress",rt(dt(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if("volume"!==t){n.appendChild(at("span",null,"0"));var i={played:"played",buffer:"buffered"}[t],r=i?Ht(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[t]=n,n},createTime:function(t,e){var n=dt(this.config.selectors.display[t],e),i=at("div",rt(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Ht(t,this.config)}),"00:00");return this.elements.display[t]=i,i},bindMenuItemShortcuts:function(t,e){var n=this;kt.call(this,t,"keydown keyup",function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var r,s=gt(t,'[role="menuitemradio"]');!s&&[32,39].includes(i.which)?Jt.showMenuPanel.call(n,e,!0):32!==i.which&&(40===i.which||s&&39===i.which?G(r=t.nextElementSibling)||(r=t.parentNode.firstElementChild):G(r=t.previousElementSibling)||(r=t.parentNode.lastElementChild),vt.call(n,r,!0))}},!1),kt.call(this,t,"keyup",function(t){13===t.which&&Jt.focusFirstMenuItem.call(n,null,!0)})},createMenuItem:function(t){var e=this,n=t.value,i=t.list,r=t.type,s=t.title,o=t.badge,a=void 0===o?null:o,c=t.checked,l=void 0!==c&&c,u=dt(this.config.selectors.inputs[r]),h=at("button",rt(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":l,value:n})),d=at("span");d.innerHTML=s,G(a)&&d.appendChild(a),h.appendChild(d),Object.defineProperty(h,"checked",{enumerable:!0,get:function(){return"true"===h.getAttribute("aria-checked")},set:function(t){t&&Array.from(h.parentNode.children).filter(function(t){return gt(t,'[role="menuitemradio"]')}).forEach(function(t){return t.setAttribute("aria-checked","false")}),h.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(h,"click keyup",function(t){if(!Y(t)||32===t.which){switch(t.preventDefault(),t.stopPropagation(),h.checked=!0,r){case"language":e.currentTrack=Number(n);break;case"quality":e.quality=n;break;case"speed":e.speed=parseFloat(n)}Jt.showMenuPanel.call(e,"home",Y(t))}},r,!1),Jt.bindMenuItemShortcuts.call(this,h,r),i.appendChild(h)},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return z(t)?Xt(t,Gt(this.duration)>0,e):t},updateTimeDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];G(t)&&z(e)&&(t.innerText=Jt.formatTime(e,n))},updateVolume:function(){this.supported.ui&&(G(this.elements.inputs.volume)&&Jt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),G(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;G(t)&&(t.value=e,Jt.updateRangeFill.call(this,t))},updateProgress:function(t){var e=this;if(this.supported.ui&&Q(t)){var n,i,r=0;if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":i=this.duration,r=0===(n=this.currentTime)||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===t.type&&Jt.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(t,n){var i=z(n)?n:0,r=G(t)?t:e.elements.display.buffer;if(G(r)){r.value=i;var s=r.getElementsByTagName("span")[0];G(s)&&(s.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(t){var e=Q(t)?t.target:t;if(G(e)&&"range"===e.getAttribute("type")){if(gt(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);var n=Jt.formatTime(this.currentTime),i=Jt.formatTime(this.duration),r=Ht("seekLabel",this.config);e.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(gt(e,this.config.selectors.inputs.volume)){var s=100*e.value;e.setAttribute("aria-valuenow",s),e.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else e.setAttribute("aria-valuenow",e.value);nt.isWebkit&&e.style.setProperty("--value","".concat(e.value/e.max*100,"%"))}},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&G(this.elements.inputs.seek)&&G(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(t){return ft(e.elements.display.seekTooltip,n,t)};if(this.touch)i(!1);else{var r=0,s=this.elements.progress.getBoundingClientRect();if(Q(t))r=100/s.width*(t.pageX-s.left);else{if(!mt(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:r>100&&(r=100),Jt.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),Q(t)&&["mouseenter","mouseleave"].includes(t.type)&&i("mouseenter"===t.type)}}},timeUpdate:function(t){var e=!G(this.elements.display.duration)&&this.config.invertTime;Jt.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||Jt.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return pt(this.elements.display.currentTime,!0),void pt(this.elements.progress,!0);G(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var t=G(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Jt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Jt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Jt.updateSeekTooltip.call(this)}},toggleMenuButton:function(t,e){pt(this.elements.settings.buttons[t],!e)},updateSetting:function(t,e,n){var i=this.elements.settings.panels[t],r=null,s=e;if("captions"===t)r=this.currentTrack;else{if(r=Z(n)?this[t]:n,Z(r)&&(r=this.config[t].default),!Z(this.options[t])&&!this.options[t].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(t));if(!this.config[t].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(t))}if(G(s)||(s=i&&i.querySelector('[role="menu"]')),G(s)){this.elements.settings.buttons[t].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Jt.getLabel.call(this,t,r);var o=s&&s.querySelector('[value="'.concat(r,'"]'));G(o)&&(o.checked=!0)}},getLabel:function(t,e){switch(t){case"speed":return 1===e?Ht("normal",this.config):"".concat(e,"&times;");case"quality":if(z(e)){var n=Ht("qualityLabel.".concat(e),this.config);return n.length?n:"".concat(e,"p")}return Bt(e);case"captions":return ee.getLabel.call(this);default:return null}},setQualityMenu:function(t){var e=this;if(G(this.elements.settings.panels.quality)){var n="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');W(t)&&(this.options.quality=jt(t).filter(function(t){return e.config.quality.options.includes(t)}));var r=!Z(this.options.quality)&&this.options.quality.length>1;if(Jt.toggleMenuButton.call(this,n,r),ut(i),Jt.checkMenu.call(this),r){var s=function(t){var n=Ht("qualityBadge.".concat(t),e.config);return n.length?Jt.createBadge.call(e,n):null};this.options.quality.sort(function(t,n){var i=e.config.quality.options;return i.indexOf(t)>i.indexOf(n)?1:-1}).forEach(function(t){Jt.createMenuItem.call(e,{value:t,list:i,type:n,title:Jt.getLabel.call(e,"quality",t),badge:s(t)})}),Jt.updateSetting.call(this,n,i)}}},setCaptionsMenu:function(){var t=this;if(G(this.elements.settings.panels.captions)){var e="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=ee.getTracks.call(this),r=Boolean(i.length);if(Jt.toggleMenuButton.call(this,e,r),ut(n),Jt.checkMenu.call(this),r){var s=i.map(function(e,i){return{value:i,checked:t.captions.toggled&&t.currentTrack===i,title:ee.getLabel.call(t,e),badge:e.language&&Jt.createBadge.call(t,e.language.toUpperCase()),list:n,type:"language"}});s.unshift({value:-1,checked:!this.captions.toggled,title:Ht("disabled",this.config),list:n,type:"language"}),s.forEach(Jt.createMenuItem.bind(this)),Jt.updateSetting.call(this,e,n)}}},setSpeedMenu:function(){var t=this;if(G(this.elements.settings.panels.speed)){var e="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(function(e){return e>=t.minimumSpeed&&e<=t.maximumSpeed});var i=!Z(this.options.speed)&&this.options.speed.length>1;Jt.toggleMenuButton.call(this,e,i),ut(n),Jt.checkMenu.call(this),i&&(this.options.speed.forEach(function(i){Jt.createMenuItem.call(t,{value:i,list:n,type:e,title:Jt.getLabel.call(t,"speed",i)})}),Jt.updateSetting.call(this,e,n))}},checkMenu:function(){var t=this.elements.settings.buttons,e=!Z(t)&&Object.values(t).some(function(t){return!t.hidden});pt(this.elements.settings.menu,!e)},focusFirstMenuItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=t;G(n)||(n=Object.values(this.elements.settings.panels).find(function(t){return!t.hidden}));var i=n.querySelector('[role^="menuitem"]');vt.call(this,i,e)}},toggleMenu:function(t){var e=this.elements.settings.popup,n=this.elements.buttons.settings;if(G(e)&&G(n)){var i=e.hidden,r=i;if(H(t))r=t;else if(Y(t)&&27===t.which)r=!1;else if(Q(t)){var s=K(t.composedPath)?t.composedPath()[0]:t.target,o=e.contains(s);if(o||!o&&t.target!==n&&r)return}n.setAttribute("aria-expanded",r),pt(e,!r),ft(this.elements.container,this.config.classNames.menu.open,r),r&&Y(t)?Jt.focusFirstMenuItem.call(this,null,!0):r||i||vt.call(this,n,Y(t))}},getMenuSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);var n=e.scrollWidth,i=e.scrollHeight;return lt(e),{width:n,height:i}},showMenuPanel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(e));if(G(i)){var r=i.parentNode,s=Array.from(r.children).find(function(t){return!t.hidden});if(St.transitions&&!St.reducedMotion){r.style.width="".concat(s.scrollWidth,"px"),r.style.height="".concat(s.scrollHeight,"px");var o=Jt.getMenuSize.call(this,i),a=function e(n){n.target===r&&["width","height"].includes(n.propertyName)&&(r.style.width="",r.style.height="",xt.call(t,r,tt,e))};kt.call(this,r,tt,a),r.style.width="".concat(o.width,"px"),r.style.height="".concat(o.height,"px")}pt(s,!0),pt(i,!1),Jt.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var t=this.elements.buttons.download;G(t)&&t.setAttribute("href",this.download)},create:function(t){var e=this,n=Jt.bindMenuItemShortcuts,i=Jt.createButton,r=Jt.createProgress,s=Jt.createRange,o=Jt.createTime,a=Jt.setQualityMenu,c=Jt.setSpeedMenu,l=Jt.showMenuPanel;this.elements.controls=null,W(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var u=at("div",dt(this.config.selectors.controls.wrapper));this.elements.controls=u;var h={class:"plyr__controls__item"};return jt(W(this.config.controls)?this.config.controls:[]).forEach(function(a){if("restart"===a&&u.appendChild(i.call(e,"restart",h)),"rewind"===a&&u.appendChild(i.call(e,"rewind",h)),"play"===a&&u.appendChild(i.call(e,"play",h)),"fast-forward"===a&&u.appendChild(i.call(e,"fast-forward",h)),"progress"===a){var c=at("div",{class:"".concat(h.class," plyr__progress__container")}),d=at("div",dt(e.config.selectors.progress));if(d.appendChild(s.call(e,"seek",{id:"plyr-seek-".concat(t.id)})),d.appendChild(r.call(e,"buffer")),e.config.tooltips.seek){var p=at("span",{class:e.config.classNames.tooltip},"00:00");d.appendChild(p),e.elements.display.seekTooltip=p}e.elements.progress=d,c.appendChild(e.elements.progress),u.appendChild(c)}if("current-time"===a&&u.appendChild(o.call(e,"currentTime",h)),"duration"===a&&u.appendChild(o.call(e,"duration",h)),"mute"===a||"volume"===a){var f=e.elements.volume;G(f)&&u.contains(f)||(f=at("div",rt({},h,{class:"".concat(h.class," plyr__volume").trim()})),e.elements.volume=f,u.appendChild(f)),"mute"===a&&f.appendChild(i.call(e,"mute")),"volume"!==a||nt.isIos||f.appendChild(s.call(e,"volume",rt({max:1,step:.05,value:e.config.volume},{id:"plyr-volume-".concat(t.id)})))}if("captions"===a&&u.appendChild(i.call(e,"captions",h)),"settings"===a&&!Z(e.config.settings)){var m=at("div",rt({},h,{class:"".concat(h.class," plyr__menu").trim(),hidden:""}));m.appendChild(i.call(e,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(t.id),"aria-expanded":!1}));var g=at("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(t.id),hidden:""}),b=at("div"),y=at("div",{id:"plyr-settings-".concat(t.id,"-home")}),v=at("div",{role:"menu"});y.appendChild(v),b.appendChild(y),e.elements.settings.panels.home=y,e.config.settings.forEach(function(i){var r=at("button",rt(dt(e.config.selectors.buttons.settings),{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(e,r,i),kt.call(e,r,"click",function(){l.call(e,i,!1)});var s=at("span",null,Ht(i,e.config)),o=at("span",{class:e.config.classNames.menu.value});o.innerHTML=t[i],s.appendChild(o),r.appendChild(s),v.appendChild(r);var a=at("div",{id:"plyr-settings-".concat(t.id,"-").concat(i),hidden:""}),c=at("button",{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--back")});c.appendChild(at("span",{"aria-hidden":!0},Ht(i,e.config))),c.appendChild(at("span",{class:e.config.classNames.hidden},Ht("menuBack",e.config))),kt.call(e,a,"keydown",function(t){37===t.which&&(t.preventDefault(),t.stopPropagation(),l.call(e,"home",!0))},!1),kt.call(e,c,"click",function(){l.call(e,"home",!1)}),a.appendChild(c),a.appendChild(at("div",{role:"menu"})),b.appendChild(a),e.elements.settings.buttons[i]=r,e.elements.settings.panels[i]=a}),g.appendChild(b),m.appendChild(g),u.appendChild(m),e.elements.settings.popup=g,e.elements.settings.menu=m}if("pip"===a&&St.pip&&u.appendChild(i.call(e,"pip",h)),"airplay"===a&&St.airplay&&u.appendChild(i.call(e,"airplay",h)),"download"===a){var _=rt({},h,{element:"a",href:e.download,target:"_blank"});e.isHTML5&&(_.download=""),!J(e.config.urls.download)&&e.isEmbed&&rt(_,{icon:"logo-".concat(e.provider),label:e.provider}),u.appendChild(i.call(e,"download",_))}"fullscreen"===a&&u.appendChild(i.call(e,"fullscreen",h))}),this.isHTML5&&a.call(this,Ft.getQualityOptions.call(this)),c.call(this),u},inject:function(){var t=this;if(this.config.loadSprite){var e=Jt.getIconUrl.call(this);e.cors&&$t(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,r,s={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(K(this.config.controls)&&(this.config.controls=this.config.controls.call(this,s)),this.config.controls||(this.config.controls=[]),G(this.config.controls)||q(this.config.controls)?n=this.config.controls:(n=Jt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ee.getLabel.call(this)}),a=!1),a&&q(this.config.controls)&&(i=n,Object.entries(s).forEach(function(t){var e=o(t,2),n=e[1];i=Ut(i,"{".concat(e[0],"}"),n)}),n=i),q(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),G(r)||(r=this.elements.container),r[G(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),G(this.elements.controls)||Jt.findElements.call(this),!Z(this.elements.buttons)){var c=function(e){var n=t.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return mt(e,n)},set:function(){ft(e,n,arguments.length>0&&void 0!==arguments[0]&&arguments[0])}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(t){W(t)||$(t)?Array.from(t).filter(Boolean).forEach(c):c(t)})}if(nt.isEdge&&et(r),this.config.tooltips.controls){var l=this.config,u=l.classNames,h=l.selectors,d="".concat(h.controls.wrapper," ").concat(h.labels," .").concat(u.hidden),p=bt.call(this,d);Array.from(p).forEach(function(e){ft(e,t.config.classNames.hidden,!1),ft(e,t.config.classNames.tooltip,!0)})}}};function Zt(t){var e=t;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=e,e=n.href}try{return new URL(e)}catch(t){return null}}function te(t){var e=new URLSearchParams;return V(t)&&Object.entries(t).forEach(function(t){var n=o(t,2);e.set(n[0],n[1])}),e}var ee={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!St.textTracks)W(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Jt.setCaptionsMenu.call(this);else{if(G(this.elements.captions)||(this.elements.captions=at("div",dt(this.config.selectors.captions)),function(t,e){G(t)&&G(e)&&e.parentNode.insertBefore(t,e.nextSibling)}(this.elements.captions,this.elements.wrapper)),nt.isIE&&window.URL){var t=this.media.querySelectorAll("track");Array.from(t).forEach(function(t){var e=t.getAttribute("src"),n=Zt(e);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Wt(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){lt(t)})})}var e=jt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(t){return t.split("-")[0]})),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=o(e,1)[0]);var i=this.storage.get("captions");H(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:e}),this.isHTML5&&kt.call(this,this.media.textTracks,this.config.captions.update?"addtrack removetrack":"removetrack",ee.update.bind(this)),setTimeout(ee.update.bind(this),0)}},update:function(){var t=this,e=ee.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,s=n.meta,o=n.currentTrackNode,a=Boolean(e.find(function(t){return t.language===r}));this.isHTML5&&this.isVideo&&e.filter(function(t){return!s.get(t)}).forEach(function(e){t.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),kt.call(t,e,"cuechange",function(){return ee.updateCues.call(t)})}),(a&&this.language!==r||!e.includes(o))&&(ee.setLanguage.call(this,r),ee.toggle.call(this,i&&a)),ft(this.elements.container,this.config.classNames.captions.enabled,!Z(e)),W(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Jt.setCaptionsMenu.call(this)},toggle:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,s=B(t)?!i:t;if(s!==i){if(n||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!n){var o=ee.getTracks.call(this),c=ee.findTrack.call(this,[this.captions.language].concat(a(this.captions.languages)),!0);return this.captions.language=c.language,void ee.set.call(this,o.indexOf(c))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),ft(this.elements.container,r,s),this.captions.toggled=s,Jt.updateSetting.call(this,"captions"),Ot.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout(function(){s&&e.captions.toggled&&(e.captions.currentTrackNode.mode="hidden")})}},set:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ee.getTracks.call(this);if(-1!==t)if(z(t))if(t in n){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;var i=n[t],r=(i||{}).language;this.captions.currentTrackNode=i,Jt.updateSetting.call(this,"captions"),e||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),Ot.call(this,this.media,"languagechange")}ee.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&ee.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else ee.toggle.call(this,!1,e)},setLanguage:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(q(t)){var n=t.toLowerCase();this.captions.language=n;var i=ee.getTracks.call(this),r=ee.findTrack.call(this,[n]);ee.set.call(this,i.indexOf(r),e)}else this.debug.warn("Invalid language argument",t)},getTracks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(n){return!t.isHTML5||e||t.captions.meta.has(n)}).filter(function(t){return["captions","subtitles"].includes(t.kind)})},findTrack:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ee.getTracks.call(this),s=function(t){return Number((n.captions.meta.get(t)||{}).default)},o=Array.from(r).sort(function(t,e){return s(e)-s(t)});return t.every(function(t){return!(e=o.find(function(e){return e.language===t}))}),e||(i?o[0]:void 0)},getCurrentTrack:function(){return ee.getTracks.call(this)[this.currentTrack]},getLabel:function(t){var e=t;return!X(e)&&St.textTracks&&this.captions.toggled&&(e=ee.getCurrentTrack.call(this)),X(e)?Z(e.label)?Z(e.language)?Ht("enabled",this.config):t.language.toUpperCase():e.label:Ht("disabled",this.config)},updateCues:function(t){if(this.supported.ui)if(G(this.elements.captions))if(B(t)||Array.isArray(t)){var e=t;if(!e){var n=ee.getCurrentTrack.call(this);e=Array.from((n||{}).activeCues||[]).map(function(t){return t.getCueAsHTML()}).map(zt)}var i=e.map(function(t){return t.trim()}).join("\n");if(i!==this.elements.captions.innerHTML){ut(this.elements.captions);var r=at("span",dt(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Ot.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",t);else this.debug.warn("No captions element to render to")}},ne={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},ie="picture-in-picture",re={html5:"html5",youtube:"youtube",vimeo:"vimeo"},se="video",oe=function(){},ae=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(this,e),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return n(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):oe}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):oe}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):oe}}]),e}(),ce=function(){function e(n){var i=this;t(this,e),this.player=n,this.prefix=e.prefix,this.property=e.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(t,e){return(Element.prototype.closest||function(){var t=this;do{if(gt.matches(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}).call(t,e)}(this.player.elements.container,n.config.fullscreen.container),kt.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){i.onChange()}),kt.call(this.player,this.player.elements.container,"dblclick",function(t){G(i.player.elements.controls)&&i.player.elements.controls.contains(t.target)||i.player.listeners.proxy(t,i.toggle,"fullscreen")}),kt.call(this,this.player.elements.container,"keydown",function(t){return i.trapFocus(t)}),this.update()}return n(e,[{key:"onChange",value:function(){if(this.enabled){var t=this.player.elements.buttons.fullscreen;G(t)&&(t.pressed=this.active),Ot.call(this.player,this.target===this.player.media?this.target:this.player.elements.container,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",ft(this.target,this.player.config.classNames.fullscreen.fallback,t),nt.isIos){var e=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";e||(e=document.createElement("meta")).setAttribute("name","viewport");var i=q(e.content)&&e.content.includes(n);t?(this.cleanupViewport=!i,i||(e.content+=",".concat(n))):this.cleanupViewport&&(e.content=e.content.split(",").filter(function(t){return t.trim()!==n}).join(","))}this.onChange()}},{key:"trapFocus",value:function(t){if(!nt.isIos&&this.active&&"Tab"===t.key&&9===t.keyCode){var e=document.activeElement,n=bt.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=o(n,1)[0],r=n[n.length-1];e!==r||t.shiftKey?e===i&&t.shiftKey&&(r.focus(),t.preventDefault()):(i.focus(),t.preventDefault())}}},{key:"update",value:function(){this.player.debug.log(this.enabled?"".concat(this.forceFallback?"Fallback (forced)":e.native?"Native":"Fallback"," fullscreen enabled"):"Fullscreen not supported and fallback disabled"),ft(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(nt.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!e.native||this.forceFallback?this.toggleFallback(!0):this.prefix?Z(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(nt.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Pt(this.player.play());else if(!e.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Z(this.prefix)){var t="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(t).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return e.native&&!this.forceFallback}},{key:"enabled",get:function(){return(e.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!e.native||this.forceFallback)return mt(this.target,this.player.config.classNames.fullscreen.fallback);var t=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}},{key:"target",get:function(){return nt.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(K(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!K(document["".concat(e,"ExitFullscreen")])&&!K(document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),e}();function le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(n,i){var r=new Image,s=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=e?n:i)(r)};Object.assign(r,{onload:s,onerror:s,src:t})})}var ue={addStyleHook:function(){ft(this.elements.container,this.config.selectors.container.replace(".",""),!0),ft(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void ue.toggleNativeControls.call(this,!0);G(this.elements.controls)||(Jt.inject.call(this),this.listeners.controls()),ue.toggleNativeControls.call(this),this.isHTML5&&ee.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Jt.updateVolume.call(this),Jt.timeUpdate.call(this),ue.checkPlaying.call(this),ft(this.elements.container,this.config.classNames.pip.supported,St.pip&&this.isHTML5&&this.isVideo),ft(this.elements.container,this.config.classNames.airplay.supported,St.airplay&&this.isHTML5),ft(this.elements.container,this.config.classNames.isIos,nt.isIos),ft(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){Ot.call(t,t.media,"ready")},0),ue.setTitle.call(this),this.poster&&ue.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&Jt.durationUpdate.call(this)},setTitle:function(){var t=Ht("play",this.config);if(q(this.config.title)&&!Z(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=yt.call(this,"iframe");if(!G(e))return;var n=Z(this.config.title)?"video":this.config.title,i=Ht("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(t){ft(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster:function(t){var e=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),At.call(this).then(function(){return le(t)}).catch(function(n){throw t===e.poster&&ue.togglePoster.call(e,!1),n}).then(function(){if(t!==e.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(e.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),ue.togglePoster.call(e,!0),t})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(t){var e=this;ft(this.elements.container,this.config.classNames.playing,this.playing),ft(this.elements.container,this.config.classNames.paused,this.paused),ft(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(t){Object.assign(t,{pressed:e.playing}),t.setAttribute("aria-label",Ht(e.playing?"pause":"play",e.config))}),Q(t)&&"timeupdate"===t.type||ue.toggleControls.call(this)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){ft(e.elements.container,e.config.classNames.loading,e.loading),ue.toggleControls.call(e)},this.loading?250:0)},toggleControls:function(t){var e=this.elements.controls;if(e&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||n))}},migrateStyles:function(){var t=this;Object.values(s({},this.media.style)).filter(function(t){return!Z(t)&&q(t)&&t.startsWith("--plyr")}).forEach(function(e){t.elements.container.style.setProperty(e,t.media.style.getPropertyValue(e)),t.media.style.removeProperty(e)}),Z(this.media.style)&&this.media.removeAttribute("style")}},he=function(){function e(n){t(this,e),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return n(e,[{key:"handleKey",value:function(t){var e=this.player,n=e.elements,i=t.keyCode?t.keyCode:t.which,r="keydown"===t.type,s=r&&i===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&z(i))if(r){var o=document.activeElement;if(G(o)){if(o!==n.inputs.seek&&gt(o,e.config.selectors.editable))return;if(32===t.which&&gt(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(e.currentTime=e.duration/10*(i-48));break;case 32:case 75:s||Pt(e.togglePlay());break;case 38:e.increaseVolume(.1);break;case 40:e.decreaseVolume(.1);break;case 77:s||(e.muted=!e.muted);break;case 39:e.forward();break;case 37:e.rewind();break;case 70:e.fullscreen.toggle();break;case 67:s||e.toggleCaptions();break;case 76:e.loop=!e.loop}27===i&&!e.fullscreen.usingNative&&e.fullscreen.active&&e.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(t){Jt.toggleMenu.call(this.player,t)}},{key:"firstTouch",value:function(){var t=this.player,e=t.elements;t.touch=!0,ft(e.container,t.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(t){var e,n=this.player,i=n.elements;clearTimeout(this.focusTimer),("keydown"!==t.type||9===t.which)&&("keydown"===t.type&&(this.lastKeyDown=t.timeStamp),("focus"!==t.type||t.timeStamp-this.lastKeyDown<=20)&&(ft(bt.call(n,".".concat(e=n.config.classNames.tabFocus)),e,!1),"focusout"!==t.type&&(this.focusTimer=setTimeout(function(){var t=document.activeElement;i.container.contains(t)&&ft(document.activeElement,n.config.classNames.tabFocus,!0)},10))))}},{key:"global",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.player;e.config.keyboard.global&&Tt.call(e,window,"keydown keyup",this.handleKey,t,!1),Tt.call(e,document.body,"click",this.toggleMenu,t),Et.call(e,document.body,"touchstart",this.firstTouch),Tt.call(e,document.body,"keydown focus blur focusout",this.setTabFocus,t,!1,!0)}},{key:"container",value:function(){var t=this.player,e=t.config,n=t.elements,i=t.timers;!e.keyboard.global&&e.keyboard.focused&&kt.call(t,n.container,"keydown keyup",this.handleKey,!1),kt.call(t,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var r=n.controls;r&&"enterfullscreen"===e.type&&(r.pressed=!1,r.hover=!1);var s=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(ue.toggleControls.call(t,!0),s=t.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout(function(){return ue.toggleControls.call(t,!1)},s)});var r=function(e){if(!e)return Lt.call(t);var i=n.container.getBoundingClientRect(),r=i.height;return Lt.call(t,"".concat(i.width,":").concat(r))},s=function(){clearTimeout(i.resized),i.resized=setTimeout(r,50)};kt.call(t,n.container,"enterfullscreen exitfullscreen",function(e){var i=t.fullscreen,a=i.usingNative;if(i.target===n.container&&(t.isEmbed||!Z(t.config.ratio))){var c="enterfullscreen"===e.type;!function(e,n,i){if(t.isVimeo&&!t.config.vimeo.premium){var r=t.elements.wrapper.firstChild,s=o(e,2)[1],a=o(Nt.call(t),2);r.style.maxWidth=i?"".concat(s/a[1]*a[0],"px"):null,r.style.margin=i?"0 auto":null}}(r(c).ratio,0,c),c&&setTimeout(function(){return et(n.container)},100),a||(c?kt.call(t,window,"resize",s):xt.call(t,window,"resize",s))}})}},{key:"media",value:function(){var t=this,e=this.player,n=e.elements;if(kt.call(e,e.media,"timeupdate seeking seeked",function(t){return Jt.timeUpdate.call(e,t)}),kt.call(e,e.media,"durationchange loadeddata loadedmetadata",function(t){return Jt.durationUpdate.call(e,t)}),kt.call(e,e.media,"ended",function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),kt.call(e,e.media,"progress playing seeking seeked",function(t){return Jt.updateProgress.call(e,t)}),kt.call(e,e.media,"volumechange",function(t){return Jt.updateVolume.call(e,t)}),kt.call(e,e.media,"playing play pause ended emptied timeupdate",function(t){return ue.checkPlaying.call(e,t)}),kt.call(e,e.media,"waiting canplay seeked playing",function(t){return ue.checkLoading.call(e,t)}),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var i=yt.call(e,".".concat(e.config.classNames.video));if(!G(i))return;kt.call(e,n.container,"click",function(r){([n.container,i].includes(r.target)||i.contains(r.target))&&(e.touch&&e.config.hideControls||(e.ended?(t.proxy(r,e.restart,"restart"),t.proxy(r,function(){Pt(e.play())},"play")):t.proxy(r,function(){Pt(e.togglePlay())},"play")))})}e.supported.ui&&e.config.disableContextMenu&&kt.call(e,n.wrapper,"contextmenu",function(t){t.preventDefault()},!1),kt.call(e,e.media,"volumechange",function(){e.storage.set({volume:e.volume,muted:e.muted})}),kt.call(e,e.media,"ratechange",function(){Jt.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),kt.call(e,e.media,"qualitychange",function(t){Jt.updateSetting.call(e,"quality",null,t.detail.quality)}),kt.call(e,e.media,"ready qualitychange",function(){Jt.setDownloadUrl.call(e)});var r=e.config.events.concat(["keyup","keydown"]).join(" ");kt.call(e,e.media,r,function(t){var i=t.detail,r=void 0===i?{}:i;"error"===t.type&&(r=e.media.error),Ot.call(e,n.container,t.type,!0,r)})}},{key:"proxy",value:function(t,e,n){var i=this.player,r=i.config.listeners[n],s=!0;K(r)&&(s=r.call(i,t)),!1!==s&&K(e)&&e.call(i,t)}},{key:"bind",value:function(t,e,n,i){var r=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.player,a=K(o.config.listeners[i]);kt.call(o,t,e,function(t){return r.proxy(t,n,i)},s&&!a)}},{key:"controls",value:function(){var t=this,e=this.player,n=e.elements,i=nt.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach(function(n){t.bind(n,"click",function(){Pt(e.togglePlay())},"play")}),this.bind(n.buttons.restart,"click",e.restart,"restart"),this.bind(n.buttons.rewind,"click",function(){e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(n.buttons.fastForward,"click",function(){e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(n.buttons.mute,"click",function(){e.muted=!e.muted},"mute"),this.bind(n.buttons.captions,"click",function(){return e.toggleCaptions()}),this.bind(n.buttons.download,"click",function(){Ot.call(e,e.media,"download")},"download"),this.bind(n.buttons.fullscreen,"click",function(){e.fullscreen.toggle()},"fullscreen"),this.bind(n.buttons.pip,"click",function(){e.pip="toggle"},"pip"),this.bind(n.buttons.airplay,"click",e.airplay,"airplay"),this.bind(n.buttons.settings,"click",function(t){t.stopPropagation(),t.preventDefault(),Jt.toggleMenu.call(e,t)},null,!1),this.bind(n.buttons.settings,"keyup",function(t){var n=t.which;[13,32].includes(n)&&(13!==n?(t.preventDefault(),t.stopPropagation(),Jt.toggleMenu.call(e,t)):Jt.focusFirstMenuItem.call(e,null,!0))},null,!1),this.bind(n.settings.menu,"keydown",function(t){27===t.which&&Jt.toggleMenu.call(e,t)}),this.bind(n.inputs.seek,"mousedown mousemove",function(t){var e=n.progress.getBoundingClientRect();t.currentTarget.setAttribute("seek-value",100/e.width*(t.pageX-e.left))}),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(t){var n=t.currentTarget,i=t.keyCode?t.keyCode:t.which,r="play-on-seeked";if(!Y(t)||39===i||37===i){e.lastSeekTime=Date.now();var s=n.hasAttribute(r),o=["mouseup","touchend","keyup"].includes(t.type);s&&o?(n.removeAttribute(r),Pt(e.play())):!o&&e.playing&&(n.setAttribute(r,""),e.pause())}}),nt.isIos){var r=bt.call(e,'input[type="range"]');Array.from(r).forEach(function(e){return t.bind(e,i,function(t){return et(t.target)})})}this.bind(n.inputs.seek,i,function(t){var n=t.currentTarget,i=n.getAttribute("seek-value");Z(i)&&(i=n.value),n.removeAttribute("seek-value"),e.currentTime=i/n.max*e.duration},"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",function(t){return Jt.updateSeekTooltip.call(e,t)}),this.bind(n.progress,"mousemove touchmove",function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startMove(t)}),this.bind(n.progress,"mouseleave touchend click",function(){var t=e.previewThumbnails;t&&t.loaded&&t.endMove(!1,!0)}),this.bind(n.progress,"mousedown touchstart",function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startScrubbing(t)}),this.bind(n.progress,"mouseup touchend",function(t){var n=e.previewThumbnails;n&&n.loaded&&n.endScrubbing(t)}),nt.isWebkit&&Array.from(bt.call(e,'input[type="range"]')).forEach(function(n){t.bind(n,"input",function(t){return Jt.updateRangeFill.call(e,t.target)})}),e.config.toggleInvert&&!G(n.display.duration)&&this.bind(n.display.currentTime,"click",function(){0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Jt.timeUpdate.call(e))}),this.bind(n.inputs.volume,i,function(t){e.volume=t.target.value},"volume"),this.bind(n.controls,"mouseenter mouseleave",function(t){n.controls.hover=!e.touch&&"mouseenter"===t.type}),n.fullscreen&&Array.from(n.fullscreen.children).filter(function(t){return!t.contains(n.container)}).forEach(function(i){t.bind(i,"mouseenter mouseleave",function(t){n.controls.hover=!e.touch&&"mouseenter"===t.type})}),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",function(t){n.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(n.controls,"focusin",function(){var i=e.config,r=e.timers;ft(n.controls,i.classNames.noTransition,!0),ue.toggleControls.call(e,!0),setTimeout(function(){ft(n.controls,i.classNames.noTransition,!1)},0);var s=t.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout(function(){return ue.toggleControls.call(e,!1)},s)}),this.bind(n.inputs.volume,"wheel",function(t){var n=t.webkitDirectionInvertedFromDevice,i=o([t.deltaX,-t.deltaY].map(function(t){return n?-t:t}),2),r=i[0],s=i[1],a=Math.sign(Math.abs(r)>Math.abs(s)?r:s);e.increaseVolume(a/50);var c=e.media.volume;(1===a&&c<1||-1===a&&c>0)&&t.preventDefault()},"volume",!1)}}]),e}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var de=function(t,e){return function(t,e){t.exports=function(){var t=function(){},e={},n={},i={};function r(t,e){if(t){var r=i[t];if(n[t]=e,r)for(;r.length;)r[0](t,e),r.splice(0,1)}}function s(e,n){e.call&&(e={success:e}),n.length?(e.error||t)(n):(e.success||t)(e)}function o(e,n,i,r){var s,a,c=document,l=i.async,u=(i.numRetries||0)+1,h=i.before||t,d=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(d)?((a=c.createElement("link")).rel="stylesheet",a.href=p,(s="hideFocus"in a)&&a.relList&&(s=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(a=c.createElement("img")).src=p:((a=c.createElement("script")).src=e,a.async=void 0===l||l),a.onload=a.onerror=a.onbeforeload=function(t){var c=t.type[0];if(s)try{a.sheet.cssText.length||(c="e")}catch(t){18!=t.code&&(c="e")}if("e"==c){if((r+=1)<u)return o(e,n,i,r)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";n(e,c,t.defaultPrevented)},!1!==h(e,a)&&c.head.appendChild(a)}function a(t,e,n){var i,r,s=(t=t.push?t:[t]).length,a=s,c=[];for(i=function(t,n,i){if("e"==n&&c.push(t),"b"==n){if(!i)return;c.push(t)}--s||e(c)},r=0;r<a;r++)o(t[r],i,n)}function c(t,n,i){var o,c;if(n&&n.trim&&(o=n),c=(o?i:n)||{},o){if(o in e)throw"LoadJS";e[o]=!0}function l(e,n){a(t,function(t){s(c,t),e&&s({success:e,error:n},t),r(o,t)},c)}if(c.returnPromise)return new Promise(l);l()}return c.ready=function(t,e){return function(t,e){var r,s,o,a=[],c=(t=t.push?t:[t]).length,l=c;for(r=function(t,n){n.length&&a.push(t),--l||e(a)};c--;)(o=n[s=t[c]])?r(s,o):(i[s]=i[s]||[]).push(r)}(t,function(t){s(e,t)}),c},c.done=function(t){r(t,[])},c.reset=function(){e={},n={},i={}},c.isDefined=function(t){return t in e},c}()}(e={exports:{}}),e.exports}();function pe(t){return new Promise(function(e,n){de(t,{success:e,error:n})})}function fe(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Ot.call(this,this.media,t?"play":"pause"))}var me={setup:function(){var t=this;ft(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,Lt.call(t),V(window.Vimeo)?me.ready.call(t):pe(t.config.urls.vimeo.sdk).then(function(){me.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var t=this,e=this,n=e.config.vimeo,i=n.premium,r=n.referrerPolicy,a=function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)e.indexOf(n=s[i])>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)e.indexOf(n=s[i])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,["premium","referrerPolicy"]);i&&Object.assign(a,{controls:!1,sidedock:!1});var c=te(s({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},a)),l=e.media.getAttribute("src");Z(l)&&(l=e.media.getAttribute(e.config.attributes.embed.id));var u,h=Z(u=l)?null:z(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u,d=at("iframe"),p=Mt(e.config.urls.vimeo.iframe,h,c);if(d.setAttribute("src",p),d.setAttribute("allowfullscreen",""),d.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),Z(r)||d.setAttribute("referrerPolicy",r),i||!n.customControls)d.setAttribute("data-poster",e.poster),e.media=ht(d,e.media);else{var f=at("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});f.appendChild(d),e.media=ht(f,e.media)}n.customControls||Wt(Mt(e.config.urls.vimeo.api,p)).then(function(t){!Z(t)&&t.thumbnail_url&&ue.setPoster.call(e,t.thumbnail_url).catch(function(){})}),e.embed=new window.Vimeo.Player(d,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){return fe.call(e,!0),e.embed.play()},e.media.pause=function(){return fe.call(e,!1),e.embed.pause()},e.media.stop=function(){e.pause(),e.currentTime=0};var m=e.media.currentTime;Object.defineProperty(e.media,"currentTime",{get:function(){return m},set:function(t){var n=e.embed,i=e.media,r=e.volume,s=e.paused&&!n.hasPlayed;i.seeking=!0,Ot.call(e,i,"seeking"),Promise.resolve(s&&n.setVolume(0)).then(function(){return n.setCurrentTime(t)}).then(function(){return s&&n.pause()}).then(function(){return s&&n.setVolume(r)}).catch(function(){})}});var g=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:function(){return g},set:function(t){e.embed.setPlaybackRate(t).then(function(){g=t,Ot.call(e,e.media,"ratechange")}).catch(function(){e.options.speed=[1]})}});var b=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return b},set:function(t){e.embed.setVolume(t).then(function(){b=t,Ot.call(e,e.media,"volumechange")})}});var y=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return y},set:function(t){var n=!!H(t)&&t;e.embed.setVolume(n?0:e.config.volume).then(function(){y=n,Ot.call(e,e.media,"volumechange")})}});var v,_=e.config.loop;Object.defineProperty(e.media,"loop",{get:function(){return _},set:function(t){var n=H(t)?t:e.config.loop.active;e.embed.setLoop(n).then(function(){_=n})}}),e.embed.getVideoUrl().then(function(t){v=t,Jt.setDownloadUrl.call(e)}).catch(function(e){t.debug.warn(e)}),Object.defineProperty(e.media,"currentSrc",{get:function(){return v}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(function(n){var i=o(n,2);e.embed.ratio=[i[0],i[1]],Lt.call(t)}),e.embed.setAutopause(e.config.autopause).then(function(t){e.config.autopause=t}),e.embed.getVideoTitle().then(function(n){e.config.title=n,ue.setTitle.call(t)}),e.embed.getCurrentTime().then(function(t){m=t,Ot.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(function(t){e.media.duration=t,Ot.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(function(t){e.media.textTracks=t,ee.setup.call(e)}),e.embed.on("cuechange",function(t){var n=t.cues,i=(void 0===n?[]:n).map(function(t){return function(t){var e=document.createDocumentFragment(),n=document.createElement("div");return e.appendChild(n),n.innerHTML=t,e.firstChild.innerText}(t.text)});ee.updateCues.call(e,i)}),e.embed.on("loaded",function(){e.embed.getPaused().then(function(t){fe.call(e,!t),t||Ot.call(e,e.media,"playing")}),G(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",function(){Ot.call(e,e.media,"waiting")}),e.embed.on("bufferend",function(){Ot.call(e,e.media,"playing")}),e.embed.on("play",function(){fe.call(e,!0),Ot.call(e,e.media,"playing")}),e.embed.on("pause",function(){fe.call(e,!1)}),e.embed.on("timeupdate",function(t){e.media.seeking=!1,m=t.seconds,Ot.call(e,e.media,"timeupdate")}),e.embed.on("progress",function(t){e.media.buffered=t.percent,Ot.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&Ot.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(function(t){t!==e.media.duration&&(e.media.duration=t,Ot.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",function(){e.media.seeking=!1,Ot.call(e,e.media,"seeked")}),e.embed.on("ended",function(){e.media.paused=!0,Ot.call(e,e.media,"ended")}),e.embed.on("error",function(t){e.media.error=t,Ot.call(e,e.media,"error")}),n.customControls&&setTimeout(function(){return ue.build.call(e)},0)}};function ge(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Ot.call(this,this.media,t?"play":"pause"))}function be(t){return t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var ye={setup:function(){var t=this;if(ft(this.elements.wrapper,this.config.classNames.embed,!0),V(window.YT)&&K(window.YT.Player))ye.ready.call(this);else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){K(e)&&e(),ye.ready.call(t)},pe(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)})}},getTitle:function(t){var e=this;Wt(Mt(this.config.urls.youtube.api,t)).then(function(t){if(V(t)){var n=t.height,i=t.width;e.config.title=t.title,ue.setTitle.call(e),e.embed.ratio=[i,n]}Lt.call(e)}).catch(function(){Lt.call(e)})},ready:function(){var t=this,e=t.config.youtube,n=t.media&&t.media.getAttribute("id");if(Z(n)||!n.startsWith("youtube-")){var i=t.media.getAttribute("src");Z(i)&&(i=t.media.getAttribute(this.config.attributes.embed.id));var r,s,o=Z(r=i)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r,a=at("div",{id:(s=t.provider,"".concat(s,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":e.customControls?t.poster:void 0});if(t.media=ht(a,t.media),e.customControls){var c=function(t){return"https://i.ytimg.com/vi/".concat(o,"/").concat(t,"default.jpg")};le(c("maxres"),121).catch(function(){return le(c("sd"),121)}).catch(function(){return le(c("hq"))}).then(function(e){return ue.setPoster.call(t,e.src)}).then(function(e){e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(function(){})}t.embed=new window.YT.Player(t.media,{videoId:o,host:be(e),playerVars:rt({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError:function(e){if(!t.media.error){var n=e.data;t.media.error={code:n,message:{2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured"},Ot.call(t,t.media,"error")}},onPlaybackRateChange:function(e){t.media.playbackRate=e.target.getPlaybackRate(),Ot.call(t,t.media,"ratechange")},onReady:function(n){if(!K(t.media.play)){var i=n.target;ye.getTitle.call(t,o),t.media.play=function(){ge.call(t,!0),i.playVideo()},t.media.pause=function(){ge.call(t,!1),i.pauseVideo()},t.media.stop=function(){i.stopVideo()},t.media.duration=i.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,Ot.call(t,t.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(t){i.setPlaybackRate(t)}});var r=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return r},set:function(e){i.setVolume(100*(r=e)),Ot.call(t,t.media,"volumechange")}});var s=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return s},set:function(e){var n=H(e)?e:s;s=n,i[n?"mute":"unMute"](),i.setVolume(100*r),Ot.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}});var a=i.getAvailablePlaybackRates();t.options.speed=a.filter(function(e){return t.config.speed.options.includes(e)}),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),Ot.call(t,t.media,"timeupdate"),Ot.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(function(){t.media.buffered=i.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&Ot.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),Ot.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(function(){return ue.build.call(t)},50)}},onStateChange:function(n){var i=n.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(n.data)&&(t.media.seeking=!1,Ot.call(t,t.media,"seeked")),n.data){case-1:Ot.call(t,t.media,"timeupdate"),t.media.buffered=i.getVideoLoadedFraction(),Ot.call(t,t.media,"progress");break;case 0:ge.call(t,!1),t.media.loop?(i.stopVideo(),i.playVideo()):Ot.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(ge.call(t,!0),Ot.call(t,t.media,"playing"),t.timers.playing=setInterval(function(){Ot.call(t,t.media,"timeupdate")},50),t.media.duration!==i.getDuration()&&(t.media.duration=i.getDuration(),Ot.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),ge.call(t,!1);break;case 3:Ot.call(t,t.media,"waiting")}Ot.call(t,t.elements.container,"statechange",!1,{code:n.data})}}})}}},ve={setup:function(){this.media?(ft(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ft(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ft(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=at("div",{class:this.config.classNames.video}),st(this.media,this.elements.wrapper),this.elements.poster=at("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Ft.setup.call(this):this.isYouTube?ye.setup.call(this):this.isVimeo&&me.setup.call(this)):this.debug.warn("No media element found!")}},_e=function(){function e(n){var i=this;t(this,e),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(t,e){i.on("loaded",t),i.on("error",e)}),this.load()}return n(e,[{key:"load",value:function(){var t=this;this.enabled&&(V(window.google)&&V(window.google.ima)?this.ready():pe(this.player.config.urls.googleIMA.sdk).then(function(){t.ready()}).catch(function(){t.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var t,e=this;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var t=this;this.elements.container=at("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1),this.requestAds()}},{key:"requestAds",value:function(){var t=this.player.elements.container;try{var e=new google.ima.AdsRequest;e.adTagUrl=this.tagUrl,e.linearAdSlotWidth=t.offsetWidth,e.linearAdSlotHeight=t.offsetHeight,e.nonLinearAdSlotWidth=t.offsetWidth,e.nonLinearAdSlotHeight=t.offsetHeight,e.forceNonLinearFullSlot=!1,e.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(e)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var t=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=Xt(Math.max(t.manager.getRemainingTime(),0)),n="".concat(Ht("advertisement",t.player.config)," - ").concat(e);t.elements.container.setAttribute("data-badge-text",n)},100)}},{key:"onAdsManagerLoaded",value:function(t){var e=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=t.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)}),Object.keys(google.ima.AdEvent.Type).forEach(function(t){e.manager.addEventListener(google.ima.AdEvent.Type[t],function(t){return e.onAdEvent(t)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var t=this;Z(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<t.player.duration){var n=t.player.elements.progress;if(G(n)){var i=100/t.player.duration*e,r=at("span",{class:t.player.config.classNames.cues});r.style.left="".concat(i.toString(),"%"),n.appendChild(r)}}})}},{key:"onAdEvent",value:function(t){var e=this,n=this.player.elements.container,i=t.getAd(),r=t.getAdData();switch(function(t){Ot.call(e.player,e.player.media,"ads".concat(t.replace(/_/g,"").toLowerCase()))}(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(t){this.cancel(),this.player.debug.warn("Ads error",t)}},{key:"listeners",value:function(){var t,e=this,n=this.player.elements.container;this.player.on("canplay",function(){e.addCuePoints()}),this.player.on("ended",function(){e.loader.contentComplete()}),this.player.on("timeupdate",function(){t=e.player.currentTime}),this.player.on("seeked",function(){var n=e.player.currentTime;Z(e.cuePoints)||e.cuePoints.forEach(function(i,r){t<i&&i<n&&(e.manager.discardAdBreak(),e.cuePoints.splice(r,1))})}),window.addEventListener("resize",function(){e.manager&&e.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.manager.setVolume(t.player.volume),t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,Pt(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.initialized=!1,t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=this.events[t];W(s)&&s.forEach(function(t){K(t)&&t.apply(e,i)})}},{key:"on",value:function(t,e){return W(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this}},{key:"startSafetyTimer",value:function(t,e){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(e)),this.safetyTimer=setTimeout(function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")},t)}},{key:"clearSafetyTimer",value:function(t){B(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(t)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var t=this.config;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!Z(t.publisherId)||J(t.tagUrl))}},{key:"tagUrl",get:function(){var t=this.config;if(J(t.tagUrl))return t.tagUrl;var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(te(e))}}]),e}(),we=function(t,e){var n={};return t>e.width/e.height?(n.width=e.width,n.height=1/t*e.width):(n.height=e.height,n.width=t*e.height),n},Se=function(){function e(n){t(this,e),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return n(e,[{key:"load",value:function(){var t=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){t.enabled&&(t.render(),t.determineContainerAutoSizing(),t.loaded=!0)})}},{key:"getThumbnails",value:function(){var t=this;return new Promise(function(e){var n=t.player.config.previewThumbnails.src;if(Z(n))throw new Error("Missing previewThumbnails.src config attribute");var i=function(){t.thumbnails.sort(function(t,e){return t.height-e.height}),t.player.debug.log("Preview thumbnails",t.thumbnails),e()};if(K(n))n(function(e){t.thumbnails=e,i()});else{var r=(q(n)?[n]:n).map(function(e){return t.getThumbnail(e)});Promise.all(r).then(i)}})}},{key:"getThumbnail",value:function(t){var e=this;return new Promise(function(n){Wt(t).then(function(i){var r,s,a={frames:(r=i,s=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(t){var e={};t.split(/\r\n|\n|\r/).forEach(function(t){if(z(e.startTime)){if(!Z(t.trim())&&Z(e.text)){var n=t.trim().split("#xywh="),i=o(n,1);if(e.text=i[0],n[1]){var r=o(n[1].split(","),4);e.x=r[0],e.y=r[1],e.w=r[2],e.h=r[3]}}}else{var s=t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(e.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+Number("0.".concat(s[4])),e.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+Number("0.".concat(s[9])))}}),e.text&&s.push(e)}),s),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||a.frames[0].text.startsWith("http://")||a.frames[0].text.startsWith("https://")||(a.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));var c=new Image;c.onload=function(){a.height=c.naturalHeight,a.width=c.naturalWidth,e.thumbnails.push(a),n()},c.src=a.urlPrefix+a.frames[0].text})})}},{key:"startMove",value:function(t){if(this.loaded&&Q(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if("touchmove"===t.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var e=this.player.elements.progress.getBoundingClientRect();this.seekTime=this.player.media.duration*(100/e.width*(t.pageX-e.left)/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=Xt(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(t){(B(t.button)||!1===t.button||0===t.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var t=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Et.call(this.player,this.player.media,"timeupdate",function(){t.mouseDown||t.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var t=this;this.player.on("play",function(){t.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){t.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){t.lastTime=t.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=at("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=at("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var t=at("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=at("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(t),G(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=at("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var t=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var e=this.thumbnails[0].frames.findIndex(function(e){return t.seekTime>=e.startTime&&t.seekTime<=e.endTime}),n=e>=0,i=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach(function(n,r){t.loadedImages.includes(n.frames[e].text)&&(i=r)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))}},{key:"loadImage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[e],r=i.frames[n],s=i.frames[n].text,o=i.urlPrefix+s;if(this.currentImageElement&&this.currentImageElement.dataset.filename===s)this.showImage(this.currentImageElement,r,e,n,s,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var a=new Image;a.src=o,a.dataset.index=n,a.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log("Loading image: ".concat(o)),a.onload=function(){return t.showImage(a,r,e,n,s,!0)},this.loadingImage=a,this.removeOldImages(a)}}},{key:"showImage",value:function(t,e,n,i,r){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(s)),this.setImageSizeAndOffset(t,e),s&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,t,e,r))}},{key:"removeOldImages",value:function(t){var e=this;Array.from(this.currentImageContainer.children).forEach(function(n){if("img"===n.tagName.toLowerCase()){var i=e.usingSprites?500:1e3;if(n.dataset.index!==t.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;var r=e.currentImageContainer;setTimeout(function(){r.removeChild(n),e.player.debug.log("Removing thumb: ".concat(n.dataset.filename))},i)}}})}},{key:"preloadNearby",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(i){setTimeout(function(){var r=e.thumbnails[0].frames[t].text;if(e.showingThumbFilename===r){var s;s=n?e.thumbnails[0].frames.slice(t):e.thumbnails[0].frames.slice(0,t).reverse();var o=!1;s.forEach(function(t){var n=t.text;if(n!==r&&!e.loadedImages.includes(n)){o=!0,e.player.debug.log("Preloading thumb filename: ".concat(n));var s=e.thumbnails[0].urlPrefix+n,a=new Image;a.src=s,a.onload=function(){e.player.debug.log("Preloaded thumb filename: ".concat(n)),e.loadedImages.includes(n)||e.loadedImages.push(n),i()}}}),o||i()}},300)})}},{key:"getHigherQuality",value:function(t,e,n,i){var r=this;if(t<this.thumbnails.length-1){var s=e.naturalHeight;this.usingSprites&&(s=n.h),s<this.thumbContainerHeight&&setTimeout(function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(t+1))},300)}}},{key:"toggleThumbContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.elements.thumb.container.classList.toggle(this.player.config.classNames.previewThumbnails.thumbContainerShown,t),!t&&e&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.elements.scrubbing.container.classList.toggle(this.player.config.classNames.previewThumbnails.scrubbingContainerShown,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var t=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(t,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var e=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(e,"px")}}else{var n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(n,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var t=this.player.elements.progress.getBoundingClientRect(),e=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=e.left-t.left+10,r=e.right-t.left-n.clientWidth-10,s=this.mousePosX-t.left-n.clientWidth/2;s<i&&(s=i),s>r&&(s=r),n.style.left="".concat(s,"px")}},{key:"setScrubbingContainerSize",value:function(){var t=we(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),e=t.height;this.elements.scrubbing.container.style.width="".concat(t.width,"px"),this.elements.scrubbing.container.style.height="".concat(e,"px")}},{key:"setImageSizeAndOffset",value:function(t,e){if(this.usingSprites){var n=this.thumbContainerHeight/e.h;t.style.height="".concat(t.naturalHeight*n,"px"),t.style.width="".concat(t.naturalWidth*n,"px"),t.style.left="-".concat(e.x*n,"px"),t.style.top="-".concat(e.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?we(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}]),e}(),Ce={insertElements:function(t,e){var n=this;q(e)?ct(t,this.media,{src:e}):W(e)&&e.forEach(function(e){ct(t,n.media,e)})},change:function(t){var e=this;it(t,"sources.length")?(Ft.cancelRequests.call(this),this.destroy.call(this,function(){e.options.quality=[],lt(e.media),e.media=null,G(e.elements.container)&&e.elements.container.removeAttribute("class");var n=t.sources,i=t.type,r=o(n,1)[0],s=r.provider,a=void 0===s?re.html5:s,c="html5"===a?i:"div",l="html5"===a?{}:{src:r.src};Object.assign(e,{provider:a,type:i,supported:St.check(i,a,e.config.playsinline),media:at(c,l)}),e.elements.container.appendChild(e.media),H(t.autoplay)&&(e.config.autoplay=t.autoplay),e.isHTML5&&(e.config.crossorigin&&e.media.setAttribute("crossorigin",""),e.config.autoplay&&e.media.setAttribute("autoplay",""),Z(t.poster)||(e.poster=t.poster),e.config.loop.active&&e.media.setAttribute("loop",""),e.config.muted&&e.media.setAttribute("muted",""),e.config.playsinline&&e.media.setAttribute("playsinline","")),ue.addStyleHook.call(e),e.isHTML5&&Ce.insertElements.call(e,"source",n),e.config.title=t.title,ve.setup.call(e),e.isHTML5&&Object.keys(t).includes("tracks")&&Ce.insertElements.call(e,"track",t.tracks),(e.isHTML5||e.isEmbed&&!e.supported.ui)&&ue.build.call(e),e.isHTML5&&e.media.load(),Z(t.previewThumbnails)||(Object.assign(e.config.previewThumbnails,t.previewThumbnails),e.previewThumbnails&&e.previewThumbnails.loaded&&(e.previewThumbnails.destroy(),e.previewThumbnails=null),e.config.previewThumbnails.enabled&&(e.previewThumbnails=new Se(e))),e.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},Te=function(){function e(n,i){var r=this;if(t(this,e),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=St.touch,this.media=n,q(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||$(this.media)||W(this.media))&&(this.media=this.media[0]),this.config=rt({},ne,e.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ae(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",St),!B(this.media)&&G(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(St.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var o=this.media.tagName.toLowerCase(),a=null,c=null;switch(o){case"div":if(a=this.media.querySelector("iframe"),G(a)){if(c=Zt(a.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?re.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?re.vimeo:null}(c.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",c.search.length){var l=["1","true"];l.includes(c.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(c.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(c.searchParams.get("playsinline")),this.config.youtube.hl=c.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Z(this.provider)||!Object.keys(re).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=se;break;case"video":case"audio":this.type=o,this.provider=re.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=St.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new he(this),this.storage=new Kt(this),this.media.plyr=this,G(this.elements.container)||(this.elements.container=at("div",{tabindex:0}),st(this.media,this.elements.container)),ue.migrateStyles.call(this),ue.addStyleHook.call(this),ve.setup.call(this),this.config.debug&&kt.call(this,this.elements.container,this.config.events.join(" "),function(t){r.debug.log("event: ".concat(t.type))}),this.fullscreen=new ce(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ue.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new _e(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",function(){return Pt(r.play())}),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Se(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return n(e,[{key:"play",value:function(){var t=this;return K(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return t.ads.play()}).catch(function(){return Pt(t.media.play())}),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&K(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(t){return(H(t)?t:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):K(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(t){this.currentTime-=z(t)?t:this.config.seekTime}},{key:"forward",value:function(t){this.currentTime+=z(t)?t:this.config.seekTime}},{key:"increaseVolume",value:function(t){this.volume=(this.media.muted?0:this.volume)+(z(t)?t:0)}},{key:"decreaseVolume",value:function(t){this.increaseVolume(-t)}},{key:"toggleCaptions",value:function(t){ee.toggle.call(this,t,!1)}},{key:"airplay",value:function(){St.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(t){if(this.supported.ui&&!this.isAudio){var e=mt(this.elements.container,this.config.classNames.hideControls),n=ft(this.elements.container,this.config.classNames.hideControls,void 0===t?void 0:!t);return n&&W(this.config.controls)&&this.config.controls.includes("settings")&&!Z(this.config.settings)&&Jt.toggleMenu.call(this,!1),n!==e&&Ot.call(this,this.media,n?"controlshidden":"controlsshown"),!n}return!1}},{key:"on",value:function(t,e){kt.call(this,this.elements.container,t,e)}},{key:"once",value:function(t,e){Et.call(this,this.elements.container,t,e)}},{key:"off",value:function(t,e){xt(this.elements.container,t,e)}},{key:"destroy",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",e.embed=null,n?(Object.keys(e.elements).length&&(lt(e.elements.buttons.play),lt(e.elements.captions),lt(e.elements.controls),lt(e.elements.wrapper),e.elements.buttons.play=null,e.elements.captions=null,e.elements.controls=null,e.elements.wrapper=null),K(t)&&t()):(It.call(e),Ft.cancelRequests.call(e),ht(e.elements.original,e.elements.container),Ot.call(e,e.elements.original,"destroyed",!0),K(t)&&t.call(e.elements.original),e.ready=!1,setTimeout(function(){e.elements=null,e.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ue.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&K(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(t){return St.mime.call(this,t)}},{key:"isHTML5",get:function(){return this.provider===re.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===re.youtube}},{key:"isVimeo",get:function(){return this.provider===re.vimeo}},{key:"isVideo",get:function(){return this.type===se}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(t){if(this.duration){var e=z(t)&&t>0;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var t=this.media.buffered;return z(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var t=parseFloat(this.config.duration),e=(this.media||{}).duration,n=z(e)&&e!==1/0?e:0;return t||n}},{key:"volume",set:function(t){var e=t;q(e)&&(e=Number(e)),z(e)||(e=this.storage.get("volume")),z(e)||(e=this.config.volume),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!Z(t)&&this.muted&&e>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(t){var e=t;H(e)||(e=this.storage.get("muted")),H(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(t){var e=this,n=null;z(t)&&(n=t),z(n)||(n=this.storage.get("speed")),z(n)||(n=this.config.speed.selected),n=function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),t)}(n,this.minimumSpeed,this.maximumSpeed),this.config.speed.selected=n,setTimeout(function(){e.media.playbackRate=n},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,a(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,a(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(t){var e=this.config.quality,n=this.options.quality;if(n.length){var i=[!Z(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(z),r=!0;if(!n.includes(i)){var s=function(t,e){return W(t)&&t.length?t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(s," instead")),i=s,r=!1}e.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(t){var e=H(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(t){Ce.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var t=this.config.urls.download;return J(t)?t:this.source},set:function(t){J(t)&&(this.config.urls.download=t,Jt.setDownloadUrl.call(this))}},{key:"poster",set:function(t){this.isVideo?ue.setPoster.call(this,t,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var t=Rt(Nt.call(this));return W(t)?t.join(":"):t},set:function(t){this.isVideo?q(t)&&Dt(t)?(this.config.ratio=t,Lt.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(t,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(t){var e=H(t)?t:this.config.autoplay;this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(t){ee.set.call(this,t,!1)},get:function(){var t=this.captions;return t.toggled?t.currentTrack:-1}},{key:"language",set:function(t){ee.setLanguage.call(this,t,!1)},get:function(){return(ee.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(t){if(St.pip){var e=H(t)?t:!this.pip;K(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?ie:"inline"),K(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}},get:function(){return St.pip?Z(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ie:null}}],[{key:"supported",value:function(t,e,n){return St.check(t,e,n)}},{key:"loadSprite",value:function(t,e){return $t(t,e)}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return q(t)?i=Array.from(document.querySelectorAll(t)):$(t)?i=Array.from(t):W(t)&&(i=t.filter(G)),Z(i)?null:i.map(function(t){return new e(t,n)})}}]),e}();return Te.defaults=JSON.parse(JSON.stringify(ne)),Te}())},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("jtHE");function r(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,o,a=0,c=!1,l=!1;return function(u){let h;a++,!s||c?(c=!1,s=new i.a(t,e,r),h=s.subscribe(this),o=u.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){l=!0,o=void 0,s.complete()}})):h=s.subscribe(this),this.add(()=>{a--,h.unsubscribe(),o&&!l&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(r))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var i=n("EY2u"),r=n("LRne"),s=n("z6cu"),o=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}({});let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},Wcq6:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(n("wj3C"));r.default.registerVersion("firebase","7.24.0","app"),t.exports=r.default},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("sVev"),r=n("7o/Q");function s(t=c){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends r.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new i.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends r.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})()},Y6u4:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})()},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZR4w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("kU1M");e.map=function(t,e){return i.map(t,e)(this)}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("7o/Q");class r extends i.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n("SeVD"),o=n("HDdC");function a(t,e,n,i,a=new r(t,n,i)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(s.a)(e)(a)}},Zy1z:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new o(t))}}class o extends i.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},aGrj:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("eIep");function r(t,e){return e?Object(i.a)(()=>t,e):Object(i.a)(()=>t)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.b)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("5+tZ");function r(t,e){return Object(i.b)(t,e,1)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("HDdC"),r=n("DH7j"),s=n("lJxs"),o=n("XoHu"),a=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(r.a)(e))return l(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(r.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return l(t,null)}function l(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let c=0;c<i;c++){const l=Object(a.a)(t[c]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,o++),r[c]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},eNwd:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var s=n("IjjT");class o extends s.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const a=new o(r),c=a},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return gu}),n.d(e,"c",function(){return hu}),n.d(e,"d",function(){return lu}),n.d(e,"e",function(){return uu}),n.d(e,"f",function(){return lh}),n.d(e,"g",function(){return Zu}),n.d(e,"h",function(){return Gc}),n.d(e,"i",function(){return Eu}),n.d(e,"j",function(){return wc}),n.d(e,"k",function(){return vu}),n.d(e,"l",function(){return kc}),n.d(e,"m",function(){return Ai}),n.d(e,"n",function(){return Ml}),n.d(e,"o",function(){return As}),n.d(e,"p",function(){return wn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return Ws}),n.d(e,"s",function(){return zc}),n.d(e,"t",function(){return qc}),n.d(e,"u",function(){return yu}),n.d(e,"v",function(){return sl}),n.d(e,"w",function(){return eh}),n.d(e,"x",function(){return rl}),n.d(e,"y",function(){return Gu}),n.d(e,"z",function(){return Au}),n.d(e,"A",function(){return Sn}),n.d(e,"B",function(){return mu}),n.d(e,"C",function(){return fu}),n.d(e,"D",function(){return Bl}),n.d(e,"E",function(){return Ec}),n.d(e,"F",function(){return xc}),n.d(e,"G",function(){return ji}),n.d(e,"H",function(){return Ic}),n.d(e,"I",function(){return Ci}),n.d(e,"J",function(){return Tn}),n.d(e,"K",function(){return rh}),n.d(e,"L",function(){return tl}),n.d(e,"M",function(){return ju}),n.d(e,"N",function(){return dn}),n.d(e,"O",function(){return Pc}),n.d(e,"P",function(){return Ac}),n.d(e,"Q",function(){return al}),n.d(e,"R",function(){return D}),n.d(e,"S",function(){return Qu}),n.d(e,"T",function(){return Wu}),n.d(e,"U",function(){return p}),n.d(e,"V",function(){return Nn}),n.d(e,"W",function(){return Ku}),n.d(e,"X",function(){return ah}),n.d(e,"Y",function(){return Bu}),n.d(e,"Z",function(){return bu}),n.d(e,"ab",function(){return Ds}),n.d(e,"bb",function(){return ba}),n.d(e,"cb",function(){return wi}),n.d(e,"db",function(){return ii}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Xn}),n.d(e,"hb",function(){return Qn}),n.d(e,"ib",function(){return Gn}),n.d(e,"jb",function(){return Yn}),n.d(e,"kb",function(){return pa}),n.d(e,"lb",function(){return oh}),n.d(e,"mb",function(){return fa}),n.d(e,"nb",function(){return ma}),n.d(e,"ob",function(){return Wn}),n.d(e,"pb",function(){return j}),n.d(e,"qb",function(){return no}),n.d(e,"rb",function(){return ko}),n.d(e,"sb",function(){return To}),n.d(e,"tb",function(){return da}),n.d(e,"ub",function(){return xt}),n.d(e,"vb",function(){return u}),n.d(e,"wb",function(){return Hn}),n.d(e,"xb",function(){return Gs}),n.d(e,"yb",function(){return vt}),n.d(e,"zb",function(){return yc}),n.d(e,"Ab",function(){return Dr}),n.d(e,"Bb",function(){return lo}),n.d(e,"Cb",function(){return Ho}),n.d(e,"Db",function(){return oa}),n.d(e,"Eb",function(){return aa}),n.d(e,"Fb",function(){return qo}),n.d(e,"Gb",function(){return tu}),n.d(e,"Hb",function(){return G}),n.d(e,"Ib",function(){return et}),n.d(e,"Jb",function(){return b}),n.d(e,"Kb",function(){return y}),n.d(e,"Lb",function(){return J}),n.d(e,"Mb",function(){return nt}),n.d(e,"Nb",function(){return fo}),n.d(e,"Ob",function(){return vo}),n.d(e,"Pb",function(){return So}),n.d(e,"Qb",function(){return wo}),n.d(e,"Rb",function(){return _o}),n.d(e,"Sb",function(){return yo}),n.d(e,"Tb",function(){return bo}),n.d(e,"Ub",function(){return Co}),n.d(e,"Vb",function(){return on}),n.d(e,"Wb",function(){return ca}),n.d(e,"Xb",function(){return cc}),n.d(e,"Yb",function(){return uc}),n.d(e,"Zb",function(){return lc}),n.d(e,"ac",function(){return Rn}),n.d(e,"bc",function(){return an}),n.d(e,"cc",function(){return cu}),n.d(e,"dc",function(){return xo}),n.d(e,"ec",function(){return iu}),n.d(e,"fc",function(){return Se}),n.d(e,"gc",function(){return we}),n.d(e,"hc",function(){return Io}),n.d(e,"ic",function(){return Dl}),n.d(e,"jc",function(){return Rl}),n.d(e,"kc",function(){return Nl}),n.d(e,"lc",function(){return Ll}),n.d(e,"mc",function(){return Do}),n.d(e,"nc",function(){return Po}),n.d(e,"oc",function(){return mo}),n.d(e,"pc",function(){return Ro}),n.d(e,"qc",function(){return No}),n.d(e,"rc",function(){return Sl}),n.d(e,"sc",function(){return Cl}),n.d(e,"tc",function(){return Tl}),n.d(e,"uc",function(){return kl}),n.d(e,"vc",function(){return xl}),n.d(e,"wc",function(){return El}),n.d(e,"xc",function(){return Yl}),n.d(e,"yc",function(){return po}),n.d(e,"zc",function(){return Li}),n.d(e,"Ac",function(){return Ni}),n.d(e,"Bc",function(){return Wt}),n.d(e,"Cc",function(){return Ti}),n.d(e,"Dc",function(){return ki}),n.d(e,"Ec",function(){return Z}),n.d(e,"Fc",function(){return eu}),n.d(e,"Gc",function(){return Xl}),n.d(e,"Hc",function(){return zo}),n.d(e,"Ic",function(){return ho}),n.d(e,"Jc",function(){return au}),n.d(e,"Kc",function(){return na}),n.d(e,"Lc",function(){return ia}),n.d(e,"Mc",function(){return ra}),n.d(e,"Nc",function(){return sa}),n.d(e,"Oc",function(){return Jl});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}function g(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return _(t,S)||_(t,T)}function _(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(k))?t[C]:null}const S=c({"\u0275prov":c}),C=c({"\u0275inj":c}),T=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let E;function O(t){const e=E;return E=t,e}function I(t,e,n){const i=v(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&x.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${u(t)}]`)}function A(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),D=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const R="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,j=R||F||N||L,M={},U=[],B=c({"\u0275cmp":c}),V=c({"\u0275dir":c}),z=c({"\u0275pipe":c}),q=c({"\u0275mod":c}),H=c({"\u0275loc":c}),K=c({"\u0275fac":c}),W=c({__NG_ELEMENT_ID__:c});let $=0;function G(t){return A(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||U,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||U,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=$++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Q):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Y):null,n})}function Q(t){return it(t)||function(t){return t[V]||null}(t)}function Y(t){return function(t){return t[z]||null}(t)}const X={};function J(t){const e={type:t.type,bootstrap:t.bootstrap||U,declarations:t.declarations||U,imports:t.imports||U,exports:t.exports||U,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&A(()=>{X[t.id]=t.type}),e}function Z(t,e){return A(()=>{const n=rt(t,!0);n.declarations=e.declarations||U,n.imports=e.imports||U,n.exports=e.exports||U})}function tt(t,e){if(null==t)return M;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const et=G;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function it(t){return t[B]||null}function rt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const st=20,ot=10;function at(t){return Array.isArray(t)&&"object"==typeof t[1]}function ct(t){return Array.isArray(t)&&!0===t[1]}function lt(t){return 0!=(8&t.flags)}function ut(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function dt(t){return null!==t.template}function pt(t,e){return t.hasOwnProperty(K)?t[K]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function mt(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}function bt(t,e){const n=e?" in "+e:"";throw new ft("201",`No provider for ${gt(t)} found${n}`)}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),wt}function wt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===M)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,i){const r=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:M,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new yt(c&&c.currentValue,e,o===M),t[i]=e}function Ct(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;const Tt="http://www.w3.org/2000/svg";let kt=void 0;function xt(t){kt=t}function Et(){return void 0!==kt?kt:"undefined"!=typeof document?document:void 0}function Ot(t){return!!t.listen}const It={createRenderer:(t,e)=>Et()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return At(e[t])}function Dt(t,e){return At(e[t.index])}function Rt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Lt(t,e){const n=e[t];return at(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function jt(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const zt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return zt.bindingsEnabled}function Ht(){return zt.lFrame.lView}function Kt(){return zt.lFrame.tView}function Wt(t){zt.lFrame.contextLView=t}function $t(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return zt.lFrame.currentTNode}function Qt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return zt.lFrame.isParent}function Jt(){zt.lFrame.isParent=!1}function Zt(){return zt.isInCheckNoChangesMode}function te(t){zt.isInCheckNoChangesMode=t}function ee(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return zt.lFrame.bindingIndex}function ie(){return zt.lFrame.bindingIndex++}function re(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function se(t){zt.lFrame.inI18n=t}function oe(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){zt.lFrame.currentDirectiveIndex=t}function ce(){return zt.lFrame.currentQueryIndex}function le(t){zt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&x.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&x.Host||(i=ue(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=zt.lFrame=pe();return i.currentTNode=e,i.lView=t,!0}function de(t){const e=pe(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=me;function be(){const t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return zt.lFrame.selectedIndex}function ve(t){zt.lFrame.selectedIndex=t}function _e(){const t=zt.lFrame;return Rt(t.tView,t.selectedIndex)}function we(){zt.lFrame.currentNamespace=Tt}function Se(){zt.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Te(t,e,n){Ee(t,e,3,n)}function ke(t,e,n,i){(3&t[2])===n&&Ee(t,e,n,i)}function xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ie=-1;class Ae{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const i=Ot(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];Re(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function De(t){return 3===t||4===t||6===t}function Re(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Le(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Le(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Fe(t){return t!==Ie}function je(t){return 32767&t}function Me(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ue=!0;function Be(t){const e=Ue;return Ue=t,e}let Ve=0;function ze(t,e){const n=He(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,qe(i.data,t),qe(e,null),qe(i.blueprint,null));const r=Ke(t,e),s=t.injectorIndex;if(Fe(r)){const t=je(r),n=Me(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return Ie;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Ie}function We(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(i=n[W]),null==i&&(i=n[W]=Ve++);const r=255&i,s=1<<r,o=64&r,a=32&r,c=e.data;128&r?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function $e(t,e,n){if(n&x.Optional)return t;bt(e,"NodeInjector")}function Ge(t,e,n,i){if(n&x.Optional&&void 0===i&&(i=null),0==(n&(x.Self|x.Host))){const r=t[9],s=O(void 0);try{return r?r.get(e,i,n&x.Optional):I(e,i,n&x.Optional)}finally{O(s)}}return $e(i,e,n)}function Qe(t,e,n,i=x.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof s){if(!he(e,t,i))return i&x.Host?$e(r,n,i):Ge(e,n,i,r);try{const t=s();if(null!=t||i&x.Optional)return t;bt(n)}finally{ge()}}else if("number"==typeof s){let r=null,o=He(t,e),a=Ie,c=i&x.Host?e[16][6]:null;for((-1===o||i&x.SkipSelf)&&(a=-1===o?Ke(t,e):e[o+8],a!==Ie&&nn(i,!1)?(r=e[1],o=je(a),e=Me(a,e)):o=-1);-1!==o;){const t=e[1];if(en(s,o,t.data)){const t=Je(o,e,n,r,i,c);if(t!==Ye)return t}a=e[o+8],a!==Ie&&nn(i,e[1].data[o+8]===c)&&en(s,o,e)?(r=t,o=je(a),e=Me(a,e)):o=-1}}}return Ge(e,n,i,r)}const Ye={};function Xe(){return new rn($t(),Ht())}function Je(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Ze(a,o,n,null==i?ut(a)&&Ue:i!=o&&0!=(3&a.type),r&x.Host&&s===a);return null!==c?tn(e,o,c,a):Ye}function Ze(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=r?a+l:t.directiveEnd;for(let h=i?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&dt(t)&&t.type===n)return c}return null}function tn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Ae){const o=r;o.resolving&&function(t,e){throw new ft("200","Circular dependency in DI detected for "+t)}(gt(s[n]));const a=Be(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?O(o.injectImpl):null;he(t,i,x.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&O(c),Be(a),o.resolving=!1,ge()}}return r}function en(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function nn(t,e){return!(t&x.Self||t&x.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function sn(t){const e=t;if(m(t))return()=>{const t=sn(f(e));return t?t():null};let n=pt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function on(t){return A(()=>{const e=t.prototype.constructor,n=e[K]||sn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[K]||sn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(De(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}($t(),t)}const cn="__parameters__";function ln(t,e,n){return A(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(cn)?t[cn]:Object.defineProperty(t,cn,{value:[]})[cn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new un("AnalyzeForEntryComponents"),dn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),pn(i,e)):e!==t&&e.push(i)}return e}function fn(t,e){t.forEach(t=>Array.isArray(t)?fn(t,e):e(t))}function mn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function yn(t,e,n){let i=_n(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function vn(t,e){const n=_n(t,e);if(n>=0)return t[1|n]}function _n(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const wn=ln("Inject",t=>({token:t})),Sn=ln("Optional"),Cn=ln("Self"),Tn=ln("SkipSelf"),kn=ln("Host"),xn={},En=/\n/gm,On="__source",In=c({provide:String,useValue:c});let An=void 0;function Pn(t){const e=An;return An=t,e}function Dn(t,e=x.Default){if(void 0===An)throw new Error("inject() must be called from an injection context");return null===An?I(t,void 0,e):An.get(t,e&x.Optional?null:void 0,e)}function Rn(t,e=x.Default){return(E||Dn)(f(t),e)}const Nn=Rn;function Ln(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=x.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof Sn||"Optional"===r.ngMetadataName||r===Sn?n|=x.Optional:r instanceof Tn||"SkipSelf"===r.ngMetadataName||r===Tn?n|=x.SkipSelf:r instanceof Cn||"Self"===r.ngMetadataName||r===Cn?n|=x.Self:r instanceof kn||"Host"===r.ngMetadataName||r===kn?n|=x.Host:t=r instanceof wn||r===wn?r.token:r}e.push(Rn(t,n))}else e.push(Rn(i))}return e}let Fn;function jn(t){var e;return(null===(e=function(){if(void 0===Fn&&(Fn=null,j.trustedTypes))try{Fn=j.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Fn}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Un extends Mn{getTypeName(){return"HTML"}}class Bn extends Mn{getTypeName(){return"Style"}}class Vn extends Mn{getTypeName(){return"Script"}}class zn extends Mn{getTypeName(){return"URL"}}class qn extends Mn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Kn(t,e){const n=Wn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Wn(t){return t instanceof Mn&&t.getTypeName()||null}function $n(t){return new Un(t)}function Gn(t){return new Bn(t)}function Qn(t){return new Vn(t)}function Yn(t){return new zn(t)}function Xn(t){return new qn(t)}function Jn(t){const e=new ti(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class ti{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ei=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ni=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ii(t){return(t=String(t)).match(ei)||t.match(ni)?t:"unsafe:"+t}function ri(t){return(t=String(t)).split(",").map(t=>ii(t.trim())).join(", ")}function si(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function oi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ai=si("area,br,col,hr,img,wbr"),ci=si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),li=si("rp,rt"),ui=oi(li,ci),hi=oi(ai,oi(ci,si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oi(li,si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ui),di=si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pi=si("srcset"),fi=oi(di,pi,si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mi=si("script,style,template");class gi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hi.hasOwnProperty(e))return this.sanitizedSomething=!0,!mi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,r=e.toLowerCase();if(!fi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;di[r]&&(s=ii(s)),pi[r]&&(s=ri(s)),this.buf.push(" ",e,'="',vi(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hi.hasOwnProperty(e)&&!ai.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const bi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yi=/([^\#-~ |!])/g;function vi(t){return t.replace(/&/g,"&amp;").replace(bi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(yi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _i;function wi(t,e){let n=null;try{_i=_i||Jn(t);let i=e?String(e):"";n=_i.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=_i.getInertBodyElement(i)}while(i!==s);return(new gi).sanitizeChildren(Si(n)||n)}finally{if(n){const t=Si(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Si(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ci=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ti(t){const e=xi();return e?e.sanitize(Ci.HTML,t)||"":Kn(t,"HTML")?Hn(t):wi(Et(),mt(t))}function ki(t){const e=xi();return e?e.sanitize(Ci.URL,t)||"":Kn(t,"URL")?Hn(t):ii(mt(t))}function xi(){const t=Ht();return t&&t[12]}function Ei(t){return t.ngDebugContext}function Oi(t){return t.ngOriginalError}function Ii(t,...e){t.error(...e)}class Ai{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ii}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ei(t)?Ei(t):this._findContext(Oi(t)):null}_findOriginalError(t){let e=Oi(t);for(;e&&Oi(e);)e=Oi(e);return e}}const Pi=/-->/g;function Di(t,e){t.__ngContext__=e}const Ri=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Ni(t){return{name:"window",target:t.ownerDocument.defaultView}}function Li(t){return{name:"document",target:t.ownerDocument}}function Fi(t){return t instanceof Function?t():t}var ji=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Mi;function Ui(t,e){return Mi(t,e)}function Bi(t){const e=t[3];return ct(e)?e[3]:e}function Vi(t){return qi(t[13])}function zi(t){return qi(t[4])}function qi(t){for(;null!==t&&!ct(t);)t=t[4];return t}function Hi(t,e,n,i,r){if(null!=i){let s,o=!1;ct(i)?s=i:at(i)&&(o=!0,i=i[0]);const a=At(i);0===t&&null!==n?null==r?nr(e,n,a):er(e,n,a,r||null,!0):1===t&&null!==n?er(e,n,a,r||null,!0):2===t?pr(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==At(n)&&Hi(e,t,i,s,r);for(let o=ot;o<n.length;o++){const r=n[o];mr(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Ki(t,e){return Ot(t)?t.createText(e):t.createTextNode(e)}function Wi(t,e,n){Ot(t)?t.setValue(e,n):e.textContent=n}function $i(t,e){return t.createComment(function(t){return t.replace(Pi,"-\u200b-\u200b>")}(e))}function Gi(t,e,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Qi(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Vt(r,-1)),n.splice(i,1)}function Yi(t,e){if(t.length<=ot)return;const n=ot+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Qi(s,i),e>0&&(t[n-1][4]=i[4]);const o=gn(t,ot+e);mr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Xi(t,e){if(!(256&e[2])){const n=e[11];Ot(n)&&n.destroyNode&&mr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ji(t[1],t);for(;e;){let n=null;if(at(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)at(e)&&Ji(e[1],e),e=e[3];null===e&&(e=t),at(e)&&Ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Ae)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=i[r=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ct(e[3])){n!==e[3]&&Qi(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Zi(t,e,n){return tr(t,e.parent,n)}function tr(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return Dt(i,n)}function er(t,e,n,i,r){Ot(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function nr(t,e,n){Ot(t)?t.appendChild(e,n):e.appendChild(n)}function ir(t,e,n,i,r){null!==i?er(t,e,n,i,r):nr(t,e,n)}function rr(t,e){return Ot(t)?t.parentNode(e):e.parentNode}function sr(t,e,n){return cr(t,e,n)}function or(t,e,n){return 40&t.type?Dt(t,n):null}let ar,cr=or;function lr(t,e){cr=t,ar=e}function ur(t,e,n,i){const r=Zi(t,i,e),s=e[11],o=sr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)ir(s,r,n[a],o,!1);else ir(s,r,n,o,!1);void 0!==ar&&ar(s,i,e,n,r)}function hr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return dr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return hr(t,n);{const n=t[e.index];return ct(n)?dr(-1,n):At(n)}}if(32&n)return Ui(e,t)()||At(t[e.index]);{const n=t[16],i=n[6],r=Bi(n),s=i.projection[e.projection];return null!=s?hr(r,s):hr(t,e.next)}}return null}function dr(t,e){const n=ot+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return hr(t,i)}return e[7]}function pr(t,e,n){const i=rr(t,e);i&&function(t,e,n,i){Ot(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function fr(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;if(o&&0===e&&(a&&Di(At(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)fr(t,e,n.child,i,r,s,!1),Hi(e,t,r,a,s);else if(32&c){const o=Ui(n,i);let c;for(;c=o();)Hi(e,t,r,c,s);Hi(e,t,r,a,s)}else 16&c?gr(t,e,i,n,r,s):Hi(e,t,r,a,s);n=o?n.projectionNext:n.next}}function mr(t,e,n,i,r,s){fr(n,i,t.firstChild,e,r,s,!1)}function gr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Hi(e,t,r,a[c],s);else fr(t,e,a,o[3],r,s,!0)}function br(t,e,n){Ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function yr(t,e,n){Ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function vr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const _r="ng-template";function wr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==vr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Sr(t){return 4===t.type&&t.value!==_r}function Cr(t,e,n){return e===(4!==t.type||n?t.value:_r)}function Tr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Cr(t,c,n)||""===c&&1===e.length){if(kr(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!wr(t.attrs,l,n)){if(kr(i))return!1;o=!0}continue}const u=xr(8&i?"class":c,r,Sr(t),n);if(-1===u){if(kr(i))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==vr(e,l,0)||2&i&&l!==t){if(kr(i))return!1;o=!0}}}}else{if(!o&&!kr(i)&&!kr(c))return!1;if(o&&kr(c))continue;o=!1,i=c|1&i}}return kr(i)||o}function kr(t){return 0==(1&t)}function xr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Er(t,e,n=!1){for(let i=0;i<e.length;i++)if(Tr(t,e[i],n))return!0;return!1}function Or(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Ar(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||kr(o)||(e+=Ir(s,r),r=""),i=o,s=s||!kr(i);n++}return""!==r&&(e+=Ir(s,r)),e}const Pr={};function Dr(t){Rr(Kt(),Ht(),ye()+t,Zt())}function Rr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Te(e,i,n)}else{const i=t.preOrderHooks;null!==i&&ke(e,i,0,n)}ve(n)}function Nr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Fr(t){return 2|t}function jr(t){return(131068&t)>>2}function Mr(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];le(r),n.contentQueries(2,e[s],s)}}}function Vr(t,e,n,i,r,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Bt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function zr(t,e,n,i,r){let s=t.data[e];if(null===s)s=qr(t,e,n,i,r),zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=Qt();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function qr(t,e,n,i,r){const s=Gt(),o=Xt(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Hr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Kr(t,e,n){de(e);try{const i=t.viewQuery;null!==i&&Ss(1,i,n);const r=t.template;null!==r&&Gr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ss(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)bs(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,be()}}function Wr(t,e,n,i){const r=e[2];if(256==(256&r))return;de(e);const s=Zt();try{Bt(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Gr(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Te(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ke(e,n,0,null),xe(e,0)}if(function(t){for(let e=Vi(t);null!==e;e=zi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Vt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Vi(t);null!==e;e=zi(e))for(let t=ot;t<e.length;t++){const n=e[t],i=n[1];Mt(n)&&Wr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Te(e,n)}else{const n=t.contentHooks;null!==n&&ke(e,n,1),xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)ve(~i);else{const r=i,s=n[++t],o=n[++t];oe(s,r),o(2,e[r])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ms(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ss(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&Te(e,n)}else{const n=t.viewHooks;null!==n&&ke(e,n,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{be()}}function $r(t,e,n,i){const r=e[10],s=!Zt(),o=jt(e);try{s&&!o&&r.begin&&r.begin(),o&&Kr(t,e,i),Wr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Gr(t,e,n,i,r){const s=ye();try{ve(-1),2&i&&e.length>st&&Rr(t,e,st,Zt()),n(i,r)}finally{ve(s)}}function Qr(t,e,n){if(lt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Yr(t,e,n){qt()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Di(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=dt(i);s&&us(e,n,i);const c=tn(e,t,a,n);Di(c,e),null!==o&&ds(0,a-r,c,i,0,o),s&&(Lt(n.index,e)[8]=c)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=zt.lFrame.currentDirectiveIndex;try{ve(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ae(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||ss(i,r)}}finally{ve(-1),ae(o)}}(t,e,n))}function Xr(t,e,n=Dt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Jr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,i,r,s,o,a,c,l){const u=st+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Pr);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function ts(t,e,n,i){const r=Ts(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&ks(t).push(i,r.length-1))}function es(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function ns(t,e,n,i,r,s,o,a){const c=Dt(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[i])?(Es(t,n,l,i,r),ut(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,Ot(s)?s.setProperty(c,i,r):Re(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function is(t,e,n,i){let r=!1;if(qt()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Er(n,o.selectors,!1)&&(r||(r=[]),We(ze(n,e),t,o.type),dt(o)?(os(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,cs(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=Hr(t,e,s.length,null);for(let r=0;r<s.length;r++){const l=s[r];n.mergedAttrs=Ne(n.mergedAttrs,l.hostAttrs),ls(t,n,e,c,l),as(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===r||Sr(e)?null:ps(n,r);s.push(l),o=es(n,c,o),a=es(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ft("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),r}function rs(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function ss(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function os(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function as(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;dt(e)&&(n[""]=t)}}function cs(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ls(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=pt(r.type)),o=new Ae(s,dt(r),null);t.blueprint[i]=o,n[i]=o,rs(t,e,0,i,Hr(t,n,r.hostVars,Pr),r)}function us(t,e,n){const i=Dt(e,t),r=Jr(n),s=t[10],o=ys(t,Vr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function hs(t,e,n,i,r,s,o){if(null==s)Ot(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?mt(s):o(s,i||"",r);Ot(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}function ds(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function ps(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function fs(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function ms(t,e){const n=Lt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Wr(t,n,t.template,n[8]):n[5]>0&&gs(n)}}function gs(t){for(let n=Vi(t);null!==n;n=zi(n))for(let t=ot;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Wr(t,e,t.template,e[8])}else e[5]>0&&gs(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Lt(e[n],t);Mt(i)&&i[5]>0&&gs(i)}}function bs(t,e){const n=Lt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Kr(i,n,n[8])}function ys(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vs(t){for(;t;){t[2]|=64;const e=Bi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function _s(t,e,n){const i=e[10];i.begin&&i.begin();try{Wr(t,e,t.template,n)}catch(r){throw xs(e,r),r}finally{i.end&&i.end()}}function ws(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ft(n),r=i[1];$r(r,i,r.template,n)}}(t[8])}function Ss(t,e,n){le(0),e(t,n)}const Cs=(()=>Promise.resolve(null))();function Ts(t){return t[7]||(t[7]=[])}function ks(t){return t.cleanup||(t.cleanup=[])}function xs(t,e){const n=t[9],i=n?n.get(Ai,null):null;i&&i.handleError(e)}function Es(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function Os(t,e,n){const i=Pt(e,t);Wi(t[11],i,n)}function Is(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const As=new un("INJECTOR",-1);class Ps{get(t,e=xn){if(e===xn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ds=new un("Set Injector scope."),Rs={},Ns={},Ls=[];let Fs=void 0;function js(){return void 0===Fs&&(Fs=new Ps),Fs}function Ms(t,e=null,n=null,i){return new Us(t,n,e||js(),i)}class Us{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&fn(e,n=>this.processProvider(n,t,e)),fn([t],t=>this.processInjectorType(t,[],r)),this.records.set(As,zs(void 0,this));const s=this.records.get(Ds);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=xn,n=x.Default){this.assertNotDestroyed();const i=Pn(this);try{if(!(n&x.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof un)&&v(t);e=n&&this.injectableDefInScope(n)?zs(Bs(t),Rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&x.Self?js():this.parent).get(t,e=n&x.Optional&&e===xn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[On]&&r.unshift(e[On]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(En,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Pn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=w(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=w(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{fn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];fn(i,t=>this.processProvider(t,n,i||Ls))}}this.injectorDefTypes.add(s),this.records.set(s,zs(i.factory,Rs));const a=i.providers;if(null!=a&&!o){const e=t;fn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=Hs(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return qs(t)?zs(void 0,t.useValue):zs(Vs(t),Rs)}(t);if(Hs(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=zs(void 0,Rs,!0),e.factory=()=>Ln(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Rs&&(e.value=Ns,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Bs(t){const e=v(t),n=null!==e?e.factory:pt(t);if(null!==n)return n;const i=w(t);if(null!==i)return i.factory;if(t instanceof un)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Vs(t,e,n){let i=void 0;if(Hs(t)){const e=f(t);return pt(e)||Bs(e)}if(qs(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Ln(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Rn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return pt(e)||Bs(e);i=()=>new e(...Ln(t.deps))}var r;return i}function zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qs(t){return null!==t&&"object"==typeof t&&In in t}function Hs(t){return"function"==typeof t}const Ks=function(t,e,n){return function(t,e=null,n=null,i){const r=Ms(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Ws=(()=>{class t{static create(t,e){return Array.isArray(t)?Ks(t,e,""):Ks(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=xn,t.NULL=new Ps,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>Rn(As)}),t.__NG_ELEMENT_ID__=-1,t})();function $s(t,e){Ce(Ft(t)[1],$t())}function Gs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(dt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Qs(t.inputs),e.declaredInputs=Qs(t.declaredInputs),e.outputs=Qs(t.outputs);const n=r.hostBindings;n&&Js(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Ys(t,s),o&&Xs(t,o),l(t.inputs,r.inputs),l(t.declaredInputs,r.declaredInputs),l(t.outputs,r.outputs),dt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Gs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ne(r.hostAttrs,n=Ne(n,r.hostAttrs))}}(i)}function Qs(t){return t===M?{}:t===U?[]:t}function Ys(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Xs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Zs=null;function to(){if(!Zs){const t=j.Symbol;if(t&&t.iterator)Zs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Zs=n)}}}return Zs}class eo{constructor(t){this.wrapped=t}static wrap(t){return new eo(t)}static unwrap(t){return eo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof eo}}function no(t){return!!io(t)&&(Array.isArray(t)||!(t instanceof Map)&&to()in t)}function io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ro(t,e,n){return t[e]=n}function so(t,e){return t[e]}function oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ao(t,e,n,i){const r=oo(t,e,n);return oo(t,e+1,i)||r}function co(t,e,n,i,r,s){const o=ao(t,e,n,i);return ao(t,e+2,r,s)||o}function lo(t,e,n,i){const r=Ht();return oo(r,ie(),e)&&(Kt(),function(t,e,n,i,r,s){const o=Dt(t,e);hs(e[11],o,s,t.value,n,i,r)}(_e(),r,t,e,n,i)),lo}function uo(t,e,n,i){return oo(t,ie(),n)?e+mt(n)+i:Pr}function ho(t,e,n,i,r,s,o,a){const c=Ht(),l=Kt(),u=t+st,h=l.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const l=e.consts,u=zr(e,t,4,o||null,Ut(l,a));is(e,n,u,Ut(l,c)),Ce(e,u);const h=u.tViews=Zr(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,i,r,s,o):l.data[u];Yt(h,!1);const d=c[11].createComment("");ur(l,c,d,h),Di(d,c),ys(c,c[u]=fs(d,c,d,h)),ht(h)&&Yr(l,c,h),null!=o&&Xr(c,h,a)}function po(t){return Nt(zt.lFrame.contextLView,st+t)}function fo(t,e=x.Default){const n=Ht();return null===n?Rn(t,e):Qe($t(),n,f(t),e)}function mo(t,e,n){const i=Ht();return oo(i,ie(),e)&&ns(Kt(),_e(),i,t,e,i[11],n,!1),mo}function go(t,e,n,i,r){const s=r?"class":"style";Es(t,n,e.inputs[s],s,i)}function bo(t,e,n,i){const r=Ht(),s=Kt(),o=st+t,a=r[11],c=r[o]=Gi(a,e,zt.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=zr(e,t,2,r,Ut(a,s));return is(e,n,c,Ut(a,o)),null!==c.attrs&&Is(c,c.attrs,!1),null!==c.mergedAttrs&&Is(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,n,i):s.data[o];Yt(l,!0);const u=l.mergedAttrs;null!==u&&Pe(a,c,u);const h=l.classes;null!==h&&yr(a,c,h);const d=l.styles;null!==d&&br(a,c,d),64!=(64&l.flags)&&ur(s,r,c,l),0===zt.lFrame.elementDepthCount&&Di(c,r),zt.lFrame.elementDepthCount++,ht(l)&&(Yr(s,r,l),Qr(s,l,r)),null!==i&&Xr(r,l)}function yo(){let t=$t();Xt()?Jt():(t=t.parent,Yt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(Ce(n,t),lt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&go(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&go(n,e,Ht(),e.stylesWithoutHost,!1)}function vo(t,e,n,i){bo(t,e,n,i),yo()}function _o(t,e,n){const i=Ht(),r=Kt(),s=t+st,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ut(s,i),a=zr(e,t,8,"ng-container",o);return null!==o&&Is(a,o,!0),is(e,n,a,Ut(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Yt(o,!0);const a=i[s]=i[11].createComment("");ur(r,i,a,o),Di(a,i),ht(o)&&(Yr(r,i,o),Qr(r,o,i)),null!=n&&Xr(i,o)}function wo(){let t=$t();const e=Kt();Xt()?Jt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(Ce(e,t),lt(t)&&e.queries.elementEnd(t))}function So(t,e,n){_o(t,e,n),wo()}function Co(){return Ht()}function To(t){return!!t&&"function"==typeof t.then}function ko(t){return!!t&&"function"==typeof t.subscribe}function xo(t,e,n=!1,i){const r=Ht(),s=Kt(),o=$t();return function(t,e,n,i,r,s,o=!1,a){const c=ht(i),l=t.firstCreatePass&&ks(t),u=Ts(e);let h=!0;if(3&i.type){const d=Dt(i,e),p=a?a(d):M,f=p.target||d,m=u.length,g=a?t=>a(At(t[i.index])).target:i.index;if(Ot(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Oo(i,e,s,!1);const t=n.listen(p.name||f,r,s);u.push(s,t),l&&l.push(r,g,m,m+1)}}else s=Oo(i,e,s,!0),f.addEventListener(r,s,o),u.push(s),l&&l.push(r,g,m,o)}else s=Oo(i,e,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(r,i.index,o,-(o+1))}}}(s,r,r[11],o,t,e,n,i),xo}function Eo(t,e,n){try{return!1!==e(n)}catch(i){return xs(t,i),!1}}function Oo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&vs(o);let a=Eo(e,n,s),c=r.__ngNextListenerFn__;for(;c;)a=Eo(e,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Io(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Ao(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Er(t,s,!0):Or(i,s))return r}else n=r}return n}function Po(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Ao(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Do(t,e=0,n){const i=Ht(),r=Kt(),s=zr(r,st+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){gr(e[11],0,e,n,Zi(t,n,e),sr(n.parent||e[6],n,e))}(r,i,s)}function Ro(t,e,n){return No(t,"",e,"",n),Ro}function No(t,e,n,i,r){const s=Ht(),o=uo(s,e,n,i);return o!==Pr&&ns(Kt(),_e(),s,t,o,s[11],r,!1),No}const Lo=[];function Fo(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Lr(s):jr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];jo(t[a],e)&&(c=!0,t[a+1]=i?Ur(n):Fr(n)),a=i?Lr(n):jr(n)}c&&(t[n+1]=i?Fr(s):Ur(s))}function jo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_n(t,e)>=0}const Mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uo(t){return t.substring(Mo.key,Mo.keyEnd)}function Bo(t,e){const n=Mo.textEnd;return n===e?-1:(e=Mo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Mo.key=e,n),Vo(t,e,n))}function Vo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function zo(t,e,n){return Wo(t,e,n,!1),zo}function qo(t,e){return Wo(t,e,null,!0),qo}function Ho(t){$o(yn,Ko,t,!0)}function Ko(t,e){for(let n=function(t){return function(t){Mo.key=0,Mo.keyEnd=0,Mo.value=0,Mo.valueEnd=0,Mo.textEnd=t.length}(t),Bo(t,Vo(t,0,Mo.textEnd))}(e);n>=0;n=Bo(e,n))yn(t,Uo(e),!0)}function Wo(t,e,n,i){const r=Ht(),s=Kt(),o=re(2);s.firstUpdatePass&&Qo(s,t,o,i),e!==Pr&&oo(r,o,e)&&Jo(s,s.data[ye()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Hn(t)))),t}(e,n),i,o)}function $o(t,e,n,i){const r=Kt(),s=re(2);r.firstUpdatePass&&Qo(r,null,s,i);const o=Ht();if(n!==Pr&&oo(o,s,n)){const a=r.data[ye()];if(ea(a,i)&&!Go(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),go(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===Pr&&(r=Lo);let c=0,l=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=c<r.length?r[c+1]:void 0,p=l<s.length?s[l+1]:void 0;let f=null,m=void 0;u===h?(c+=2,l+=2,d!==p&&(f=h,m=p)):null===h||null!==u&&u<h?(c+=2,f=u):(l+=2,f=h,m=p),null!==f&&Jo(t,e,n,i,f,m,o,a),u=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Lo;const i=[],r=Hn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function Go(t,e){return e>=t.expandoStartIndex}function Qo(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[ye()],o=Go(t,n);ea(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Xo(n=Yo(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Yo(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==jr(i))return t[Lr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Yo(null,t,e,n[1],i),n=Xo(n,e.attrs,i),function(t,e,n,i){t[Lr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Xo(i,t[s].hostAttrs,n);return Xo(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Lr(o),c=jr(o);t[i]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||_n(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=Lr(t[a+1]);t[i+1]=Nr(e,a),0!==e&&(t[e+1]=Mr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Nr(a,0),0!==a&&(t[a+1]=Mr(t[a+1],i)),a=i;else t[i+1]=Nr(c,0),0===a?a=i:t[c+1]=Mr(t[c+1],i),c=i;u&&(t[i+1]=Fr(t[i+1])),Fo(t,l,i,!0),Fo(t,l,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_n(s,e)>=0&&(n[i+1]=Ur(n[i+1]))}(e,l,t,i,s),o=Nr(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Yo(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Xo(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Xo(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Jo(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];ta(1==(1&l)?Zo(c,e,n,r,jr(l),o):void 0)||(ta(s)||2==(2&l)&&(s=Zo(c,null,n,r,a,o)),function(t,e,n,i,r){const s=Ot(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:ji.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=ji.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Pt(ye(),n),r,s))}function Zo(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[r+1];u===Pr&&(u=l?Lo:void 0);let h=l?vn(u,i):c===i?u:void 0;if(s&&!ta(h)&&(h=vn(e,i)),ta(h)&&(a=h,o))return a;const d=t[r+1];r=o?Lr(d):jr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,i))}return a}function ta(t){return void 0!==t}function ea(t,e){return 0!=(t.flags&(e?16:32))}function na(t,e=""){const n=Ht(),i=Kt(),r=t+st,s=i.firstCreatePass?zr(i,r,1,e,null):i.data[r],o=n[r]=Ki(n[11],e);ur(i,n,o,s),Yt(s,!1)}function ia(t){return ra("",t,""),ia}function ra(t,e,n){const i=Ht(),r=uo(i,t,e,n);return r!==Pr&&Os(i,ye(),r),ra}function sa(t,e,n,i,r){const s=Ht(),o=function(t,e,n,i,r,s){const o=ao(t,ne(),n,r);return re(2),o?e+mt(n)+i+mt(r)+s:Pr}(s,t,e,n,i,r);return o!==Pr&&Os(s,ye(),o),sa}function oa(t,e,n){$o(yn,Ko,uo(Ht(),t,e,n),!0)}function aa(t,e,n,i,r,s,o,a,c){$o(yn,Ko,function(t,e,n,i,r,s,o,a,c,l){const u=co(t,ne(),n,r,o,c);return re(4),u?e+mt(n)+i+mt(r)+s+mt(o)+a+mt(c)+l:Pr}(Ht(),t,e,n,i,r,s,o,a,c),!0)}function ca(t,e,n){const i=Ht();return oo(i,ie(),e)&&ns(Kt(),_e(),i,t,e,i[11],n,!0),ca}const la=void 0;var ua=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ha={};function da(t,e,n){"string"!=typeof e&&(n=e,e=t[ba.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ha[e]=t,n&&(ha[e][ba.ExtraData]=n)}function pa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ga(e);if(n)return n;const i=e.split("-")[0];if(n=ga(i),n)return n;if("en"===i)return ua;throw new Error(`Missing locale data for the locale "${t}".`)}function fa(t){return pa(t)[ba.CurrencyCode]||null}function ma(t){return pa(t)[ba.PluralCase]}function ga(t){return t in ha||(ha[t]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[t]),ha[t]}var ba=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ya=["zero","one","two","few","many"],va="en-US",_a={marker:"element"},wa={marker:"ICU"};var Sa=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Ca=va;function Ta(t){var e;null==(e=t)&&g("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Ca=t.toLowerCase().replace(/_/g,"-"))}function ka(t,e,n){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?or(t,0,n):At(n[r])}function xa(t,e,n,i,r){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&e.type||(a=o,o=r),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)er(t,o,n[s[e]],a,!1)}}function Ea(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const i=t[n];Oa(i)||Ia(i,e)&&null===Aa(i)&&Pa(i,e.index)}}function Oa(t){return!(64&t.type)}function Ia(t,e){return Oa(e)||t.index>e.index}function Aa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Pa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(lr(ka,xa),t.insertBeforeIndex=e)}function Da(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ra(t,e,n){const i=qr(t,n,64,null,null);return Ea(e,i),i}function Na(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let La=0,Fa=0;function ja(t,e,n,i){const r=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=Ki(r,c))}else if("number"==typeof c)switch(1&c){case 0:const l=c>>>17;let u,h;if(null===o&&(o=l,s=rr(r,i)),l===o?(u=i,h=s):(u=null,h=At(n[l])),null!==h){const e=(131070&c)>>>1;er(r,h,n[e],u,!1);const i=Da(t,e);if(null!==i&&"object"==typeof i){const e=Na(i,n);null!==e&&ja(t,i.create[e],n,n[i.anchorIdx])}}break;case 1:const d=e[++a],p=e[++a];hs(r,Pt(c>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case wa:const t=e[++a],i=e[++a];null===n[i]&&Di(n[i]=$i(r,t),n);break;case _a:const s=e[++a],o=e[++a];null===n[o]&&Di(n[o]=Gi(r,s,null),n)}}}function Ma(t,e,n,i,r){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&r){let r="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)r+=s;else if("number"==typeof s)if(s<0)r+=mt(e[i-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],l=t.data[a];"string"==typeof l?hs(e[11],e[a],null,l,s,r,c):ns(t,l,e,s,r,e[11],c,!1);break;case 0:const u=e[a];null!==u&&Wi(e[11],u,r);break;case 2:Ba(t,Da(t,a),e,r);break;case 3:Ua(t,Da(t,a),i,e)}}}}else{const r=n[s+1];if(r>0&&3==(3&r)){const n=Da(t,r>>>2);e[n.currentCaseLViewIndex]<0&&Ua(t,n,i,e)}}s+=a}}function Ua(t,e,n,i){let r=i[e.currentCaseLViewIndex];if(null!==r){let s=La;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),Ma(t,i,e.update[r],n,s)}}function Ba(t,e,n,i){const r=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const i=function(t,e){const n=ma(e)(parseInt(t,10)),i=ya[n];return void 0!==i?i:"other"}(e,Ca);n=t.cases.indexOf(i),-1===n&&"other"!==i&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if(Na(e,n)!==r&&(Va(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const i=n[e.anchorIdx];i&&ja(t,e.create[r],n,i)}}function Va(t,e,n){let i=Na(e,n);if(null!==i){const r=e.remove[i];for(let e=0;e<r.length;e++){const i=r[e];if(i>0){const t=Pt(i,n);null!==t&&pr(n[11],t)}else Va(t,Da(t,~i),n)}}}const za=/\ufffd(\d+):?\d*\ufffd/gi,qa=/\ufffd(\d+)\ufffd/,Ha=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ka=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Wa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$a=/\uE500/g;function Ga(t,e,n,i,r,s,o){const a=Hr(t,i,1,null);let c=a<<Sa.SHIFT,l=Qt();e===l&&(l=null),null===l&&(c|=Sa.APPEND_EAGERLY),o&&(c|=Sa.COMMENT,void 0===Mi&&(Mi=function(){const t=[];let e,n,i=-1;function r(t,e){i=0;const r=Na(t,e);n=null!==r?t.remove[r]:U}function s(){if(i<n.length){const o=n[i++];return o>0?e[o]:(t.push(i,n),r(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),i=t.pop(),s())}return function(n,i){for(e=i;t.length;)t.pop();return r(n.value,i),s}}())),r.push(c,null===s?"":s);const u=qr(t,a,o?32:1,null===s?"":s,null);Ea(n,u);const h=u.index;return Yt(u,!1),null!==l&&e!==l&&function(t,e){let n=t.insertBeforeIndex;var i;null===n?(lr(ka,xa),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(i=Array.isArray(n))!=!0&&g("Expecting array here",i,true,"=="),n.push(e))}(l,h),u}function Qa(t,e,n,i,r,s,o){const a=o.match(za),c=Ga(t,e,n,s,i,a?null:o,!1);a&&Ya(r,o,c.index)}function Ya(t,e,n,i,r=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,c=e.split(za);let l=0;for(let u=0;u<c.length;u++){const e=c[u];if(1&u){const n=parseInt(e,10);t.push(-1-n),l|=Xa(n)}else""!==e&&t.push(e)}return t.push(n<<2|(i?1:0)),i&&t.push(i,r),t[s]=l,t[o]=t.length-a,l}function Xa(t){return 1<<Math.min(t,31)}function Ja(t){let e,n,i="",r=0,s=!1;for(;null!==(e=Ka.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(r=e.index,s=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],s=!0);return i+=t.substr(r),i}function Za(t,e,n,i,r,s){let o=0;const a={type:r.type,currentCaseLViewIndex:Hr(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Xa(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,r,s),function(t,e,n){const i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,s,a);const c=r.values;for(let l=0;l<c.length;l++){const s=c[l],u=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=u.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=nc(t,a,e,n,i,r.cases[l],s.join(""),u)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function tc(t){const e=[],n=[];let i=1,r=0;const s=ec(t=t.replace(Ha,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===i&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const r=ec(s[o++]);e.length>n.length&&n.push(r)}return{type:i,mainBinding:r,cases:e,values:n}}function ec(t){if(!t)return[];let e=0;const n=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(t);){const r=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,r);Ha.test(n)?i.push(tc(n)):i.push(n),e=r+1}}else{if(0==n.length){const n=t.substring(e,r);i.push(n),e=r+1}n.push("{")}}const o=t.substring(e);return i.push(o),i}function nc(t,e,n,i,r,s,o,a){const c=[],l=[],u=[];e.cases.push(s),e.create.push(c),e.remove.push(l),e.update.push(u);const h=Jn(Et()).getInertBodyElement(o),d=Si(h)||h;return d?ic(t,e,n,i,c,l,u,d,r,a,0):0}function ic(t,e,n,i,r,s,o,a,c,l,u){let h=0,d=a.firstChild;for(;d;){const a=Hr(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(hi.hasOwnProperty(f)){oc(r,_a,f,c,a),t.data[a]=f;const m=p.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(za)?fi.hasOwnProperty(n)&&(di[n]?Ya(o,e.value,a,e.name,ii):pi[n]?Ya(o,e.value,a,e.name,ri):Ya(o,e.value,a,e.name)):ac(r,a,e)}h=ic(t,e,n,i,r,s,o,d,a,l,u+1)|h,rc(s,a,u)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(za);oc(r,null,g?"":m,c,a),rc(s,a,u),g&&(h=Ya(o,m,a)|h);break;case Node.COMMENT_NODE:const b=qa.exec(d.textContent||"");if(b){const e=l[parseInt(b[1],10)];oc(r,wa,"",c,a),Za(t,n,i,c,e,a),sc(s,a,u)}}d=d.nextSibling}return h}function rc(t,e,n){0===n&&t.push(e)}function sc(t,e,n){0===n&&(t.push(~e),t.push(e))}function oc(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,0|i<<17|r<<1)}function ac(t,e,n){t.push(e<<1|1,n.name,n.value)}function cc(t,e,n){(function(t,e,n=-1){const i=Kt(),r=Ht(),s=st+t,o=Ut(i.consts,e),a=Qt();i.firstCreatePass&&function(t,e,n,i,r,s){const o=Qt(),a=[],c=[],l=[[]],u=(h=r=function(t,e){if(function(t){return-1===t}(e))return Ja(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ja(t.substring(n,i))}}(r,s),h.replace($a," ")).split(Wa);var h;for(let d=0;d<u.length;d++){let i=u[d];if(0==(1&d)){const s=ec(i);for(let i=0;i<s.length;i++){let u=s[i];if(0==(1&i)){const e=u;""!==e&&Qa(t,o,l[0],a,c,n,e)}else{const i=u;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);Za(t,n,c,e,i,Ga(t,o,l[0],n,a,"",!0).index)}}}else{const e=47===i.charCodeAt(0),n=(i.charCodeAt(e?1:0),st+Number.parseInt(i.substring(e?2:1)));if(e)l.shift(),Yt(Qt(),!1);else{const e=Ra(t,l[0],n);l.unshift([]),Yt(e,!0)}}}t.data[i]={create:a,update:c}}(i,null===a?0:a.index,r,s,o,n);const c=i.data[s],l=tr(i,a===r[6]?null:a,r);!function(t,e,n,i){const r=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&Sa.COMMENT)===Sa.COMMENT,l=(o&Sa.APPEND_EAGERLY)===Sa.APPEND_EAGERLY,u=o>>>Sa.SHIFT;let h=t[u];null===h&&(h=t[u]=c?r.createComment(a):Ki(r,a)),l&&null!==n&&er(r,n,h,i,!1)}}(r,c.create,l,a&&8&a.type?r[a.index]:null),se(!0)})(t,e,n),se(!1)}function lc(t){return oo(Ht(),ie(),t)&&(La|=1<<Math.min(Fa,31)),Fa++,lc}function uc(t){!function(t,e,n){if(Fa>0){const i=t.data[n];Ma(t,e,Array.isArray(i)?i:i.update,ne()-Fa-1,La)}La=0,Fa=0}(Kt(),Ht(),t+st)}function hc(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let s=0;s<t.length;s++)hc(t[s],e,n,i,r);else{const s=Kt(),o=Ht();let a=Hs(t)?t:f(t.provide),c=Vs(t);const l=$t(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Hs(t)||!t.multi){const i=new Ae(c,r,fo),p=fc(a,e,r?u:u+d,h);-1===p?(We(ze(l,o),s,a),dc(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=fc(a,e,u+d,h),f=fc(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){We(ze(l,o),s,a);const u=function(t,e,n,i,r){const s=new Ae(t,n,fo);return s.multi=[],s.index=e,s.componentProviders=0,pc(s,r,i&&!n),s}(r?gc:mc,n.length,r,i,c);!r&&g&&(n[f].providerFactory=u),dc(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else dc(s,t,p>-1?p:f,pc(n[r?f:p],c,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function dc(t,e,n,i){const r=Hs(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function pc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fc(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function mc(t,e,n,i){return bc(this.multi,[])}function gc(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),bc(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],bc(r,s);return s}function bc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function yc(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Kt();if(i.firstCreatePass){const r=dt(t);hc(n,i.data,i.blueprint,r,!0),hc(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class vc{}class _c{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let wc=(()=>{class t{}return t.NULL=new _c,t})();function Sc(...t){}function Cc(t,e){return new kc(Dt(t,e))}const Tc=function(){return Cc($t(),Ht())};let kc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Tc,t})();class xc{}let Ec=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oc(),t})();const Oc=function(){const t=Ht(),e=Lt($t().index,t);return function(t){return t[11]}(at(e)?e:t)};let Ic=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Ac{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Pc=new Ac("11.0.7");class Dc{constructor(){}supports(t){return no(t)}create(t){return new Nc(t)}}const Rc=(t,e)=>e;class Nc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Rc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Mc(n,i,r)?e:n,o=Mc(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!no(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[to()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Lc(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new jc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Lc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class jc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mc(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Uc{constructor(){}supports(t){return t instanceof Map||io(t)}create(){return new Bc}}class Bc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||io(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Vc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Vc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let zc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Tn,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Dc])}),t})(),qc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Tn,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Uc])}),t})();function Hc(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(At(s)),ct(s))for(let t=ot;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Hc(e[1],e,n,i)}const o=n.type;if(8&o)Hc(t,e,n.child,i);else if(32&o){const t=Ui(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=Bi(t);Hc(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class Kc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Hc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Xi(this._lView[1],this._lView)}onDestroy(t){ts(this._lView[1],this._lView,null,t)}markForCheck(){vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_s(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{_s(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Wc extends Kc{constructor(t){super(t),this._view=t}detectChanges(){ws(this._view)}checkNoChanges(){!function(t){te(!0);try{ws(t)}finally{te(!1)}}(this._view)}get context(){return null}}const $c=Qc;let Gc=(()=>{class t{}return t.__NG_ELEMENT_ID__=$c,t.__ChangeDetectorRef__=!0,t})();function Qc(t=!1){return function(t,e,n){if(!n&&ut(t)){const n=Lt(t.index,e);return new Kc(n,n)}return 47&t.type?new Kc(e[16],e):null}($t(),Ht(),t)}const Yc=[new Uc],Xc=new zc([new Dc]),Jc=new qc(Yc),Zc=function(){return il($t(),Ht())};let tl=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zc,t})();const el=tl,nl=class extends el{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Kr(e,n,t),new Kc(n)}};function il(t,e){return 4&t.type?new nl(e,t,Cc(t,e)):null}class rl{}class sl{}const ol=function(){return dl($t(),Ht())};let al=(()=>{class t{}return t.__NG_ELEMENT_ID__=ol,t})();const cl=al,ll=class extends cl{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ke(this._hostTNode,this._hostLView);if(Fe(t)){const e=Me(t,this._hostLView),n=je(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ul(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(rl,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(ct(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new ll(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=ot+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-ot?(e[4]=n[r],mn(n,ot+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=dr(r,s),a=n[11],c=rr(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,mr(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(this),mn(hl(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ul(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Yi(this._lContainer,e);n&&(gn(hl(this._lContainer),e),Xi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Yi(this._lContainer,e);return n&&null!=gn(hl(this._lContainer),e)?new Kc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ul(t){return t[8]}function hl(t){return t[8]||(t[8]=[])}function dl(t,e){let n;const i=e[t.index];if(ct(i))n=i;else{let r;if(8&t.type)r=At(i);else{const n=e[11];r=n.createComment("");const i=Dt(t,e);er(n,rr(n,i),r,function(t,e){return Ot(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=fs(i,e,r,t),ys(e,n)}return new ll(n,t,e)}const pl={};class fl extends wc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=it(t);return new bl(e,this.ngModule)}}function ml(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const gl=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ri});class bl extends vc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ml(this.componentDef.inputs)}get outputs(){return ml(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,pl,r);return s!==pl||i===pl?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(xc,It),o=r.get(Ic,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Ot(t))return t.selectRootElement(e,n===D.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Gi(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Tt:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Ri,clean:Cs,playerHandler:null,flags:0},d=Zr(0,null,null,1,0,null,null,null,null,null),p=Vr(null,d,h,u,null,null,s,a,o,r);let f,m;de(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=zr(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Is(a,c,!0),null!==t&&(Pe(r,t,c),null!==a.classes&&yr(r,t,a.classes),null!==a.styles&&br(r,t,a.styles)));const l=i.createRenderer(t,e),u=Vr(n,Jr(e),null,e.onPush?64:16,n[20],a,i,l,null,null);return o.firstCreatePass&&(We(ze(a,n),o,e.type),os(o,a),cs(a,n.length,1)),ys(n,u),n[20]=u}(l,this.componentDef,p,s,a);if(l)if(n)Pe(a,l,["ng-version",Pc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!kr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,l,t),e&&e.length>0&&yr(a,l,e.join(" "))}if(m=Rt(d,st),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ls(t,i,e,Hr(t,e,1,null),n));const r=tn(e,t,i.directiveStart,i);Di(r,e);const s=Dt(i,e);return s&&Di(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=$t();e.contentQueries(1,o,t.directiveStart)}const a=$t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),rs(n[1],a,0,a.directiveStart,a.directiveEnd,e),ss(e,o)),o}(t,this.componentDef,p,h,[$s]),Kr(d,p,null)}finally{be()}return new yl(this.componentType,f,Cc(m,p),p,m)}}class yl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Wc(i),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const vl=new Map;class _l extends rl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fl(this);const n=rt(t),i=t[H]||null;i&&Ta(i),this._bootstrapComponents=Fi(n.bootstrap),this._r3Injector=Ms(t,e,[{provide:rl,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ws.THROW_IF_NOT_FOUND,n=x.Default){return t===Ws||t===rl||t===As?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wl extends sl{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const i=rt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(r,vl.get(r),n),vl.set(r,n));const s=Fi(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new _l(this.moduleType,t)}}function Sl(t,e,n){const i=ee()+t,r=Ht();return r[i]===Pr?ro(r,i,n?e.call(n):e()):so(r,i)}function Cl(t,e,n,i){return Il(Ht(),ee(),t,e,n,i)}function Tl(t,e,n,i,r){return Al(Ht(),ee(),t,e,n,i,r)}function kl(t,e,n,i,r,s){return Pl(Ht(),ee(),t,e,n,i,r,s)}function xl(t,e,n,i,r,s,o){return function(t,e,n,i,r,s,o,a,c){const l=e+n;return co(t,l,r,s,o,a)?ro(t,l+4,c?i.call(c,r,s,o,a):i(r,s,o,a)):Ol(t,l+4)}(Ht(),ee(),t,e,n,i,r,s,o)}function El(t,e,n,i,r,s,o,a){const c=ee()+t,l=Ht(),u=co(l,c,n,i,r,s);return oo(l,c+4,o)||u?ro(l,c+5,a?e.call(a,n,i,r,s,o):e(n,i,r,s,o)):so(l,c+5)}function Ol(t,e){const n=t[e];return n===Pr?void 0:n}function Il(t,e,n,i,r,s){const o=e+n;return oo(t,o,r)?ro(t,o+1,s?i.call(s,r):i(r)):Ol(t,o+1)}function Al(t,e,n,i,r,s,o){const a=e+n;return ao(t,a,r,s)?ro(t,a+2,o?i.call(o,r,s):i(r,s)):Ol(t,a+2)}function Pl(t,e,n,i,r,s,o,a){const c=e+n;return function(t,e,n,i,r){const s=ao(t,e,n,i);return oo(t,e+2,r)||s}(t,c,r,s,o)?ro(t,c+3,a?i.call(a,r,s,o):i(r,s,o)):Ol(t,c+3)}function Dl(t,e){const n=Kt();let i;const r=t+st;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new ft("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=pt(i.type)),o=O(fo);try{const t=Be(!1),e=s();return Be(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Ht(),r,e),e}finally{O(o)}}function Rl(t,e,n){const i=t+st,r=Ht(),s=Nt(r,i);return jl(r,Fl(r,i)?Il(r,ee(),e,s.transform,n,s):s.transform(n))}function Nl(t,e,n,i){const r=t+st,s=Ht(),o=Nt(s,r);return jl(s,Fl(s,r)?Al(s,ee(),e,o.transform,n,i,o):o.transform(n,i))}function Ll(t,e,n,i,r){const s=t+st,o=Ht(),a=Nt(o,s);return jl(o,Fl(o,s)?Pl(o,ee(),e,a.transform,n,i,r,a):a.transform(n,i,r))}function Fl(t,e){return t[1].data[e].pure}function jl(t,e){return eo.isWrapped(e)&&(e=eo.unwrap(e),t[ne()]=Pr),e}const Ml=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,s=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return t instanceof r.a&&t.add(a),a}};function Ul(){return this._results[to()]()}class Bl{constructor(){this.dirty=!0,this._results=[],this.changes=new Ml,this.length=0;const t=to(),e=Bl.prototype;e[t]||(e[t]=Ul)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=pn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Vl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vl(this.queryList)}setDirty(){this.queryList.setDirty()}}class zl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new zl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ou(t,e).matches&&this.queries[e].setDirty()}}class ql{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Hl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Hl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Kl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Kl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Wl(e,r)),this.matchTNodeWithReadOption(t,e,Ze(e,t,r,!1,!1))}else n===tl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===kc||i===al||i===tl&&4&e.type)this.addMatch(e.index,-2);else{const n=Ze(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wl(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function $l(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Cc(t,e):4&t.type?il(t,e):null}(e,t):-2===n?function(t,e,n){return n===kc?Cc(e,t):n===tl?il(e,t):n===al?dl(e,t):void 0}(t,e,i):tn(t,t[1],n,e)}function Gl(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:$l(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Ql(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Gl(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=ot;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ql(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ql(n[1],n,r,i)}}}}}return i}function Yl(t){const e=Ht(),n=Kt(),i=ce();le(i+1);const r=ou(n,i);if(t.dirty&&jt(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Ql(n,e,i,[]):Gl(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Xl(t,e,n){Zl(Kt(),Ht(),t,e,n,!0)}function Jl(t,e,n){Zl(Kt(),Ht(),t,e,n,!1)}function Zl(t,e,n,i,r,s){t.firstCreatePass&&(su(t,new ql(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),ru(t,e)}function tu(t,e,n,i){nu(Kt(),Ht(),e,n,i,!1,$t(),t)}function eu(t,e,n,i){nu(Kt(),Ht(),e,n,i,!0,$t(),t)}function nu(t,e,n,i,r,s,o,a){t.firstCreatePass&&(su(t,new ql(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),ru(t,e)}function iu(){return t=Ht(),e=ce(),t[19].queries[e].queryList;var t,e}function ru(t,e){const n=new Bl;ts(t,e,n,n.destroy),null===e[19]&&(e[19]=new zl),e[19].queries.push(new Vl(n))}function su(t,e,n){null===t.queries&&(t.queries=new Hl),t.queries.track(new Kl(e,n))}function ou(t,e){return t.queries.getByIndex(e)}function au(t,e){return il(t,e)}function cu(t=x.Default){const e=Qc(!0);if(null!=e||t&x.Optional)return e;bt("ChangeDetectorRef")}const lu=new un("Application Initializer");let uu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Sc,this.reject=Sc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();To(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Rn(lu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const hu=new un("AppId"),du={provide:hu,useFactory:function(){return`${pu()}${pu()}${pu()}`},deps:[]};function pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fu=new un("Platform Initializer"),mu=new un("Platform ID"),gu=new un("appBootstrapListener");let bu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const yu=new un("LocaleId"),vu=new un("DefaultCurrencyCode");class _u{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const wu=function(t){return new wl(t)},Su=wu,Cu=function(t){return Promise.resolve(wu(t))},Tu=function(t){const e=wu(t),n=Fi(rt(t).declarations).reduce((t,e)=>{const n=it(e);return n&&t.push(new bl(n)),t},[]);return new _u(e,n)},ku=Tu,xu=function(t){return Promise.resolve(Tu(t))};let Eu=(()=>{class t{constructor(){this.compileModuleSync=Su,this.compileModuleAsync=Cu,this.compileModuleAndAllComponentsSync=ku,this.compileModuleAndAllComponentsAsync=xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ou=(()=>Promise.resolve(0))();function Iu(t){"undefined"==typeof Zone?Ou.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Au{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ml(!1),this.onMicrotaskEmpty=new Ml(!1),this.onStable=new Ml(!1),this.onError=new Ml(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=j.requestAnimationFrame,e=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(j,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ru(t),Du(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ru(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return Nu(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Lu(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return Nu(t),e.invoke(i,r,s,o,a)}finally{Lu(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Ru(t),Du(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Pu,Sc,Sc);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Pu={};function Du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ru(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Nu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lu(t){t._nesting--,Du(t)}class Fu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ml,this.onMicrotaskEmpty=new Ml,this.onStable=new Ml,this.onError=new Ml}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),Iu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Rn(Au))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Mu=(()=>{class t{constructor(){this._applications=new Map,zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class Uu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Bu(t){zu=t}let Vu,zu=new Uu,qu=!0,Hu=!1;function Ku(){return Hu=!0,qu}function Wu(){if(Hu)throw new Error("Cannot enable prod mode after platform setup.");qu=!1}const $u=new un("AllowMultipleToken");class Gu{constructor(t,e){this.name=t,this.token=e}}function Qu(t,e,n=[]){const i="Platform: "+e,r=new un(i);return(e=[])=>{let s=Yu();if(!s||s.injector.get($u,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Ds,useValue:"platform"});!function(t){if(Vu&&!Vu.destroyed&&!Vu.injector.get($u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vu=t.get(Xu);const e=t.get(fu,null);e&&e.forEach(t=>t())}(Ws.create({providers:t,name:i}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Yu(){return Vu&&!Vu.destroyed?Vu:null}let Xu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Fu:("zone.js"===t?void 0:t)||new Au({enableLongStackTrace:Ku(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Au,useValue:n}];return n.run(()=>{const e=Ws.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(Ai,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{th(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return To(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(uu);return t.runInitializers(),t.donePromise.then(()=>(Ta(r.injector.get(yu,va)||va),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Ju({},e);return function(t,e,n){const i=new wl(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Rn(Ws))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Ju(t,e){return Array.isArray(e)?e.reduce(Ju,t):Object.assign(Object.assign({},t),e)}let Zu=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),Iu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof vc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(rl),r=n.create(Ws.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(ju,null),a=o&&r.injector.get(Mu);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),th(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),Ku()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;th(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Rn(Au),Rn(bu),Rn(Ws),Rn(Ai),Rn(wc),Rn(uu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function th(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class eh{}class nh{}const ih={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rh=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ih}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>sh(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>sh(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Rn(Eu),Rn(nh,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function sh(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const oh=function(t){return null},ah=Qu(null,"core",[{provide:mu,useValue:"unknown"},{provide:Xu,deps:[Ws]},{provide:Mu,deps:[]},{provide:bu,deps:[]}]),ch=[{provide:Zu,useClass:Zu,deps:[Au,bu,Ws,Ai,wc,uu]},{provide:gl,deps:[Au],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:uu,useClass:uu,deps:[[new Sn,lu]]},{provide:Eu,useClass:Eu,deps:[]},du,{provide:zc,useFactory:function(){return Xc},deps:[]},{provide:qc,useFactory:function(){return Jc},deps:[]},{provide:yu,useFactory:function(t){return Ta(t=t||"undefined"!=typeof $localize&&$localize.locale||va),t},deps:[[new wn(yu),new Sn,new Tn]]},{provide:vu,useValue:"USD"}];let lh=(()=>{class t{constructor(t){}}return t.\u0275mod=J({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(Rn(Zu))},providers:ch}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},gSmF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("qCKp"),r=n("LM6Q");i.Observable.prototype.startWith=r.startWith},gcYM:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("D0XW"),s=n("yuhW");function o(t,e=r.a,n=s.a){return i=>i.lift(new a(t,e,n.leading,n.trailing))}class a{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends i.a{constructor(t,e,n,i,r){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function l(t){const{subscriber:e}=t;e.clearThrottle()}},itXk:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var i=n("z+Ro"),r=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const c={};function l(...t){let e=void 0,n=void 0;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new u(e))}class u{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(c),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===c?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("XNiG"),r=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class l extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new u(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let l;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?l=s.a.EMPTY:(this.observers.push(t),l=new c.a(this,t)),i&&t.add(t=new o.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||r.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class u{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kU1M:function(t,e,n){"use strict";n.r(e),n.d(e,"audit",function(){return i.a}),n.d(e,"auditTime",function(){return r.a}),n.d(e,"buffer",function(){return o}),n.d(e,"bufferCount",function(){return u}),n.d(e,"bufferTime",function(){return g}),n.d(e,"bufferToggle",function(){return x}),n.d(e,"bufferWhen",function(){return I}),n.d(e,"catchError",function(){return D.a}),n.d(e,"combineAll",function(){return N}),n.d(e,"combineLatest",function(){return j}),n.d(e,"concat",function(){return U}),n.d(e,"concatAll",function(){return B.a}),n.d(e,"concatMap",function(){return V.a}),n.d(e,"concatMapTo",function(){return z}),n.d(e,"count",function(){return q}),n.d(e,"debounce",function(){return W}),n.d(e,"debounceTime",function(){return Q.a}),n.d(e,"defaultIfEmpty",function(){return Y.a}),n.d(e,"delay",function(){return X.a}),n.d(e,"delayWhen",function(){return Z}),n.d(e,"dematerialize",function(){return rt}),n.d(e,"distinct",function(){return at}),n.d(e,"distinctUntilChanged",function(){return ut.a}),n.d(e,"distinctUntilKeyChanged",function(){return ht}),n.d(e,"elementAt",function(){return gt}),n.d(e,"endWith",function(){return bt.a}),n.d(e,"every",function(){return yt}),n.d(e,"exhaust",function(){return wt}),n.d(e,"exhaustMap",function(){return kt}),n.d(e,"expand",function(){return Ot}),n.d(e,"filter",function(){return pt.a}),n.d(e,"finalize",function(){return Pt.a}),n.d(e,"find",function(){return Dt}),n.d(e,"findIndex",function(){return Lt}),n.d(e,"first",function(){return Ft.a}),n.d(e,"groupBy",function(){return jt.b}),n.d(e,"ignoreElements",function(){return Mt}),n.d(e,"isEmpty",function(){return Vt}),n.d(e,"last",function(){return Ht.a}),n.d(e,"map",function(){return Tt.a}),n.d(e,"mapTo",function(){return Kt}),n.d(e,"materialize",function(){return Qt}),n.d(e,"max",function(){return Zt}),n.d(e,"merge",function(){return ee}),n.d(e,"mergeAll",function(){return ne.a}),n.d(e,"mergeMap",function(){return ie.b}),n.d(e,"flatMap",function(){return ie.a}),n.d(e,"mergeMapTo",function(){return re}),n.d(e,"mergeScan",function(){return se}),n.d(e,"min",function(){return ce}),n.d(e,"multicast",function(){return le.a}),n.d(e,"observeOn",function(){return ue.b}),n.d(e,"onErrorResumeNext",function(){return he}),n.d(e,"pairwise",function(){return fe.a}),n.d(e,"partition",function(){return ge}),n.d(e,"pluck",function(){return be.a}),n.d(e,"publish",function(){return ve}),n.d(e,"publishBehavior",function(){return we}),n.d(e,"publishLast",function(){return Ce}),n.d(e,"publishReplay",function(){return ke}),n.d(e,"race",function(){return Ee}),n.d(e,"reduce",function(){return Jt.a}),n.d(e,"repeat",function(){return Ie}),n.d(e,"repeatWhen",function(){return De}),n.d(e,"retry",function(){return Le}),n.d(e,"retryWhen",function(){return Me}),n.d(e,"refCount",function(){return Ve.a}),n.d(e,"sample",function(){return ze}),n.d(e,"sampleTime",function(){return Ke}),n.d(e,"scan",function(){return Qe.a}),n.d(e,"sequenceEqual",function(){return Ye}),n.d(e,"share",function(){return tn.a}),n.d(e,"shareReplay",function(){return en.a}),n.d(e,"single",function(){return rn}),n.d(e,"skip",function(){return an.a}),n.d(e,"skipLast",function(){return cn}),n.d(e,"skipUntil",function(){return hn}),n.d(e,"skipWhile",function(){return fn.a}),n.d(e,"startWith",function(){return mn.a}),n.d(e,"subscribeOn",function(){return gn.a}),n.d(e,"switchAll",function(){return vn}),n.d(e,"switchMap",function(){return bn.a}),n.d(e,"switchMapTo",function(){return _n.a}),n.d(e,"take",function(){return mt.a}),n.d(e,"takeLast",function(){return wn.a}),n.d(e,"takeUntil",function(){return Sn.a}),n.d(e,"takeWhile",function(){return Cn.a}),n.d(e,"tap",function(){return Tn.a}),n.d(e,"throttle",function(){return kn.b}),n.d(e,"throttleTime",function(){return xn.a}),n.d(e,"throwIfEmpty",function(){return ft.a}),n.d(e,"timeInterval",function(){return On}),n.d(e,"timeout",function(){return Fn}),n.d(e,"timeoutWith",function(){return Dn}),n.d(e,"timestamp",function(){return jn}),n.d(e,"toArray",function(){return Un.a}),n.d(e,"window",function(){return Bn}),n.d(e,"windowCount",function(){return qn}),n.d(e,"windowTime",function(){return $n}),n.d(e,"windowToggle",function(){return ti}),n.d(e,"windowWhen",function(){return ii}),n.d(e,"withLatestFrom",function(){return oi.a}),n.d(e,"zip",function(){return ci}),n.d(e,"zipAll",function(){return li});var i=n("tnsW"),r=n("3UWI"),s=n("zx2A");function o(t){return function(e){return e.lift(new a(t))}}class a{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new c(t,this.closingNotifier))}}class c extends s.b{constructor(t,e){super(t),this.buffer=[],this.add(Object(s.c)(e,new s.a(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var l=n("7o/Q");function u(t,e=null){return function(n){return n.lift(new h(t,e))}}class h{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?p:d}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class d extends l.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class p extends l.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:i,count:r}=this;this.count++,r%n==0&&i.push([]);for(let s=i.length;s--;){const n=i[s];n.push(t),n.length===e&&(i.splice(s,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var f=n("D0XW"),m=n("z+Ro");function g(t){let e=arguments.length,n=f.a;Object(m.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let i=null;e>=2&&(i=arguments[1]);let r=Number.POSITIVE_INFINITY;return e>=3&&(r=arguments[2]),function(e){return e.lift(new b(t,i,r,n))}}class b{constructor(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}call(t,e){return e.subscribe(new v(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class y{constructor(){this.buffer=[]}}class v extends l.a{constructor(t,e,n,i,r){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=r,this.contexts=[];const s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(s.closeAction=r.schedule(_,e,{subscriber:this,context:s,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:r};this.add(s.closeAction=r.schedule(S,e,{subscriber:this,context:s})),this.add(r.schedule(w,n,t))}}_next(t){const e=this.contexts,n=e.length;let i;for(let r=0;r<n;r++){const n=e[r],s=n.buffer;s.push(t),s.length==this.maxBufferSize&&(i=n)}i&&this.onBufferFull(i)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(_,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new y;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function _(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function w(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:i,scheduler:r}=t,s=i.openContext();i.closed||(i.add(s.closeAction=r.schedule(S,n,{subscriber:i,context:s})),this.schedule(t,e))}function S(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var C=n("quSY"),T=n("ZUHj"),k=n("l7GE");function x(t,e){return function(n){return n.lift(new E(t,e))}}class E{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new O(t,this.openings,this.closingSelector))}}class O extends k.a{constructor(t,e,n){super(t),this.closingSelector=n,this.contexts=[],this.add(Object(T.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let i=0;i<n;i++)e[i].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:i}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new C.a,i={buffer:[],subscription:n};e.push(i);const r=Object(T.a)(this,t,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))}}function I(t){return function(e){return e.lift(new A(t))}}class A{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new P(t,this.closingSelector))}}class P extends s.b{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(n){return this.error(n)}e=new C.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.c)(t,new s.a(this))),this.subscribing=!1}}var D=n("JIr8"),R=n("itXk");function N(t){return e=>e.lift(new R.a(t))}var L=n("DH7j"),F=n("Cfvw");function j(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(L.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(F.a)([n,...t]),new R.a(e))}var M=n("GyhO");function U(...t){return e=>e.lift.call(Object(M.a)(e,...t))}var B=n("0EUg"),V=n("bOdf");function z(t,e){return Object(V.a)(()=>t,e)}function q(t){return e=>e.lift(new H(t,e))}class H{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new K(t,this.predicate,this.source))}}class K extends l.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function W(t){return e=>e.lift(new $(t))}class ${constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new G(t,this.durationSelector))}}class G extends s.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(s.c)(e,new s.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}var Q=n("Kj3r"),Y=n("xbPD"),X=n("3E0/"),J=n("HDdC");function Z(t,e){return e?n=>new nt(n,e).lift(new tt(t)):e=>e.lift(new tt(t))}class tt{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new et(t,this.delayDurationSelector))}}class et extends k.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,i,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(T.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class nt extends J.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new it(t,this.source))}}class it extends l.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function rt(){return function(t){return t.lift(new st)}}class st{call(t,e){return e.subscribe(new ot(t))}}class ot extends l.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function at(t,e){return n=>n.lift(new ct(t,e))}class ct{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new lt(t,this.keySelector,this.flushes))}}class lt extends s.b{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(s.c)(n,new s.a(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(i){return void n.error(i)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}var ut=n("/uUt");function ht(t,e){return Object(ut.a)((n,i)=>e?e(n[t],i[t]):n[t]===i[t])}var dt=n("4I5i"),pt=n("pLZG"),ft=n("XDbj"),mt=n("IzEk");function gt(t,e){if(t<0)throw new dt.a;const n=arguments.length>=2;return i=>i.pipe(Object(pt.a)((e,n)=>n===t),Object(mt.a)(1),n?Object(Y.a)(e):Object(ft.a)(()=>new dt.a))}var bt=n("0Pi8");function yt(t,e){return n=>n.lift(new vt(t,e,n))}class vt{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new _t(t,this.predicate,this.thisArg,this.source))}}class _t extends l.a{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function wt(){return t=>t.lift(new St)}class St{call(t,e){return e.subscribe(new Ct(t))}}class Ct extends s.b{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(s.c)(t,new s.a(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var Tt=n("lJxs");function kt(t,e){return e?n=>n.pipe(kt((n,i)=>Object(F.a)(t(n,i)).pipe(Object(Tt.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new xt(t))}class xt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Et(t,this.project))}}class Et extends s.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ot(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,i=>i.lift(new It(t,e,n))}class It{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new At(t,this.project,this.concurrent,this.scheduler))}}class At extends s.b{constructor(t,e,n,i){super(t),this.project=e,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:i,index:r}=t;e.subscribeToProjection(n,i,r)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,i=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(At.dispatch,0,{subscriber:this,result:i,value:t,index:n})):this.subscribeToProjection(i,t,n)}catch(i){e.error(i)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(Object(s.c)(t,new s.a(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Pt=n("nYR2");function Dt(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new Rt(t,n,!1,e))}class Rt{constructor(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}call(t,e){return e.subscribe(new Nt(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Nt extends l.a{constructor(t,e,n,i,r){super(t),this.predicate=e,this.source=n,this.yieldIndex=i,this.thisArg=r,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,i=this.index++;try{e.call(n||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(r){this.destination.error(r)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Lt(t,e){return n=>n.lift(new Rt(t,n,!0,e))}var Ft=n("SxV6"),jt=n("OQgR");function Mt(){return function(t){return t.lift(new Ut)}}class Ut{call(t,e){return e.subscribe(new Bt(t))}}class Bt extends l.a{_next(t){}}function Vt(){return t=>t.lift(new zt)}class zt{call(t,e){return e.subscribe(new qt(t))}}class qt extends l.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Ht=n("NJ9Y");function Kt(t){return e=>e.lift(new Wt(t))}class Wt{constructor(t){this.value=t}call(t,e){return e.subscribe(new $t(t,this.value))}}class $t extends l.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var Gt=n("WMd4");function Qt(){return function(t){return t.lift(new Yt)}}class Yt{call(t,e){return e.subscribe(new Xt(t))}}class Xt extends l.a{constructor(t){super(t)}_next(t){this.destination.next(Gt.a.createNext(t))}_error(t){const e=this.destination;e.next(Gt.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Gt.a.createComplete()),t.complete()}}var Jt=n("128B");function Zt(t){const e="function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e;return Object(Jt.a)(e)}var te=n("VRyK");function ee(...t){return e=>e.lift.call(Object(te.a)(e,...t))}var ne=n("bHdf"),ie=n("5+tZ");function re(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(ie.b)(()=>t,e,n):("number"==typeof e&&(n=e),Object(ie.b)(()=>t,n))}function se(t,e,n=Number.POSITIVE_INFINITY){return i=>i.lift(new oe(t,e,n))}class oe{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new ae(t,this.accumulator,this.seed,this.concurrent))}}class ae extends s.b{constructor(t,e,n,i){super(t),this.accumulator=e,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const n=this.index++,i=this.destination;let r;try{const{accumulator:e}=this;r=e(this.acc,t,n)}catch(e){return i.error(e)}this.active++,this._innerSub(r)}else this.buffer.push(t)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function ce(t){const e="function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e;return Object(Jt.a)(e)}var le=n("oB13"),ue=n("pxpQ");function he(...t){return 1===t.length&&Object(L.a)(t[0])&&(t=t[0]),e=>e.lift(new de(t))}class de{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new pe(t,this.nextSources))}}class pe extends s.b{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}else this.destination.complete()}}var fe=n("Zy1z"),me=n("F97/");function ge(t,e){return n=>[Object(pt.a)(t,e)(n),Object(pt.a)(Object(me.a)(t,e))(n)]}var be=n("wO+i"),ye=n("XNiG");function ve(t){return t?Object(le.a)(()=>new ye.a,t):Object(le.a)(new ye.a)}var _e=n("2Vo4");function we(t){return e=>Object(le.a)(new _e.a(t))(e)}var Se=n("NHP+");function Ce(){return t=>Object(le.a)(new Se.a)(t)}var Te=n("jtHE");function ke(t,e,n,i){n&&"function"!=typeof n&&(i=n);const r="function"==typeof n?n:void 0,s=new Te.a(t,e,i);return t=>Object(le.a)(()=>s,r)(t)}var xe=n("Nv8m");function Ee(...t){return function(e){return 1===t.length&&Object(L.a)(t[0])&&(t=t[0]),e.lift.call(Object(xe.a)(e,...t))}}var Oe=n("EY2u");function Ie(t=-1){return e=>0===t?Object(Oe.b)():e.lift(new Ae(t<0?-1:t-1,e))}class Ae{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Pe(t,this.count,this.source))}}class Pe extends l.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function De(t){return e=>e.lift(new Re(t))}class Re{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Ne(t,this.notifier,e))}}class Ne extends s.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new ye.a;try{const{notifier:e}=this;t=e(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=Object(s.c)(t,new s.a(this))}}function Le(t=-1){return e=>e.lift(new Fe(t,e))}class Fe{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new je(t,this.count,this.source))}}class je extends l.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Me(t){return e=>e.lift(new Ue(t,e))}class Ue{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Be(t,this.notifier,this.source))}}class Be extends s.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ye.a;try{const{notifier:t}=this;i=t(n)}catch(e){return super.error(e)}r=Object(s.c)(i,new s.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Ve=n("x+ZX");function ze(t){return e=>e.lift(new qe(t))}class qe{constructor(t){this.notifier=t}call(t,e){const n=new He(t),i=e.subscribe(n);return i.add(Object(s.c)(this.notifier,new s.a(n))),i}}class He extends s.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Ke(t,e=f.a){return n=>n.lift(new We(t,e))}class We{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new $e(t,this.period,this.scheduler))}}class $e extends l.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(Ge,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Ge(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}var Qe=n("Kqap");function Ye(t,e){return n=>n.lift(new Xe(t,e))}class Xe{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new Je(t,this.compareTo,this.comparator))}}class Je extends l.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new Ze(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let r=t.shift(),s=e.shift(),o=!1;try{o=n?n(r,s):r===s}catch(i){this.destination.error(i)}o||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Ze extends l.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var tn=n("w1tV"),en=n("UXun"),nn=n("sVev");function rn(t){return e=>e.lift(new sn(t,e))}class sn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new on(t,this.predicate,this.source))}}class on extends l.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new nn.a)}}var an=n("zP0r");function cn(t){return e=>e.lift(new ln(t))}class ln{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new dt.a}call(t,e){return e.subscribe(0===this._skipCount?new l.a(t):new un(t,this._skipCount))}}class un extends l.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const i=n%e,r=this._ring,s=r[i];r[i]=t,this.destination.next(s)}}}function hn(t){return e=>e.lift(new dn(t))}class dn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new pn(t,this.notifier))}}class pn extends s.b{constructor(t,e){super(t),this.hasValue=!1;const n=new s.a(this);this.add(n),this.innerSubscription=n;const i=Object(s.c)(e,n);i!==n&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var fn=n("32Ea"),mn=n("JX91"),gn=n("tf+s"),bn=n("eIep"),yn=n("SpAZ");function vn(){return Object(bn.a)(yn.a)}var _n=n("aGrj"),wn=n("BFxc"),Sn=n("1G5W"),Cn=n("GJmQ"),Tn=n("vkgz"),kn=n("yuhW"),xn=n("gcYM"),En=n("NXyV");function On(t=f.a){return e=>Object(En.a)(()=>e.pipe(Object(Qe.a)(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(Tt.a)(({current:t,last:e,value:n})=>new In(n,t-e))))}class In{constructor(t,e){this.value=t,this.interval=e}}var An=n("Y6u4"),Pn=n("mlxB");function Dn(t,e,n=f.a){return i=>{let r=Object(Pn.a)(t),s=r?+t-n.now():Math.abs(t);return i.lift(new Rn(s,r,e,n))}}class Rn{constructor(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}call(t,e){return e.subscribe(new Nn(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Nn extends s.b{constructor(t,e,n,i,r){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=i,this.scheduler=r,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(s.c)(e,new s.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Nn.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Ln=n("z6cu");function Fn(t,e=f.a){return Dn(t,Object(Ln.a)(new An.a),e)}function jn(t=f.a){return Object(Tt.a)(e=>new Mn(e,t.now()))}class Mn{constructor(t,e){this.value=t,this.timestamp=e}}var Un=n("IAdc");function Bn(t){return function(e){return e.lift(new Vn(t))}}class Vn{constructor(t){this.windowBoundaries=t}call(t,e){const n=new zn(t),i=e.subscribe(n);return i.closed||n.add(Object(s.c)(this.windowBoundaries,new s.a(n))),i}}class zn extends s.b{constructor(t){super(t),this.window=new ye.a,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new ye.a;e.next(n)}}function qn(t,e=0){return function(n){return n.lift(new Hn(t,e))}}class Hn{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new Kn(t,this.windowSize,this.startWindowEvery))}}class Kn extends l.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new ye.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,s=r.length;for(let a=0;a<s&&!this.closed;a++)r[a].next(t);const o=this.count-i+1;if(o>=0&&o%e==0&&!this.closed&&r.shift().complete(),++this.count%e==0&&!this.closed){const t=new ye.a;r.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var Wn=n("Y7HM");function $n(t){let e=f.a,n=null,i=Number.POSITIVE_INFINITY;return Object(m.a)(arguments[3])&&(e=arguments[3]),Object(m.a)(arguments[2])?e=arguments[2]:Object(Wn.a)(arguments[2])&&(i=Number(arguments[2])),Object(m.a)(arguments[1])?e=arguments[1]:Object(Wn.a)(arguments[1])&&(n=Number(arguments[1])),function(r){return r.lift(new Gn(t,n,i,e))}}class Gn{constructor(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}call(t,e){return e.subscribe(new Yn(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Qn extends ye.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Yn extends l.a{constructor(t,e,n,i,r){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=r,this.windows=[];const s=this.openWindow();if(null!==n&&n>=0){const t={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:r};this.add(r.schedule(Zn,e,{subscriber:this,window:s,context:null})),this.add(r.schedule(Jn,n,t))}else this.add(r.schedule(Xn,e,{subscriber:this,window:s,windowTimeSpan:e}))}_next(t){const e=this.windows,n=e.length;for(let i=0;i<n;i++){const n=e[i];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new Qn;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function Xn(t){const{subscriber:e,windowTimeSpan:n,window:i}=t;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,n)}function Jn(t){const{windowTimeSpan:e,subscriber:n,scheduler:i,windowCreationInterval:r}=t,s=n.openWindow(),o=this;let a={action:o,subscription:null};a.subscription=i.schedule(Zn,e,{subscriber:n,window:s,context:a}),o.add(a.subscription),o.schedule(t,r)}function Zn(t){const{subscriber:e,window:n,context:i}=t;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(n)}function ti(t,e){return n=>n.lift(new ei(t,e))}class ei{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new ni(t,this.openings,this.closingSelector))}}class ni extends k.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(T.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let i=0;i<n;i++)e[i].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let i=-1;for(;++i<n;){const n=e[i];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,i,r){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(s){return this.error(s)}const n=new ye.a,i=new C.a,r={window:n,subscription:i};this.contexts.push(r);const o=Object(T.a)(this,t,r);o.closed?this.closeWindow(this.contexts.length-1):(o.context=r,i.add(o)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:i,subscription:r}=n;e.splice(t,1),i.complete(),r.unsubscribe()}}function ii(t){return function(e){return e.lift(new ri(t))}}class ri{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new si(t,this.closingSelector))}}class si extends k.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,i,r){this.openWindow(r)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new ye.a;let i;this.destination.next(n);try{const{closingSelector:t}=this;i=t()}catch(r){return this.destination.error(r),void this.window.error(r)}this.add(this.closingNotification=Object(T.a)(this,i))}}var oi=n("zp1y"),ai=n("1uah");function ci(...t){return function(e){return e.lift.call(Object(ai.b)(e,...t))}}function li(t){return e=>e.lift(new ai.a(t))}},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");class r extends i.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return u}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return d}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return m}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return b}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return _}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return S}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return T}),n.d(e,"__classPrivateFieldGet",function(){return k}),n.d(e,"__classPrivateFieldSet",function(){return x});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function b(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){s.push([t,e,n,i])>1||a(t,e)})})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(i){u(s[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("SpAZ");function r(...t){return s(t)}function s(t){return 0===t.length?i.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mlxB:function(t,e,n){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",function(){return i})},n5rO:function(t,e,n){const i=n("ADeD").words,r=n("pVuY").array;t.exports=class{constructor(t={}){Object.assign(this,{list:t.emptyList&&[]||Array.prototype.concat.apply(i,[r,t.list||[]]),exclude:t.exclude||[],splitRegex:t.splitRegex||/\b/,placeHolder:t.placeHolder||"*",regex:t.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:t.replaceRegex||/\w/g})}isProfane(t){return this.list.filter(e=>{const n=new RegExp(`\\b${e.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(e.toLowerCase())&&n.test(t)}).length>0||!1}replaceWord(t){return t.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(t){return t.split(this.splitRegex).map(t=>this.isProfane(t)?this.replaceWord(t):t).join(this.splitRegex.exec(t)[0])}addWords(){let t=Array.from(arguments);this.list.push(...t),t.map(t=>t.toLowerCase()).forEach(t=>{this.exclude.includes(t)&&this.exclude.splice(this.exclude.indexOf(t),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(t=>t.toLowerCase()))}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends i.a{constructor(t,e){super(t),this.add(new r.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("EQ5u");function r(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(r,e));const o=Object.create(n,i.b);return o.source=n,o.subjectFactory=r,o}}class s{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pVuY:function(t,e,n){t.exports={object:n("EFs4"),array:n("x5Rx"),regex:n("74GY")}},pjAE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})()},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return h}),n.d(e,"setLogLevel",function(){return d}),n.d(e,"setUserLogHandler",function(){return p});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},qCKp:function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",function(){return i.a}),n.d(e,"ConnectableObservable",function(){return r.a}),n.d(e,"GroupedObservable",function(){return s.a}),n.d(e,"observable",function(){return o.a}),n.d(e,"Subject",function(){return a.a}),n.d(e,"BehaviorSubject",function(){return c.a}),n.d(e,"ReplaySubject",function(){return l.a}),n.d(e,"AsyncSubject",function(){return u.a}),n.d(e,"asap",function(){return h.a}),n.d(e,"asapScheduler",function(){return h.b}),n.d(e,"async",function(){return d.a}),n.d(e,"asyncScheduler",function(){return d.b}),n.d(e,"queue",function(){return p.a}),n.d(e,"queueScheduler",function(){return p.b}),n.d(e,"animationFrame",function(){return f.a}),n.d(e,"animationFrameScheduler",function(){return f.b}),n.d(e,"VirtualTimeScheduler",function(){return b}),n.d(e,"VirtualAction",function(){return y}),n.d(e,"Scheduler",function(){return v.a}),n.d(e,"Subscription",function(){return _.a}),n.d(e,"Subscriber",function(){return w.a}),n.d(e,"Notification",function(){return S.a}),n.d(e,"NotificationKind",function(){return S.b}),n.d(e,"pipe",function(){return C.a}),n.d(e,"noop",function(){return T.a}),n.d(e,"identity",function(){return k.a}),n.d(e,"isObservable",function(){return x.a}),n.d(e,"ArgumentOutOfRangeError",function(){return E.a}),n.d(e,"EmptyError",function(){return O.a}),n.d(e,"ObjectUnsubscribedError",function(){return I.a}),n.d(e,"UnsubscriptionError",function(){return A.a}),n.d(e,"TimeoutError",function(){return P.a}),n.d(e,"bindCallback",function(){return F}),n.d(e,"bindNodeCallback",function(){return U}),n.d(e,"combineLatest",function(){return q.b}),n.d(e,"concat",function(){return H.a}),n.d(e,"defer",function(){return K.a}),n.d(e,"empty",function(){return W.b}),n.d(e,"forkJoin",function(){return $.a}),n.d(e,"from",function(){return G.a}),n.d(e,"fromEvent",function(){return Q.a}),n.d(e,"fromEventPattern",function(){return X}),n.d(e,"generate",function(){return J}),n.d(e,"iif",function(){return tt}),n.d(e,"interval",function(){return nt}),n.d(e,"merge",function(){return rt.a}),n.d(e,"never",function(){return st.b}),n.d(e,"of",function(){return ot.a}),n.d(e,"onErrorResumeNext",function(){return at}),n.d(e,"pairs",function(){return ct}),n.d(e,"partition",function(){return pt}),n.d(e,"race",function(){return ft.a}),n.d(e,"range",function(){return mt}),n.d(e,"throwError",function(){return bt.a}),n.d(e,"timer",function(){return yt.a}),n.d(e,"using",function(){return vt}),n.d(e,"zip",function(){return _t.b}),n.d(e,"scheduled",function(){return wt.a}),n.d(e,"EMPTY",function(){return W.a}),n.d(e,"NEVER",function(){return st.a}),n.d(e,"config",function(){return St.a});var i=n("HDdC"),r=n("EQ5u"),s=n("OQgR"),o=n("kJWO"),a=n("XNiG"),c=n("2Vo4"),l=n("jtHE"),u=n("NHP+"),h=n("7Hc7"),d=n("D0XW"),p=n("qgXg"),f=n("eNwd"),m=n("3N8a"),g=n("IjjT");let b=(()=>{class t extends g.a{constructor(t=y,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,i;for(;(i=t[0])&&i.delay<=e&&(t.shift(),this.frame=i.delay,!(n=i.execute(i.state,i.delay))););if(n){for(;i=t.shift();)i.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})();class y extends m.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new y(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:i}=t;return i.push(this),i.sort(y.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var v=n("Y/cZ"),_=n("quSY"),w=n("7o/Q"),S=n("WMd4"),C=n("mCNh"),T=n("KqfI"),k=n("SpAZ"),x=n("7+OI"),E=n("4I5i"),O=n("sVev"),I=n("9ppp"),A=n("pjAE"),P=n("Y6u4"),D=n("lJxs"),R=n("8Qeq"),N=n("DH7j"),L=n("z+Ro");function F(t,e,n){if(e){if(!Object(L.a)(e))return(...i)=>F(t,n)(...i).pipe(Object(D.a)(t=>Object(N.a)(t)?e(...t):e(t)));n=e}return function(...e){const r=this;let s;const o={context:r,subject:s,callbackFunc:t,scheduler:n};return new i.a(i=>{if(n)return n.schedule(j,0,{args:e,subscriber:i,params:o});if(!s){s=new u.a;const n=(...t)=>{s.next(t.length<=1?t[0]:t),s.complete()};try{t.apply(r,[...e,n])}catch(a){Object(R.a)(s)?s.error(a):console.warn(a)}}return s.subscribe(i)})}}function j(t){const{args:e,subscriber:n,params:i}=t,{callbackFunc:r,context:s,scheduler:o}=i;let{subject:a}=i;if(!a){a=i.subject=new u.a;const t=(...t)=>{this.add(o.schedule(M,0,{value:t.length<=1?t[0]:t,subject:a}))};try{r.apply(s,[...e,t])}catch(c){a.error(c)}}this.add(a.subscribe(n))}function M(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function U(t,e,n){if(e){if(!Object(L.a)(e))return(...i)=>U(t,n)(...i).pipe(Object(D.a)(t=>Object(N.a)(t)?e(...t):e(t)));n=e}return function(...e){const r={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new i.a(i=>{const{context:s}=r;let{subject:o}=r;if(n)return n.schedule(B,0,{params:r,subscriber:i,context:s});if(!o){o=r.subject=new u.a;const n=(...t)=>{const e=t.shift();e?o.error(e):(o.next(t.length<=1?t[0]:t),o.complete())};try{t.apply(s,[...e,n])}catch(a){Object(R.a)(o)?o.error(a):console.warn(a)}}return o.subscribe(i)})}}function B(t){const{params:e,subscriber:n,context:i}=t,{callbackFunc:r,args:s,scheduler:o}=e;let a=e.subject;if(!a){a=e.subject=new u.a;const t=(...t)=>{const e=t.shift();this.add(e?o.schedule(z,0,{err:e,subject:a}):o.schedule(V,0,{value:t.length<=1?t[0]:t,subject:a}))};try{r.apply(i,[...s,t])}catch(c){this.add(o.schedule(z,0,{err:c,subject:a}))}}this.add(a.subscribe(n))}function V(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function z(t){const{err:e,subject:n}=t;n.error(e)}var q=n("itXk"),H=n("GyhO"),K=n("NXyV"),W=n("EY2u"),$=n("cp0P"),G=n("Cfvw"),Q=n("xgIS"),Y=n("n6bG");function X(t,e,n){return n?X(t,e).pipe(Object(D.a)(t=>Object(N.a)(t)?n(...t):n(t))):new i.a(n=>{const i=(...t)=>n.next(1===t.length?t[0]:t);let r;try{r=t(i)}catch(s){return void n.error(s)}if(Object(Y.a)(e))return()=>e(i,r)})}function J(t,e,n,r,s){let o,a;return 1==arguments.length?(a=t.initialState,e=t.condition,n=t.iterate,o=t.resultSelector||k.a,s=t.scheduler):void 0===r||Object(L.a)(r)?(a=t,o=k.a,s=r):(a=t,o=r),new i.a(t=>{let i=a;if(s)return s.schedule(Z,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:i});for(;;){if(e){let n;try{n=e(i)}catch(r){return void t.error(r)}if(!n){t.complete();break}}let s;try{s=o(i)}catch(r){return void t.error(r)}if(t.next(s),t.closed)break;try{i=n(i)}catch(r){return void t.error(r)}}})}function Z(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(r){return void e.error(r)}else t.needIterate=!0;if(n){let i;try{i=n(t.state)}catch(r){return void e.error(r)}if(!i)return void e.complete();if(e.closed)return}let i;try{i=t.resultSelector(t.state)}catch(r){return void e.error(r)}return e.closed||(e.next(i),e.closed)?void 0:this.schedule(t)}function tt(t,e=W.a,n=W.a){return Object(K.a)(()=>t()?e:n)}var et=n("Y7HM");function nt(t=0,e=d.a){return(!Object(et.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new i.a(n=>(n.add(e.schedule(it,t,{subscriber:n,counter:0,period:t})),n))}function it(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var rt=n("VRyK"),st=n("5yfJ"),ot=n("LRne");function at(...t){if(0===t.length)return W.a;const[e,...n]=t;return 1===t.length&&Object(N.a)(e)?at(...e):new i.a(t=>{const i=()=>t.add(at(...n).subscribe(t));return Object(G.a)(e).subscribe({next(e){t.next(e)},error:i,complete:i})})}function ct(t,e){return new i.a(e?n=>{const i=Object.keys(t),r=new _.a;return r.add(e.schedule(lt,0,{keys:i,index:0,subscriber:n,subscription:r,obj:t})),r}:e=>{const n=Object.keys(t);for(let i=0;i<n.length&&!e.closed;i++){const r=n[i];t.hasOwnProperty(r)&&e.next([r,t[r]])}e.complete()})}function lt(t){const{keys:e,index:n,subscriber:i,subscription:r,obj:s}=t;if(!i.closed)if(n<e.length){const t=e[n];i.next([t,s[t]]),r.add(this.schedule({keys:e,index:n+1,subscriber:i,subscription:r,obj:s}))}else i.complete()}var ut=n("F97/"),ht=n("SeVD"),dt=n("pLZG");function pt(t,e,n){return[Object(dt.a)(e,n)(new i.a(Object(ht.a)(t))),Object(dt.a)(Object(ut.a)(e,n))(new i.a(Object(ht.a)(t)))]}var ft=n("Nv8m");function mt(t=0,e,n){return new i.a(i=>{void 0===e&&(e=t,t=0);let r=0,s=t;if(n)return n.schedule(gt,0,{index:r,count:e,start:t,subscriber:i});for(;;){if(r++>=e){i.complete();break}if(i.next(s++),i.closed)break}})}function gt(t){const{start:e,index:n,count:i,subscriber:r}=t;n>=i?r.complete():(r.next(e),r.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var bt=n("z6cu"),yt=n("PqYM");function vt(t,e){return new i.a(n=>{let i,r;try{i=t()}catch(o){return void n.error(o)}try{r=e(i)}catch(o){return void n.error(o)}const s=(r?Object(G.a)(r):W.a).subscribe(n);return()=>{s.unsubscribe(),i&&i.unsubscribe()}})}var _t=n("1uah"),wt=n("7HRe"),St=n("2fFW")},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG"),o=n("pjAE");let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o.a?c(h.errors):[h]}}if(Object(i.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o.a?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o.a(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o.a?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return E}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return k}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return C});var i=n("qgXg"),r=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Wcq6"),u=n.n(l);function h(){}class d{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class p{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new d(Zone.current)),this.insideAngular=t.run(()=>new d(Zone.current,r.b))}}function m(t){return function(e){return(e=e.lift(new p(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.q("angularfire2.app.options"),_=new c.q("angularfire2.app.nameOrConfig"),w=new c.P("6.1.4");function S(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(s.options)&&T("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{Object(c.W)()&&"undefined"!=typeof console&&console[t](...e)};function k(e,n,i,r,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:S,deps:[v,c.z,[new c.A,_]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",w.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)(c.ac(c.B))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),s=n("Y7HM");class o extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},tnsW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("zx2A");function r(t){return function(e){return e.lift(new s(t))}}class s{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new o(t,this.durationSelector))}}class o extends i.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(i.c)(n,new i.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r.a,this._tapError=r.a,this._tapComplete=r.a,this._tapError=n||r.a,this._tapComplete=i||r.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r.a,this._tapError=e.error||r.a,this._tapComplete=e.complete||r.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("oB13"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(r.a)()(Object(i.a)(o)(t))}},"wO+i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("lJxs");function r(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(i.a)(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=null!=i?i[t[r]]:void 0;if(void 0===e)return;i=e}return i}}(t,e))(n)}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s=n("mAIw"),o=n("zVF4"),a=n("S+S0"),c=n("q/0M"),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new o.ErrorFactory("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",p=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),f=new c.Logger("@firebase/app"),m=function(){function t(t,e,n){var i,r,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return c},"PUBLIC"));try{for(var l=s.__values(this.firebase_.INTERNAL.components.values()),u=l.next();!u.done;u=l.next())this._addComponent(u.value)}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=p[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}l(new a.Component(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument",{appName:name});c.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!o.contains(e,t=t||d))throw u.create("no-app",{appName:t});return e[t]}function l(a){var c,l,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw u.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(d,a.serviceProps),i[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(m);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.11",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},x5Rx:function(t,e){t.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return ti}),n.d(e,"EventType",function(){return ei}),n.d(e,"WebChannel",function(){return ni}),n.d(e,"XhrIo",function(){return ii}),n.d(e,"createWebChannelTransport",function(){return Zn});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},c=o||self;function l(){}function u(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),f=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++f)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var E,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function I(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var P=c.navigator;if(P){var D=P.userAgent;if(D){E=D;break t}}E=""}function R(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function N(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<L.length;s++)n=L[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function j(t){return j[" "](t),t}j[" "]=l;var M,U,B=I(E,"Opera"),V=I(E,"Trident")||I(E,"MSIE"),z=I(E,"Edge"),q=z||V,H=I(E,"Gecko")&&!(I(E.toLowerCase(),"webkit")&&!I(E,"Edge"))&&!(I(E,"Trident")||I(E,"MSIE"))&&!I(E,"Edge"),K=I(E.toLowerCase(),"webkit")&&!I(E,"Edge");function W(){var t=c.document;return t?t.documentMode:void 0}t:{var $="",G=(U=E,H?/rv:([^\);]+)(\)|;)/.exec(U):z?/Edge\/([\d\.]+)/.exec(U):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):K?/WebKit\/(\S+)/.exec(U):B?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(G&&($=G?G[1]:""),V){var Q=W();if(null!=Q&&Q>parseFloat($)){M=String(Q);break t}}M=$}var Y={};function X(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=O(String(M)).split("."),i=O(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=A(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==o[2].length,0==a[2].length)||A(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var J=c.document&&V&&(W()||parseInt(M,10))||void 0,Z=!V||9<=Number(J),tt=V&&!X("9"),et=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",l,e),c.removeEventListener("test",l,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{j(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(it,nt);var rt={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++ot,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ut(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=S(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==i)return r}return-1}lt.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ht(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new at(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),pt={};function ft(t,e,n,i,r){if(i&&i.once)return gt(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ft(t,e[s],n,i,r);return null}return n=Tt(n),t&&t[st]?t.va(e,n,d(i)?!!i.capture:!!i,r):mt(t,e,n,!1,i,r)}function mt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=d(r)?!!r.capture:!!r;if(o&&!Z)return null;var a=St(t);if(a||(t[dt]=a=new lt(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=wt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)et||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(vt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function gt(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gt(t,e[s],n,i,r);return null}return n=Tt(n),t&&t[st]?t.wa(e,n,d(i)?!!i.capture:!!i,r):mt(t,e,n,!0,i,r)}function bt(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)bt(t,e[s],n,i,r);else i=d(i)?!!i.capture:!!i,n=Tt(n),t&&t[st]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ht(s=t.a[e],n,i,r))&&(ct(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=St(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ht(e,n,i,r)),(n=-1<t?e[t]:null)&&yt(n))}function yt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])ut(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(vt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=St(e))?(ut(n,t),0==n.b&&(n.src=null,e[dt]=null)):ct(t)}}}function vt(t){return t in pt?pt[t]:pt[t]="on"+t}function _t(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&yt(t),n.call(i,e)}function wt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=c,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return _t(t,e=new it(e,this))}return _t(t,new it(e,this))}function St(t){return(t=t[dt])instanceof lt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==u(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function kt(){w.call(this),this.c=new lt(this),this.J=this,this.C=null}function xt(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&ut(t.c,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}_(kt,w),kt.prototype[st]=!0,(s=kt.prototype).addEventListener=function(t,e,n,i){ft(this,t,e,n,i)},s.removeEventListener=function(t,e,n,i){bt(this,t,e,n,i)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var i=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var r=t;F(t=new nt(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];r=xt(o,i,!0,t)&&r}if(r=xt(o=t.a=n,i,!0,t)&&r,r=xt(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=xt(o=t.a=e[s],i,!1,t)&&r;return r},s.G=function(){if(kt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ct(n[i]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},s.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Et=c.JSON.stringify;function Ot(){this.b=this.a=null}var It,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Dt},function(t){t.reset()},100);function Pt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Rt(t){c.setTimeout(function(){throw t},0)}function Nt(t,e){It||function(){var t=c.Promise.resolve(void 0);It=function(){t.then(jt)}}(),Lt||(It(),Lt=!0),Ft.add(t,e)}Ot.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new Ot;function jt(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Mt(t,e){kt.call(this),this.b=t||1,this.a=e||c,this.f=b(this.Ya,this),this.g=v()}function Ut(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bt(t,e,n){if("function"==u(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Vt(t){t.a=Bt(function(){t.a=null,t.c&&(t.c=!1,Vt(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Mt,kt),(s=Mt.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=v()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ut(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=v())},s.G=function(){Mt.S.G.call(this),Ut(this),delete this.a};var zt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.g=null!=i?e.bind(i):e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function qt(t){w.call(this),this.b=t,this.a={}}_(qt,w);var Ht=[];function Kt(t,e,n,i){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var r=0;r<n.length;r++){var s=ft(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Wt(t){R(t.a,function(t,e){this.a.hasOwnProperty(e)&&yt(t)},t),t.a={}}function $t(){this.a=!0}function Gt(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Et(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}qt.prototype.G=function(){qt.S.G.call(this),Wt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$t.prototype.info=function(){};var Qt=null;function Yt(){return Qt=Qt||new kt}function Xt(t){nt.call(this,"serverreachability",t)}function Jt(t){var e=Yt();e.dispatchEvent(new Xt(e,t))}function Zt(t){nt.call(this,"statevent",t)}function te(t){var e=Yt();e.dispatchEvent(new Zt(e,t))}function ee(t){nt.call(this,"timingevent",t)}function ne(t,e){if("function"!=u(t))throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){t()},e)}_(Xt,nt),_(Zt,nt),_(ee,nt);var ie={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},re={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function se(){}function oe(){}se.prototype.a=null;var ae,ce={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function le(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function he(){}function de(t,e,n,i){this.g=t,this.c=e,this.f=n,this.T=i||1,this.J=new qt(this),this.P=pe,this.R=new Mt(t=q?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(le,nt),_(ue,nt),_(he,se),ae=new he;var pe=45e3,fe={},me={};function ge(t,e,n){t.H=1,t.i=Me(De(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=v(),_e(t),t.l=De(t.i);var n=t.l,i=t.T;Array.isArray(i)||(i=[String(i)]),Xe(n.b,"t",i),t.D=0,t.a=Wn(t.g,t.g.C?e:null),0<t.O&&(t.F=new zt(b(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Wa),e=t.B?N(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jt(1),function(t,e,n,i,r,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=ve(t,n);if(r==me){4==e&&(t.h=4,te(14),i=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(r==fe){t.h=4,te(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}Gt(t.c,t.f,r,null),ke(t,r)}4==e&&0==n.length&&(t.h=1,te(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0)):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),Te(t),Ce(t))}function ve(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?me:(n=Number(e.substring(n,i)),isNaN(n)?fe:(i+=1)+n>e.length?me:(e=e.substr(i,n),t.D=i+n,e))}function _e(t){t.U=v()+t.P,we(t,t.P)}function we(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ne(b(t.Ua,t),e)}function Se(t){t.o&&(c.clearTimeout(t.o),t.o=null)}function Ce(t){0==t.g.v||t.A||Vn(t.g,t)}function Te(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ut(t.R),Wt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sn(n.b,t)))if(n.I=t.N,!t.C&&sn(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(g){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bn(n),In(n)}jn(n),te(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=ne(b(n.Ra,n),6e3));if(1>=rn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Bn(n),!x(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var s=r[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=r[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(I(u,"spdy")||I(u,"quic")||I(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(on(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,je(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=v()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((c=n).la=Kn(c,c.C?c.ga:null,c.fa),p.C){an(c.b,p);var f=p,m=c.D;m&&f.setTimeout(m),f.o&&(Se(f),_e(f)),c.a=p}else Fn(c);0<n.g.length&&Dn(n)}else"stop"!=r[0]&&"close"!=r[0]||qn(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?qn(n,7):On(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);Jt(4)}catch(g){}}function xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)C(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function Ee(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ee)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Oe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ie(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ie(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=de.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==Tn(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=Tn(this.a),n=this.a.ua(),i=this.a.X();if(!(3>e||3==e&&!q&&!this.a.$())){this.A||4!=e||7==n||Jt(8==n||0>=i?3:2),Se(this);var r=this.a.X();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.T,e,r),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,te(12),Te(this),Ce(this);break t}Gt(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ke(this,c)}this.I?(ye(this,e,s),q&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Va),this.R.start())):(Gt(this.c,this.f,s,null),ke(this,s)),4==e&&Te(this),this.b&&!this.A&&(4==e?Vn(this.g,this):(this.b=!1,_e(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,te(12)):(this.h=0,te(13)),Te(this),Ce(this)}}}catch(l){}},s.Va=function(){if(this.a){var t=Tn(this.a),e=this.a.$();this.D<e.length&&(Se(this),ye(this,t,e),this.b&&4!=t&&_e(this))}},s.cancel=function(){this.A=!0,Te(this)},s.Ua=function(){this.o=null;var t=v();0<=t-this.U?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Jt(3),te(17)),Te(this),this.h=2,Ce(this)):we(this,this.U-t)},(s=Ee.prototype).K=function(){Oe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Oe(this),this.a.concat()},s.get=function(t,e){return Ie(this.b,t)?this.b[t]:e},s.set=function(t,e){Ie(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pe){this.a=void 0!==e?e:t.a,Re(this,t.f),this.j=t.j,Ne(this,t.c),Le(this,t.h),this.g=t.g,e=t.b;var n=new $e;n.c=e.c,e.a&&(n.a=new Ee(e.a),n.b=e.b),Fe(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Re(this,n[1]||"",!0),this.j=Ue(n[2]||""),Ne(this,n[3]||"",!0),Le(this,n[4]),this.g=Ue(n[5]||"",!0),Fe(this,n[6]||"",!0),this.i=Ue(n[7]||"")):(this.a=!!e,this.b=new $e(null,this.a))}function De(t){return new Pe(t)}function Re(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Ue(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fe(t,e,n){e instanceof $e?(t.b=e,function(t,e){e&&!t.f&&(Ge(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),Xe(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Be(e,Ke)),t.b=new $e(e,t.a))}function je(t,e,n){t.b.set(e,n)}function Me(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^v()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?He:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Be(n,We)),t.join("")};var ze=/[#\/\?@]/g,qe=/[#\?:]/g,He=/[#\?]/g,Ke=/[#\?@]/g,We=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ge(t){t.a||(t.a=new Ee,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qe(t,e){Ge(t),e=Je(t,e),Ie(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ie((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oe(t)))}function Ye(t,e){return Ge(t),e=Je(t,e),Ie(t.a.b,e)}function Xe(t,e,n){Qe(t,e),0<n.length&&(t.c=null,t.a.set(Je(t,e),k(n)),t.b+=n.length)}function Je(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ze(t,e){this.b=t,this.a=e}function tn(t){this.g=t||en,t=c.PerformanceNavigationTiming?0<(t=c.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=$e.prototype).add=function(t,e){Ge(this),this.c=null,t=Je(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){Ge(this),this.a.forEach(function(n,i){C(n,function(n){t.call(e,n,i,this)},this)},this)},s.L=function(){Ge(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},s.K=function(t){Ge(this);var e=[];if("string"==typeof t)Ye(this,t)&&(e=T(e,this.a.get(Je(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},s.set=function(t,e){return Ge(this),this.c=null,Ye(this,t=Je(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var en=10;function nn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rn(t){return t.b?1:t.a?t.a.size:0}function sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function on(t,e){t.a?t.a.add(e):t.b=e}function an(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function cn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var s=r(t.a.values()),o=s.next();!o.done;o=s.next())i=i.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return k(t.c)}function ln(){}function un(){this.a=new ln}function hn(t,e,n){var i=n||"";try{xe(t,function(t,n){var r=t;d(t)&&(r=Et(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function dn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}tn.prototype.cancel=function(){var t,e;if(this.c=cn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ln.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},ln.prototype.parse=function(t){return c.JSON.parse(t,void 0)};var pn=c.JSON.parse;function fn(t){kt.call(this),this.headers=new Ee,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}_(fn,kt);var mn="",gn=/^https?$/i,bn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_n(t),Sn(t)}function _n(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=Tn(t)||2!=t.X()))if(t.l&&4==Tn(t))Bt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Tn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.B).match(Ae)[1]||null;if(!s&&c.self&&c.self.location){var o=c.self.location.protocol;s=o.substr(0,o.length-1)}r=!gn.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Tn(t)?t.a.statusText:""}catch(u){l=""}t.f=l+" ["+t.X()+"]",_n(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){Cn(t);var n=t.a,i=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function Cn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(c.clearTimeout(t.m),t.m=null)}function Tn(t){return t.a?t.a.readyState:0}function kn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return R(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function xn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function En(t){this.pa=0,this.g=[],this.c=new $t,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=xn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=xn("baseRetryDelayMs",5e3,t),this.Ma=xn("retryDelaySeedMs",1e4,t),this.Ja=xn("forwardChannelMaxRetries",2,t),this.ma=xn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new tn(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function On(t){if(An(t),3==t.v){var e=t.R++,n=De(t.B);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),Nn(t,n),(e=new de(t,t.c,e,void 0)).H=2,e.i=Me(De(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.i.toString(),"")),!n&&c.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wn(e.g,null),e.a.ba(e.i)),e.u=v(),_e(e)}Hn(t)}function In(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function An(t){In(t),t.j&&(c.clearTimeout(t.j),t.j=null),Bn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&c.clearTimeout(t.h),t.h=null)}function Pn(t,e){t.g.push(new Ze(t.La++,e)),3==t.v&&Dn(t)}function Dn(t){nn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function Rn(t,e){var n;n=e?e.f:t.R++;var i=De(t.B);je(i,"SID",t.J),je(i,"RID",n),je(i,"AID",t.P),Nn(t,i),t.i&&t.l&&kn(i,t.i,t.l),n=new de(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ln(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),on(t.b,n),ge(n,i,e)}function Nn(t,e){t.f&&xe({},function(t,n){je(e,n,t)})}function Ln(t,e,n){n=Math.min(t.g.length,n);var i=t.f?b(t.f.Ha,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=r[c].b,u=r[c].a;if(0>(l-=s))s=Math.max(0,r[c].b-100),a=!1;else try{hn(u,o,"req"+l+"_")}catch(h){i&&i(u)}}if(a){i=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Fn(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function jn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ne(b(t.Aa,t),zn(t,t.o)),t.o++,0))}function Mn(t){null!=t.s&&(c.clearTimeout(t.s),t.s=null)}function Un(t){t.a=new de(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.H?"0":"1"),je(e,"AID",t.P),Nn(t,e),je(e,"TYPE","xmlhttp"),t.i&&t.l&&kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Me(De(e)),n.j=null,n.I=!0,be(n,t)}function Bn(t){null!=t.m&&(c.clearTimeout(t.m),t.m=null)}function Vn(t,e){var n=null;if(t.a==e){Bn(t),Mn(t),t.a=null;var i=2}else{if(!sn(t.b,e))return;n=e.s,an(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=v()-e.u;var r=t.u;(i=Yt()).dispatchEvent(new ee(i,n,e,r)),Dn(t)}else Fn(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(rn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ne(b(t.Ba,t,e),zn(t,t.u)),t.u++,0)))}(t,e)||2==i&&jn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function zn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=b(t.Xa,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Re(n,"https"),Me(n)),function(t,e){var n=new $t;if(c.Image){var i=new Image;i.onload=y(dn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=y(dn,n,i,"TestLoadImage: error",!1,e),i.onabort=y(dn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=y(dn,n,i,"TestLoadImage: timeout",!1,e),c.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else te(2);t.v=0,t.f&&t.f.ra(e),Hn(t),An(t)}function Hn(t){t.v=0,t.I=-1,t.f&&(0==cn(t.b).length&&0==t.g.length||(t.b.c.length=0,k(t.g),t.g.length=0),t.f.qa())}function Kn(t,e,n){var i=function(t){return t instanceof Pe?De(t):new Pe(t,void 0)}(n);if(""!=i.c)e&&Ne(i,e+"."+i.c),Le(i,i.h);else{var r=c.location;i=function(t,e,n,i){var r=new Pe(null,void 0);return t&&Re(r,t),e&&Ne(r,e),n&&Le(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.W&&R(t.W,function(t,e){je(i,e,t)}),n=t.na,(e=t.A)&&n&&je(i,e,n),je(i,"VER",t.ha),Nn(t,i),i}function Wn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function $n(){}function Gn(){if(V&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Qn(t,e){kt.call(this),this.a=new En(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Jn(this)}function Yn(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){ue.call(this),this.status=1}function Jn(t){this.a=t}(s=fn.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void vn(this,s)}t=n||"";var r=new Ee(this.headers);i&&xe(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=yn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=c.FormData&&t instanceof c.FormData,!(0<=S(bn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(t){return V&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){vn(this,s)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sn(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),fn.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?wn(this):this.Ta())},s.Ta=function(){wn(this)},s.X=function(){try{return 2<Tn(this)?this.a.status:-1}catch(U){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=En.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new de(this,this.c,t,void 0),i=this.l;if(this.O&&(i?F(i=N(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Ln(this,n,e),je(r=De(this.B),"RID",t),je(r,"CVER",22),this.A&&je(r,"X-HTTP-Session-Id",this.A),Nn(this,r),this.i&&i&&kn(r,this.i,i),on(this.b,n),this.Ga&&je(r,"TYPE","init"),this.da?(je(r,"$req",e),je(r,"SID","null"),n.V=!0,ge(n,r,null)):ge(n,r,e),this.v=2}}else 3==this.v&&(t?Rn(this,t):0==this.g.length||nn(this.b)||Rn(this))},s.Aa=function(){if(this.j=null,Un(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ne(b(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,In(this),Un(this))},s.Ra=function(){null!=this.m&&(this.m=null,In(this),jn(this),te(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),te(2)):(this.c.info("Failed to ping google.com"),te(1))},(s=$n.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},Gn.prototype.a=function(t,e){return new Qn(t,e)},_(Qn,kt),(s=Qn.prototype).addEventListener=function(t,e,n,i){Qn.S.addEventListener.call(this,t,e,n,i)},s.removeEventListener=function(t,e,n,i){Qn.S.removeEventListener.call(this,t,e,n,i)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;te(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Kn(t,null,t.fa),Dn(t)},s.close=function(){On(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Pn(this.a,e)}else this.g?((e={}).__data__=Et(t),Pn(this.a,e)):Pn(this.a,t)},s.G=function(){this.a.f=null,delete this.f,On(this.a),delete this.a,Qn.S.G.call(this)},_(Yn,le),_(Xn,ue),_(Jn,$n),Jn.prototype.ta=function(){this.a.dispatchEvent("a")},Jn.prototype.sa=function(t){this.a.dispatchEvent(new Yn(t))},Jn.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},Jn.prototype.qa=function(){this.a.dispatchEvent("b")},Gn.prototype.createWebChannel=Gn.prototype.a,Qn.prototype.send=Qn.prototype.Pa,Qn.prototype.open=Qn.prototype.Oa,Qn.prototype.close=Qn.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",kt.prototype.listen=kt.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Zn=function(){return new Gn},ti=ie,ei=re,ni=oe,ii=fn;e.default={createWebChannelTransport:Zn,ErrorCode:ti,EventType:ei,WebChannel:ni,XhrIo:ii}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends i.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,l){return Object(s.a)(n)&&(l=n,n=void 0),l?a(t,e,n).pipe(Object(o.a)(t=>Object(r.a)(t)?l(...t):l(t))):new i.a(i=>{c(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function c(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)c(t[s],e,n,i,r)}i.add(s)}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},yLV6:function(t,e,n){var i;!function(r,s,o,a){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=s.createElement("div"),h=Math.round,d=Math.abs,p=Date.now;function f(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function b(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=r.console&&(r.console.warn||r.console.log);return s&&s.call(r.console,i,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=b(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),v=b(function(t,e){return y(t,e,!0)},"merge","Use `assign`.");function _(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&c(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return"function"==typeof t?t.apply(e&&e[0]||a,e):t}function C(t,e){return t===a?e:t}function T(t,e,n){g(O(e),function(e){t.addEventListener(e,n,!1)})}function k(t,e,n){g(O(e),function(e){t.removeEventListener(e,n,!1)})}function x(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function E(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];I(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function D(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),s=0;s<l.length;){if((i=(n=l[s])?n+r:e)in t)return i;s++}return a}var R=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,F=D(r,"PointerEvent")!==a,j=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),M="touch",U="mouse",B=["x","y"],V=["clientX","clientY"];function z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function q(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=1&e&&i-r==0,o=12&e&&i-r==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e)),r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,c=o?o.center:s.center,l=e.center=K(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Q(c,l),e.distance=G(c,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var u,h,f=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=d(f.x)>d(f.y)?f.x:f.y,e.scale=o?(u=o.pointers,G((h=i)[0],h[1],V)/G(u[0],u[1],V)):1,e.rotation=o?function(t,e){return Q(e[1],e[0],V)+Q(t[1],t[0],V)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,s,o=t.lastInterval||e,c=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(c>25||o.velocity===a)){var l=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,h=W(c,l,u);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,s=$(l,u),t.lastInterval=e}else n=o.velocity,i=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=s}(n,e);var m=t.element;x(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:K(e),deltaX:t.deltaX,deltaY:t.deltaY}}function K(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function G(t,e,n){n||(n=B);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Q(t,e,n){return n||(n=B),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(N(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},X="mousedown",J="mousemove mouseup";function Z(){this.evEl=X,this.evWin=J,this.pressed=!1,z.apply(this,arguments)}_(Z,z,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:U,srcEvent:t}))}});var tt={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},et={2:M,3:"pen",4:U,5:"kinect"},nt="pointerdown",it="pointermove pointerup pointercancel";function rt(){this.evEl=nt,this.evWin=it,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(nt="MSPointerDown",it="MSPointerMove MSPointerUp MSPointerCancel"),_(rt,z,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=tt[i],s=et[t.pointerType]||t.pointerType,o=s==M,a=I(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ot="touchstart",at="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=ot,this.evWin=at,this.started=!1,z.apply(this,arguments)}function lt(t,e){var n=A(t.touches),i=A(t.changedTouches);return 12&e&&(n=P(n.concat(i),"identifier",!0)),[n,i]}_(ct,z,{handler:function(t){var e=st[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:M,srcEvent:t})}}});var ut={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ht="touchstart touchmove touchend touchcancel";function dt(){this.evTarget=ht,this.targetIds={},z.apply(this,arguments)}function pt(t,e){var n=A(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=A(t.changedTouches),a=[],c=this.target;if(s=n.filter(function(t){return x(t.target,c)}),1===e)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),12&e&&delete i[o[r].identifier],r++;return a.length?[P(s.concat(a),"identifier",!0),a]:void 0}function ft(){z.apply(this,arguments);var t=w(this.handler,this);this.touch=new dt(this.manager,t),this.mouse=new Z(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function mt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,gt.call(this,e)):12&t&&gt.call(this,e)}function gt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},2500)}}function bt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(s<=25&&o<=25)return!0}return!1}_(dt,z,{handler:function(t){var e=ut[t.type],n=pt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:M,srcEvent:t})}}),_(ft,z,{handler:function(t,e,n){var i=n.pointerType==U;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(n.pointerType==M)mt.call(this,e,n);else if(i&&bt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var yt=D(u.style,"touchAction"),vt=yt!==a,_t="compute",wt="auto",St="manipulation",Ct="none",Tt="pan-x",kt="pan-y",xt=function(){if(!vt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();function Et(t,e){this.manager=t,this.set(e)}Et.prototype={set:function(t){t==_t&&(t=this.compute()),vt&&this.manager.element.style&&xt[t]&&(this.manager.element.style[yt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(E(t,Ct))return Ct;var e=E(t,Tt),n=E(t,kt);return e&&n?Ct:e||n?e?Tt:kt:E(t,St)?St:wt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=E(i,Ct)&&!xt.none,s=E(i,kt)&&!xt["pan-y"],o=E(i,Tt)&&!xt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return r||s&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=32;function It(t){this.options=c({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function At(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Pt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Dt(t,e){var n=e.manager;return n?n.get(t):t}function Rt(){It.apply(this,arguments)}function Nt(){Rt.apply(this,arguments),this.pX=null,this.pY=null}function Lt(){Rt.apply(this,arguments)}function Ft(){It.apply(this,arguments),this._timer=null,this._input=null}function jt(){Rt.apply(this,arguments)}function Mt(){Rt.apply(this,arguments)}function Ut(){It.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Bt(t,e){return(e=e||{}).recognizers=C(e.recognizers,Bt.defaults.preset),new Vt(t,e)}function Vt(t,e){this.options=c({},Bt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(F?rt:j?dt:L?ft:Z))(this,q),this.touchAction=new Et(this,this.options.touchAction),zt(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function zt(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,function(r,s){n=D(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}It.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Dt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=Dt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=Dt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Dt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+At(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+At(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Ot},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=Ot);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(Rt,It,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:Ot}}),_(Nt,Rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(kt),24&t&&e.push(Tt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===s?1:s<0?2:4,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Rt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Pt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(Lt,Rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ct]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(Ft,It,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=f(function(){this.state=8,this.tryEmit()},e.time,this);else if(4&t.eventType)return 8;return Ot},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(jt,Rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ct]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Mt,Rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Nt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Pt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Ut,It,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[St]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return Ot},failTimeout:function(){return this._timer=f(function(){this.state=Ot},this.options.interval,this),Ot},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Bt.VERSION="2.0.7",Bt.defaults={domEvents:!1,touchAction:_t,enable:!0,inputTarget:null,inputClass:null,preset:[[jt,{enable:!1}],[Lt,{enable:!1},["rotate"]],[Mt,{direction:6}],[Nt,{direction:6},["swipe"]],[Ut],[Ut,{event:"doubletap",taps:2},["tap"]],[Ft]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof It)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return g(O(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return g(O(t),function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=s.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&zt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Bt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ot,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Vt,Input:z,TouchAction:Et,TouchInput:dt,MouseInput:Z,PointerEventInput:rt,TouchMouseInput:ft,SingleTouchInput:ct,Recognizer:It,AttrRecognizer:Rt,Tap:Ut,Pan:Nt,Swipe:Mt,Pinch:Lt,Rotate:jt,Press:Ft,on:T,off:k,each:g,merge:v,extend:y,assign:c,inherit:_,bindFn:w,prefixed:D}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Bt,(i=(function(){return Bt}).call(e,n,e,t))===a||(t.exports=i)}(window,document)},yuhW:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("zx2A");const r={leading:!0,trailing:!1};function s(t,e=r){return n=>n.lift(new o(t,!!e.leading,!!e.trailing))}class o{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))}}class a extends i.b{constructor(t,e,n,i){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(i.c)(e,new i.a(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zP0r:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL");const r={apiKey:"AIzaSyByz9GQ0aC5PbSgLgAjOw2cMncfP5YGN_4",authDomain:"tanito-webapp-c0152.firebaseapp.com",databaseURL:"https://tanito-webapp-c0152-default-rtdb.firebaseio.com",projectId:"tanito-webapp-c0152",storageBucket:"tanito-webapp-c0152.appspot.com",messagingSenderId:"538474090610",appId:"1:538474090610:web:4306325b062c267e5ef2eb",measurementId:"G-269R29PSW9"},s="https://tanito.in/admin/Api";n("yLV6");let o=null;function a(){return o}const c=new i.q("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(i.ac)(d)}const h=new i.q("Location Initialized");let d=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d(Object(i.ac)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(i.ac)(c).location;return new w(Object(i.ac)(l),e&&e.origin||"")}const _=new i.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(l),i.ac(_,8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(l),i.ac(_,8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(k(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,k(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(y),i.ac(l))},t.normalizeQueryParams=b,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Jb)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new C(Object(i.ac)(y),Object(i.ac)(l))}function k(t){return t.replace(/\/index.html$/,"")}const x={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var E=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),I=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){const n=Object(i.kb)(t),r=n[i.bb.NumberSymbols][e];if(void 0===r){if(e===I.CurrencyDecimal)return n[i.bb.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[i.bb.NumberSymbols][I.Group]}return r}const P=i.nb,D=/^(\d+)?\.((\d+)(-(\d+))?)?$/,R=".",N="0";function L(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class F{}let j=(()=>{class t extends F{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.u))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();function M(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let U=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.s),i.Nb(i.t),i.Nb(i.l),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class B{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new B(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new z(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new z(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q),i.Nb(i.L),i.Nb(i.s))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class z{constructor(t,e){this.record=t,this.view=e}}let q=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){K("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){K("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q),i.Nb(i.L))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class H{constructor(){this.$implicit=null,this.ngIf=null}}function K(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.vb)(e)}'.`)}class W{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let $=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),G=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new W(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q),i.Nb(i.L),i.Nb($,1))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Q=(()=>{class t{constructor(t,e,n){n._addDefault(new W(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q),i.Nb(i.L),i.Nb($,1))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Y=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.t),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),X=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.yb]}),t})();function J(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.vb)(t)}'`)}class Z{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class tt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const et=new tt,nt=new Z;let it=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.sb)(e))return et;if(Object(i.rb)(e))return nt;throw J(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.cc())},t.\u0275pipe=i.Mb({name:"async",type:t,pure:!1}),t})(),rt=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw J(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"lowercase",type:t,pure:!0}),t})();const st=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let ot=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw J(t,e);return e.replace(st,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"titlecase",type:t,pure:!0}),t})(),at=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw J(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"uppercase",type:t,pure:!0}),t})(),ct=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,r="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(t,e,n="en"){const r=function(t){return Object(i.kb)(t)[i.bb.Currencies]}(n)[t]||x[t]||[],s=r[1];return"narrow"===e&&"string"==typeof s?s:r[0]||t}(a,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(R)?r.split(R):[r.substring(0,r.lastIndexOf(N)+1),r.substring(r.lastIndexOf(N)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);t===N?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.kb)(t)[i.bb.NumberFormats][e]}(e,E.Currency),A(e,I.MinusSign));return o.minFrac=function(t){let e;const n=x[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function(t,e,n,i,r,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(R))>-1&&(o=o.replace(R,"")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;o.charAt(i)===N;i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===N;)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(D);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],i=t[5];null!=e&&(u=L(e)),null!=n&&(h=L(n)),null!=i?d=L(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=0!==s;const l=e+t.integerLen,u=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=l?i.pop():c=!1),e>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}(l,h,d);let p=l.digits,f=l.integerLen;const m=l.exponent;let g=[];for(c=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),a=b.join(A(n,i)),g.length&&(a+=A(n,r)+g.join("")),m&&(a+=A(n,I.Exponential)+"+"+m)}else a=A(n,I.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,I.CurrencyGroup,I.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),o,a,n,s)}catch(c){throw J(t,c.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.u),i.Nb(i.k))},t.\u0275pipe=i.Mb({name:"currency",type:t,pure:!0}),t})(),lt=(()=>{class t{transform(e,n,i){if(null==e)return null;if(!this.supports(e))throw J(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"slice",type:t,pure:!1}),t})(),ut=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[{provide:F,useClass:j}]}),t})();function ht(t){return"browser"===t}function dt(t){return"server"===t}let pt=(()=>{class t{}return t.\u0275prov=Object(i.Jb)({token:t,providedIn:"root",factory:()=>new ft(Object(i.ac)(c),window)}),t})();class ft{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mt(this.window.history)||mt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class gt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new gt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=yt||(yt=document.querySelector("base"),yt)?yt.getAttribute("href"):null;return null==e?null:(n=e,bt||(bt=document.createElement("a")),bt.setAttribute("href",n),"/"===bt.pathname.charAt(0)?bt.pathname:"/"+bt.pathname);var n}resetBaseElement(){yt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return M(document.cookie,t)}}let bt,yt=null;const vt=new i.q("TRANSITION_ID"),_t=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[vt,c,i.r],multi:!0}];class wt{static init(){Object(i.Y)(new wt)}addToWindow(t){i.pb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.pb.getAllAngularRootElements=()=>t.getAllRootElements(),i.pb.frameworkStabilizers||(i.pb.frameworkStabilizers=[]),i.pb.frameworkStabilizers.push(t=>{const e=i.pb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const St=new i.q("EventManagerPlugins");let Ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(St),i.ac(i.z))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class Tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let kt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t extends kt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ot=/%COMP%/g;function It(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?It(t,r,n):(r=r.replace(Ot,t),n.push(r))}return n}function At(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.R.Native:case i.R.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=It(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ct),i.ac(xt),i.ac(i.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class Dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Et[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Et[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.G.DashCase?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,At(n)):this.eventManager.addEventListener(t,e,At(n))}}class Rt extends Dt{constructor(t,e,n,i){super(t),this.component=n;const r=It(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Ot,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ot,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Nt extends Dt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=It(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const t=document.createElement("style");t.textContent=s[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lt=(()=>{class t extends Tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Ft=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bt=(()=>{class t extends Tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(Ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mt.hasOwnProperty(e)&&(e=Mt[e]))}return jt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ft.forEach(i=>{i!=n&&(0,Ut[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return Object(i.ac)(zt)},token:t,providedIn:"root"}),t})(),zt=(()=>{class t extends Vt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.I.NONE:return e;case i.I.HTML:return Object(i.eb)(e,"HTML")?Object(i.wb)(e):Object(i.cb)(this._doc,String(e));case i.I.STYLE:return Object(i.eb)(e,"Style")?Object(i.wb)(e):e;case i.I.SCRIPT:if(Object(i.eb)(e,"Script"))return Object(i.wb)(e);throw new Error("unsafe value used in a script context");case i.I.URL:return Object(i.ob)(e),Object(i.eb)(e,"URL")?Object(i.wb)(e):Object(i.db)(String(e));case i.I.RESOURCE_URL:if(Object(i.eb)(e,"ResourceURL"))return Object(i.wb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.fb)(t)}bypassSecurityTrustStyle(t){return Object(i.ib)(t)}bypassSecurityTrustScript(t){return Object(i.hb)(t)}bypassSecurityTrustUrl(t){return Object(i.jb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.gb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return t=Object(i.ac)(i.o),new zt(t.get(c));var t},token:t,providedIn:"root"}),t})();const qt=[{provide:i.B,useValue:"browser"},{provide:i.C,useValue:function(){gt.makeCurrent(),wt.init()},multi:!0},{provide:c,useFactory:function(){return Object(i.ub)(document),document},deps:[]}],Ht=Object(i.S)(i.X,"browser",qt),Kt=[[],{provide:i.ab,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:St,useClass:Lt,multi:!0,deps:[c,i.z,i.B]},{provide:St,useClass:Bt,multi:!0,deps:[c]},[],{provide:Pt,useClass:Pt,deps:[Ct,xt,i.c]},{provide:i.F,useExisting:Pt},{provide:kt,useExisting:xt},{provide:xt,useClass:xt,deps:[c]},{provide:i.M,useClass:i.M,deps:[i.z]},{provide:Ct,useClass:Ct,deps:[St,i.z]},[]];let Wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:vt,useExisting:i.c},_t]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(t,12))},providers:Kt,imports:[ut,i.f]}),t})();function $t(){return new Gt(Object(i.ac)(c))}let Gt=(()=>{class t{constructor(t){this._doc=t,this._dom=a()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(n)===t[n])}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:$t,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class Qt{}const Yt="*";function Xt(t,e){return{type:7,name:t,definitions:e,options:{}}}function Jt(t,e=null){return{type:4,styles:e,timings:t}}function Zt(t,e=null){return{type:2,steps:t,options:e}}function te(t){return{type:6,styles:t,offset:null}}function ee(t,e,n){return{type:0,name:t,styles:e,options:n}}function ne(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ie(t){Promise.resolve(null).then(t)}class re{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class se{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?ie(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function oe(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ae(t){switch(t.length){case 0:return new re;case 1:return t[0];default:return new se(t)}}function ce(t,e,n,i,r={},s={}){const o=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case Yt:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function le(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&ue(n,"start",t)));break;case"done":t.onDone(()=>i(n&&ue(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&ue(n,"destroy",t)))}}function ue(t,e,n){const i=n.totalTime,r=he(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function he(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function de(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function pe(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let fe=(t,e)=>!1,me=(t,e)=>!1,ge=(t,e,n)=>[];const be=oe();(be||"undefined"!=typeof Element)&&(fe=(t,e)=>t.contains(e),me=(()=>{if(be||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):me}})(),ge=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let ye=null,ve=!1;function _e(t){ye||(ye=("undefined"!=typeof document?document.body:null)||{},ve=!!ye.style&&"WebkitAppearance"in ye.style);let e=!0;return ye.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ye.style,!e&&ve)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ye.style),e}const we=me,Se=fe,Ce=ge;function Te(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ke=(()=>{class t{validateStyleProperty(t){return _e(t)}matchesElement(t,e){return we(t,e)}containsElement(t,e){return Se(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new re(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),xe=(()=>{class t{}return t.NOOP=new ke,t})();const Ee="ng-enter",Oe="ng-leave",Ie="ng-trigger",Ae=".ng-trigger",Pe="ng-animating",De=".ng-animating";function Re(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ne(parseFloat(e[1]),e[2])}function Ne(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Le(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Ne(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Ne(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function Fe(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function je(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Fe(t,n);return n}function Me(t,e,n){return n?e+":"+n+";":""}function Ue(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Me(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Me(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Be(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Ge(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),oe()&&Ue(t))}function Ve(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ge(e);t.style[n]=""}),oe()&&Ue(t))}function ze(t){return Array.isArray(t)?1==t.length?t[0]:Zt(t):t}const qe=new RegExp("{{\\s*(.+?)\\s*}}","g");function He(t){let e=[];if("string"==typeof t){let n;for(;n=qe.exec(t);)e.push(n[1]);qe.lastIndex=0}return e}function Ke(t,e,n){const i=t.toString(),r=i.replace(qe,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function We(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const $e=/-+([a-z0-9])/g;function Ge(t){return t.replace($e,(...t)=>t[1].toUpperCase())}function Qe(t,e){return 0===t||0===e}function Ye(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=Je(t,e)})}}return e}function Xe(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Je(t,e){return window.getComputedStyle(t)[e]}const Ze="*";function tn(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(rn(r,o)),"<"!=s[0]||r==Ze&&o==Ze||e.push(rn(o,r))}(t,n,e)):n.push(t),n}const en=new Set(["true","1"]),nn=new Set(["false","0"]);function rn(t,e){const n=en.has(t)||nn.has(t),i=en.has(e)||nn.has(e);return(r,s)=>{let o=t==Ze||t==r,a=e==Ze||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?en.has(t):nn.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?en.has(e):nn.has(e)),o&&a}}const sn=new RegExp("s*:selfs*,?","g");function on(t,e,n){return new an(t).build(e,n)}class an{constructor(t){this._driver=t}build(t,e){const n=new cn(e);return this._resetContextStyleTimingState(n),Xe(this,ze(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(ln(t)){const e=t;Object.keys(e).forEach(t=>{He(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=We(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xe(this,ze(t.animation),e);return{type:1,matchers:tn(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:un(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xe(this,t,e)),options:un(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Xe(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:un(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hn(Le(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=hn(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Le(i,e),hn(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:te({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=te(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Yt?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(ln(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=He(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ln(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ln(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,r.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const h=l-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return c.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xe(this,ze(t.animation),e),options:un(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:un(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:un(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sn,"")),[t=t.replace(/@\*/g,Ae).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,De),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,de(e.collectedStyles,e.currentQuerySelector,{});const o=Xe(this,ze(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:un(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Le(t.timings,e.errors,!0);return{type:12,animation:Xe(this,ze(t.animation),e),timings:n,options:null}}}class cn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ln(t){return!Array.isArray(t)&&"object"==typeof t}function un(t){var e;return t?(t=Fe(t)).params&&(t.params=(e=t.params)?Fe(e):null):t={},t}function hn(t,e,n){return{duration:t,delay:e,easing:n}}function dn(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pn{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fn=new RegExp(":enter","g"),mn=new RegExp(":leave","g");function gn(t,e,n,i,r,s={},o={},a,c,l=[]){return(new bn).buildKeyframes(t,e,n,i,r,s,o,a,c,l)}class bn{buildKeyframes(t,e,n,i,r,s,o,a,c,l=[]){c=c||new pn;const u=new vn(t,e,c,i,r,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Xe(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Re(n.duration):null,s=null!=n.delay?Re(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Xe(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yn);const t=Re(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xe(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Re(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Xe(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Le(e.params?Ke(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Re(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yn);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Xe(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Xe(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const yn={};class vn{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _n(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Re(n.duration)),null!=n.delay&&(i.delay=Re(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ke(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new vn(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=yn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new wn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(fn,"."+this._enterClassName)).replace(mn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class _n{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Yt,this._currentKeyframe[t]=Yt}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Yt})):je(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ke(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Yt),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=je(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==Yt&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?We(t.values()):[],s=e.size?We(e.values()):[];if(n){const t=i[0],e=Fe(t);t.offset=0,e.offset=1,i=[t,e]}return dn(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class wn extends _n{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=je(t[0],!1);a.offset=0,r.push(a);const c=je(t[0],!1);c.offset=Sn(o),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let o=je(t[i],!1);o.offset=Sn((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return dn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Sn(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Cn{}class Tn extends Cn{normalizePropertyName(t,e){return Ge(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(kn[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const kn=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xn(t,e,n,i,r,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const En={};class On{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||En,d=this.buildStyles(n,o&&o.params||En,u),p=a&&a.params||En,f=this.buildStyles(i,p,u),m=new Set,g=new Map,b=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),p)},_=l?[]:gn(t,e,this.ast.animation,r,s,d,f,v,c,u);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return xn(e,this._triggerName,n,i,y,d,f,[],[],g,b,w,u);_.forEach(t=>{const n=t.element,i=de(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=de(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const S=We(m.values());return xn(e,this._triggerName,n,i,y,d,f,_,S,g,b,w)}}class In{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Fe(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Ke(s,i,e)),n[t]=s})}}),n}}class An{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new In(t.style,t.options&&t.options.params||{})}),Pn(this.states,"true","1"),Pn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new On(t,e,this.states))}),this.fallbackTransition=new On(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Pn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Dn=new pn;class Rn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=on(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=ce(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=gn(this._driver,e,r,Ee,Oe,{},{},n,Dn,i),s.forEach(t=>{const e=de(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Yt)})});const a=ae(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=he(e,"","","");return le(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Nn="ng-animate-queued",Ln="ng-animate-disabled",Fn=".ng-animate-disabled",jn=[],Mn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Un={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Bn{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Fe(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Vn="void",zn=new Bn(Vn);class qn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yn(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=de(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=de(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Yn(t,Ie),Yn(t,"ng-trigger-"+e),a[e]=zn),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Kn(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Yn(t,Ie),Yn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Bn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=zn),c.value!==Vn&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ve(t,n),Be(t,i)})}return}const l=de(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Yn(t,Nn),s.onStart(()=>{Xn(t,Nn)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ae,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Vn,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ae(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||zn,o=new Bn(Vn),a=new Kn(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Mn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Yn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=he(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,le(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Hn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new qn(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Wn(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Wn(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yn(t,Ln)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xn(t,Ln))}removeNode(t,e,n,i){if(Wn(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Wn(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Ae,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,De,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ae(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Mn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Fn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Fn,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Yn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ae(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new pn,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Qn(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Ee+f++;p.set(e,n),t.forEach(t=>Yn(t,n))});const m=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,v=Qn(h,Array.from(g));v.forEach((t,e)=>{const n=Oe+f++;y.set(e,n),t.forEach(t=>Yn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Xn(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Xn(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,r),h=y.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,l);if(f.errors&&f.errors.length)w.push(f);else{if(l)return e.onStart(()=>Ve(r,f.fromStyles)),e.onDestroy(()=>Be(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ve(r,f.fromStyles)),e.onDestroy(()=>Be(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>de(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{de(S,e,[]).push(t),t.destroy()})});const T=m.filter(t=>ti(t,a,c)),k=new Map;Gn(k,this.driver,b,c,Yt).forEach(t=>{ti(t,a,c)&&T.push(t)});const x=new Map;d.forEach((t,e)=>{Gn(x,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=k.get(t),n=x.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const E=[],O=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>Be(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=I;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,r,x,k);if(s.setRealPlayer(n),t===I)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=ae(e)),i.push(s)}}else Ve(e,o.fromStyles),s.onDestroy(()=>Be(e,o.toStyles)),O.push(s),l.has(e)&&i.push(s)}),O.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=ae(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Xn(t,Oe),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,De,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Jn(this,t,i):this.processLeaveNode(t)}return m.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==Vn;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,c=de(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Ve(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new re(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return Zn(t,e),e}((n.get(h)||jn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),b=ce(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,f);if(e.subTimeline&&i&&u.add(h),p){const e=new Kn(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{de(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Yn(t,Pe));const d=ae(h);return d.onDestroy(()=>{l.forEach(t=>Xn(t,Pe)),Be(a,e.toStyles)}),u.forEach(t=>{de(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new re(t.duration,t.delay)}}class Kn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new re,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>le(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){de(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wn(t){return t&&1===t.nodeType}function $n(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Gn(t,e,n,i,r){const s=[];n.forEach(t=>s.push($n(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Un,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>$n(t,s[a++])),o}function Qn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Yn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Xn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Jn(t,e,n){ae(n).onDone(()=>t.processLeaveNode(e))}function Zn(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof se?Zn(i.players,e):e.push(i)}}function ti(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class ei{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Hn(t,e,n),this._timelineEngine=new Rn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=on(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new An(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=pe(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=pe(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ni(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=ri(e[0]),e.length>1&&(i=ri(e[e.length-1]))):e&&(n=ri(e)),n||i?new ii(t,n,i):null}let ii=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Be(this._element,this._initialStyles),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ve(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),Be(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ri(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];si(r)&&(e=e||{},e[r]=t[r])}return e}function si(t){return"display"===t||"position"===t}const oi="animation",ai="animationend";class ci{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=fi(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),pi(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),di(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){li(this._element,this._name,"paused")}resume(){li(this._element,this._name,"running")}setPosition(t){const e=ui(this._element,this._name);this._position=t*this._duration,pi(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),di(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=fi(t,"").split(","),i=hi(n,e);i>=0&&(n.splice(i,1),pi(t,"",n.join(",")))}(this._element,this._name))}}function li(t,e,n){pi(t,"PlayState",n,ui(t,e))}function ui(t,e){const n=fi(t,"");return n.indexOf(",")>0?hi(n.split(","),e):hi([n],e)}function hi(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function di(t,e,n){n?t.removeEventListener(ai,e):t.addEventListener(ai,e)}function pi(t,e,n,i){const r=oi+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function fi(t,e){return t.style[oi+e]||""}class mi{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ci(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Je(this.element,n))})}this.currentSnapshot=t}}class gi extends re{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Te(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class bi{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return _e(t)}matchesElement(t,e){return we(t,e)}containsElement(t,e){return Se(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Te(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof mi),c={};Qe(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ye(t,e,c));if(0==n)return new gi(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=ni(t,e),p=new mi(t,e,u,n,i,r,l,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class yi{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Je(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vi{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_i().toString()),this._cssKeyframesDriver=new bi}validateStyleProperty(t){return _e(t)}matchesElement(t,e){return we(t,e)}containsElement(t,e){return Se(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=s.filter(t=>t instanceof yi);Qe(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=ni(t,e=Ye(t,e=e.map(t=>je(t,!1)),c));return new yi(t,e,a,u)}}function _i(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let wi=(()=>{class t extends Qt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Zt(t):t;return Ti(this._renderer,null,e,"register",[n]),new Si(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.F),i.ac(c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class Si extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ci(this._id,t,e||{},this._renderer)}}class Ci{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ti(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Ti(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const ki="@",xi="@.disabled";let Ei=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Oi("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new Ii(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.F),i.ac(ei),i.ac(i.z))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class Oi{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ki&&e==xi?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ii extends Oi{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ki?"."==e.charAt(1)&&e==xi?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ki){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=ki&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Ai=(()=>{class t extends ei{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(xe),i.ac(Cn))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Pi=new i.q("AnimationModuleType"),Di=[{provide:Qt,useClass:wi},{provide:Cn,useFactory:function(){return new Tn}},{provide:ei,useClass:Ai},{provide:i.F,useFactory:function(t,e,n){return new Ei(t,e,n)},deps:[Pt,ei,i.z]}],Ri=[{provide:xe,useFactory:function(){return"function"==typeof _i()?new vi:new bi}},{provide:Pi,useValue:"BrowserAnimations"},...Di],Ni=[{provide:xe,useClass:ke},{provide:Pi,useValue:"NoopAnimations"},...Di];let Li=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:Ri,imports:[Wt]}),t})(),Fi=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:Ni,imports:[Wt]}),t})();var ji=n("LRne"),Mi=n("HDdC"),Ui=n("bOdf"),Bi=n("pLZG"),Vi=n("lJxs");class zi{}class qi{}class Hi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Hi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Hi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ki{encodeKey(t){return Wi(t)}encodeValue(t){return Wi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Wi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class $i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ki,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Gi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Qi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Yi(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xi{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Hi),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new $i,this.urlWithParams=e}serializeBody(){return null===this.body?null:Gi(this.body)||Qi(this.body)||Yi(this.body)||"string"==typeof this.body?this.body:this.body instanceof $i?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yi(this.body)?null:Qi(this.body)?this.body.type||null:Gi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $i?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Xi(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Ji=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Zi{constructor(t,e=200,n="OK"){this.headers=t.headers||new Hi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tr extends Zi{constructor(t={}){super(t),this.type=Ji.ResponseHeader}clone(t={}){return new tr({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class er extends Zi{constructor(t={}){super(t),this.type=Ji.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new er({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nr extends Zi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ir(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let rr=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Xi)i=t;else{let r=void 0;r=n.headers instanceof Hi?n.headers:new Hi(n.headers);let s=void 0;n.params&&(s=n.params instanceof $i?n.params:new $i({fromObject:n.params})),i=new Xi(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(ji.a)(i).pipe(Object(Ui.a)(t=>this.handler.handle(t)));if(t instanceof Xi||"events"===n.observe)return r;const s=r.pipe(Object(Bi.a)(t=>t instanceof er));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(Vi.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Vi.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Vi.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Vi.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new $i).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ir(n,e))}post(t,e,n={}){return this.request("POST",t,ir(n,e))}put(t,e,n={}){return this.request("PUT",t,ir(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(zi))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class sr{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const or=new i.q("HTTP_INTERCEPTORS");let ar=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const cr=/^\)\]\}',?\n/;class lr{}let ur=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),hr=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mi.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Hi(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new tr({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(cr,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new er({body:c,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new nr({error:c,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new nr({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const l=i=>{c||(e.next(s()),c=!0);let r={type:Ji.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:Ji.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:Ji.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(lr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const dr=new i.q("XSRF_COOKIE_NAME"),pr=new i.q("XSRF_HEADER_NAME");class fr{}let mr=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=M(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(i.B),i.ac(dr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),gr=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(fr),i.ac(pr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),br=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(or,[]);this.chain=t.reduceRight((t,e)=>new sr(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(qi),i.ac(i.r))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),yr=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:gr,useClass:ar}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:dr,useValue:e.cookieName}:[],e.headerName?{provide:pr,useValue:e.headerName}:[]]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[gr,{provide:or,useExisting:gr,multi:!0},{provide:fr,useClass:mr},{provide:dr,useValue:"XSRF-TOKEN"},{provide:pr,useValue:"X-XSRF-TOKEN"}]}),t})(),vr=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[rr,{provide:zi,useClass:br},hr,{provide:qi,useExisting:hr},ur,{provide:lr,useExisting:ur}],imports:[[yr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var _r=n("cp0P"),wr=n("Cfvw");const Sr=new i.q("NgValueAccessor"),Cr={provide:Sr,useExisting:Object(i.U)(()=>Tr),multi:!0};let Tr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.zb([Cr])]}),t})();const kr={provide:Sr,useExisting:Object(i.U)(()=>Er),multi:!0},xr=new i.q("CompositionEventMode");let Er=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l),i.Nb(xr,8))},t.\u0275dir=i.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.dc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.zb([kr])]}),t})();function Or(t){return null==t||0===t.length}function Ir(t){return null!=t&&"number"==typeof t.length}const Ar=new i.q("NgValidators"),Pr=new i.q("NgAsyncValidators"),Dr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rr{static min(t){return e=>{if(Or(e.value)||Or(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Or(e.value)||Or(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Or(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Or(t.value)||Dr.test(t.value)?null:{email:!0}}static minLength(t){return e=>Or(e.value)||!Ir(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ir(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Rr.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Or(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Nr);return 0==e.length?null:function(t){return Fr(jr(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Nr);return 0==e.length?null:function(t){const n=jr(t,e).map(Lr);return Object(_r.a)(n).pipe(Object(Vi.a)(Fr))}}}function Nr(t){return null!=t}function Lr(t){const e=Object(i.sb)(t)?Object(wr.a)(t):t;return Object(i.rb)(e),e}function Fr(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jr(t,e){return e.map(e=>e(t))}function Mr(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ur(t){return null!=t?Rr.compose(Mr(t)):null}function Br(t){return null!=t?Rr.composeAsync(Mr(t)):null}function Vr(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zr(t){return t._rawValidators}function qr(t){return t._rawAsyncValidators}let Hr=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ur(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Br(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t}),t})(),Kr=(()=>{class t extends Hr{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Wr(e||t)},t.\u0275dir=i.Ib({type:t,features:[i.xb]}),t})();const Wr=i.Vb(Kr);class $r extends Hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Qr=(()=>{class t extends Gr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb($r,2))},t.\u0275dir=i.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),t})(),Yr=(()=>{class t extends Gr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Kr,2))},t.\u0275dir=i.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),t})();const Xr={provide:Sr,useExisting:Object(i.U)(()=>Jr),multi:!0};let Jr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([Xr])]}),t})();const Zr={provide:Sr,useExisting:Object(i.U)(()=>es),multi:!0};let ts=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),es=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($r),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l),i.Nb(ts),i.Nb(i.r))},t.\u0275dir=i.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.zb([Zr])]}),t})();const ns={provide:Sr,useExisting:Object(i.U)(()=>is),multi:!0};let is=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([ns])]}),t})();const rs={provide:Sr,useExisting:Object(i.U)(()=>os),multi:!0};function ss(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let os=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ss(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.dc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([rs])]}),t})(),as=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ss(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.E),i.Nb(os,9))},t.\u0275dir=i.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const cs={provide:Sr,useExisting:Object(i.U)(()=>us),multi:!0};function ls(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let us=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([cs])]}),t})(),hs=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ls(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ls(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.E),i.Nb(us,9))},t.\u0275dir=i.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function ds(t,e){fs(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ps(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fs(t,e,n){const i=zr(t);null!==e.validator?t.setValidators(Vr(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=qr(t);if(null!==e.asyncValidator?t.setAsyncValidators(Vr(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();ps(e._rawValidators,n),ps(e._rawAsyncValidators,n)}}function ms(t,e,n){if(null!==t){if(null!==e.validator){const n=zr(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=qr(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};ps(e._rawValidators,t),ps(e._rawAsyncValidators,t)}}function gs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bs(t,e){fs(t,e,!1)}const ys=[Tr,is,Jr,os,us,es];function vs(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function _s(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ws="VALID",Ss="INVALID",Cs="PENDING",Ts="DISABLED";function ks(t){return(Is(t)?t.validators:t)||null}function xs(t){return Array.isArray(t)?Ur(t):t||null}function Es(t,e){return(Is(e)?e.asyncValidators:t)||null}function Os(t){return Array.isArray(t)?Br(t):t||null}function Is(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class As{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xs(this._rawValidators),this._composedAsyncValidatorFn=Os(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===Ss}get pending(){return this.status==Cs}get disabled(){return this.status===Ts}get enabled(){return this.status!==Ts}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xs(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Os(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ts,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ws,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ws&&this.status!==Cs||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ts:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cs,this._hasOwnPendingAsyncValidator=!0;const e=Lr(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Ds?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Rs&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?Ts:this.errors?Ss:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cs)?Cs:this._anyControlsHaveStatus(Ss)?Ss:ws}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Is(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ps extends As{constructor(t=null,e,n){super(ks(e),Es(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_s(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_s(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ds extends As{constructor(t,e,n){super(ks(e),Es(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ps?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Rs extends As{constructor(t,e,n){super(ks(e),Es(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ps?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ns={provide:Kr,useExisting:Object(i.U)(()=>Fs)},Ls=(()=>Promise.resolve(null))();let Fs=(()=>{class t extends Kr{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.n,this.form=new Ds({},Ur(t),Br(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ls.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ds(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ls.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),_s(this._directives,t)})}addFormGroup(t){Ls.then(()=>{const e=this._findContainer(t.path),n=new Ds({});bs(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ls.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ls.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vs(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Ar,10),i.Nb(Pr,10))},t.\u0275dir=i.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.dc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([Ns]),i.xb]}),t})();const js={provide:$r,useExisting:Object(i.U)(()=>Us)},Ms=(()=>Promise.resolve(null))();let Us=(()=>{class t extends $r{constructor(t,e,n,r){super(),this.control=new Ps,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,i=void 0,r=void 0;return e.forEach(t=>{var e;t.constructor===Er?n=t:(e=t,ys.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ds(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ms.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ms.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Kr,9),i.Nb(Ar,10),i.Nb(Pr,10),i.Nb(Sr,10))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.zb([js]),i.xb,i.yb]}),t})(),Bs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Vs=new i.q("NgModelWithFormControlWarning"),zs={provide:Kr,useExisting:Object(i.U)(()=>qs)};let qs=(()=>{class t extends Kr{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ds(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){_s(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);bs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);bs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vs(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ms(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&ds(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fs(this.form,this,!1),this._oldForm&&ms(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Ar,10),i.Nb(Pr,10))},t.\u0275dir=i.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.dc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([zs]),i.xb,i.yb]}),t})();const Hs={provide:Ar,useExisting:Object(i.U)(()=>Ws),multi:!0},Ks={provide:Ar,useExisting:Object(i.U)(()=>$s),multi:!0};let Ws=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Rr.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[i.zb([Hs])]}),t})(),$s=(()=>{class t extends Ws{validate(t){return this.required?Rr.requiredTrue(t):null}}return t.\u0275fac=function(e){return Gs(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("required",e.required?"":null)},features:[i.zb([Ks]),i.xb]}),t})();const Gs=i.Vb($s),Qs={provide:Ar,useExisting:Object(i.U)(()=>Ys),multi:!0};let Ys=(()=>{class t{constructor(){this._validator=Rr.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Rr.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[i.zb([Qs]),i.yb]}),t})();const Xs={provide:Ar,useExisting:Object(i.U)(()=>Js),multi:!0};let Js=(()=>{class t{constructor(){this._validator=Rr.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Rr.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.zb([Xs]),i.yb]}),t})();const Zs={provide:Ar,useExisting:Object(i.U)(()=>to),multi:!0};let to=(()=>{class t{constructor(){this._validator=Rr.nullValidator}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Rr.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[i.zb([Zs]),i.yb]}),t})(),eo=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),no=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Ds(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new Ps(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Rs(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ps||t instanceof Ds||t instanceof Rs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),io=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[ts],imports:[eo]}),t})(),ro=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vs,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[no,ts],imports:[eo]}),t})();const so=function(t){return{"full-screen":t}},oo=function(t,e,n,i){return{"border-top-color":t,"border-right-color":e,"border-bottom-color":n,"border-left-color":i}};function ao(t,e){if(1&t&&i.Ob(0,"div",14),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(2,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))("ngStyle",i.vc(4,oo,null==t.config?null:t.config.secondaryColour,null==t.config?null:t.config.secondaryColour,null==t.config?null:t.config.secondaryColour,null==t.config?null:t.config.primaryColour))}}const co=function(t){return{"background-color":t}};function lo(t,e){if(1&t&&(i.Tb(0,"div",15),i.Ob(1,"div",16),i.Ob(2,"div",17),i.Ob(3,"div",18),i.Ob(4,"div",19),i.Ob(5,"div",20),i.Ob(6,"div",21),i.Ob(7,"div",22),i.Ob(8,"div",23),i.Ob(9,"div",24),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(10,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(12,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(14,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(16,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(18,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(20,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(22,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(24,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(26,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(28,co,null==t.config?null:t.config.primaryColour))}}function uo(t,e){if(1&t&&i.Ob(0,"div",25),2&t){const t=i.hc(2);i.oc("ngStyle",i.sc(2,co,null==t.config?null:t.config.primaryColour))("ngClass",i.sc(4,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))}}function ho(t,e){if(1&t&&(i.Tb(0,"div",26),i.Ob(1,"div",27),i.Ob(2,"div",28),i.Ob(3,"div",29),i.Ob(4,"div",30),i.Ob(5,"div",31),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(6,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(8,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(10,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(12,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(14,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(16,co,null==t.config?null:t.config.primaryColour))}}function po(t,e){if(1&t&&(i.Tb(0,"div",32),i.Ob(1,"div",33),i.Ob(2,"div",34),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(3,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(5,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(7,co,null==t.config?null:t.config.secondaryColour))}}function fo(t,e){if(1&t&&(i.Tb(0,"div",35),i.Ob(1,"div",36),i.Ob(2,"div",37),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(3,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(5,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(7,co,null==t.config?null:t.config.secondaryColour))}}function mo(t,e){if(1&t&&i.Ob(0,"div",38),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(2,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))("ngStyle",i.sc(4,co,null==t.config?null:t.config.primaryColour))}}function go(t,e){if(1&t&&(i.Tb(0,"div",39),i.Ob(1,"div",40),i.Ob(2,"div",41),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(3,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(5,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(7,co,null==t.config?null:t.config.secondaryColour))}}const bo=function(t){return{color:t}};function yo(t,e){if(1&t&&i.Ob(0,"div",42),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(2,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))("ngStyle",i.sc(4,bo,null==t.config?null:t.config.primaryColour))}}function vo(t,e){if(1&t&&i.Ob(0,"div",43),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(1,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))}}function _o(t,e){if(1&t&&(i.Tb(0,"div",44),i.Ob(1,"div",45),i.Ob(2,"div",46),i.Ob(3,"div",47),i.Sb()),2&t){const t=i.hc(2);i.oc("ngClass",i.sc(4,so,1==(null==t.config?null:t.config.fullScreenBackdrop))),i.Ab(1),i.oc("ngStyle",i.sc(6,co,null==t.config?null:t.config.primaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(8,co,null==t.config?null:t.config.secondaryColour)),i.Ab(1),i.oc("ngStyle",i.sc(10,co,null==t.config?null:t.config.tertiaryColour))}}function wo(t,e){1&t&&i.Pb(0)}function So(t,e){if(1&t&&(i.Rb(0),i.Ic(1,wo,1,0,"ng-container",48),i.Qb()),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngTemplateOutlet",t.template)}}const Co=function(t,e){return{"border-radius":t,"background-color":e}};function To(t,e){if(1&t&&(i.Tb(0,"div"),i.Ob(1,"div",1),i.Tb(2,"div",2),i.Ic(3,ao,1,9,"div",3),i.Ic(4,lo,10,30,"div",4),i.Ic(5,uo,1,6,"div",5),i.Ic(6,ho,6,18,"div",6),i.Ic(7,po,3,9,"div",7),i.Ic(8,fo,3,9,"div",8),i.Ic(9,mo,1,6,"div",9),i.Ic(10,go,3,9,"div",10),i.Ic(11,yo,1,6,"div",11),i.Ic(12,vo,1,3,"div",12),i.Ic(13,_o,4,12,"div",13),i.Ic(14,So,2,1,"ng-container",0),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.oc("ngClass",i.sc(14,so,1==(null==t.config?null:t.config.fullScreenBackdrop)))("ngStyle",i.tc(16,Co,null==t.config?null:t.config.backdropBorderRadius,null==t.config?null:t.config.backdropBackgroundColour)),i.Ab(1),i.oc("ngSwitch",null==t.config?null:t.config.animationType),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.circle),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.cubeGrid),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.rotatingPlane),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.rectangleBounce),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.wanderingCubes),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.doubleBounce),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.pulse),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.chasingDots),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.circleSwish),i.Ab(1),i.oc("ngSwitchCase",t.ngxLoadingAnimationTypes.none),i.Ab(2),i.oc("ngIf",t.template)}}class ko{constructor(t={}){this.backdropBorderRadius=t.backdropBorderRadius,this.backdropBackgroundColour=t.backdropBackgroundColour,this.fullScreenBackdrop=t.fullScreenBackdrop,this.animationType=t.animationType,this.primaryColour=t.primaryColour,this.secondaryColour=t.secondaryColour,this.tertiaryColour=t.tertiaryColour}}const xo={chasingDots:"chasing-dots",circle:"sk-circle",circleSwish:"circleSwish",cubeGrid:"sk-cube-grid",doubleBounce:"double-bounce",none:"none",pulse:"pulse",rectangleBounce:"rectangle-bounce",rotatingPlane:"rotating-plane",threeBounce:"three-bounce",wanderingCubes:"wandering-cubes"};let Eo=(()=>{class t{constructor(t){this.config=t,this.loadingConfig=this.config||new ko}}return t.\u0275fac=function(e){return new(e||t)(i.ac("loadingConfig",8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(i.Jb)({factory:function(){return new t(Object(i.ac)("loadingConfig",8))},token:t,providedIn:"root"}),t})(),Oo=(()=>{class t{constructor(t,e){this.LoadingService=t,this.changeDetectorRef=e,this.config=new ko,this.defaultConfig={animationType:xo.threeBounce,backdropBackgroundColour:"rgba(0, 0, 0, 0.3)",backdropBorderRadius:"0px",fullScreenBackdrop:!1,primaryColour:"#ffffff",secondaryColour:"#ffffff",tertiaryColour:"#ffffff"},this.ngxLoadingAnimationTypes=xo}ngOnInit(){this.setupConfig()}setupConfig(){for(const t in this.defaultConfig)if("boolean"==typeof this.config[t]){if(null!=this.config[t])continue;this.config[t]=null!=this.LoadingService.loadingConfig[t]?this.LoadingService.loadingConfig[t]:this.defaultConfig[t]}else{if(null!=this.config[t])continue;this.config[t]=null!=this.LoadingService.loadingConfig[t]?this.LoadingService.loadingConfig[t]:this.defaultConfig[t]}}setShow(t){this.show=t,this.changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Eo),i.Nb(i.h))},t.\u0275cmp=i.Hb({type:t,selectors:[["ngx-loading"]],inputs:{config:"config",show:"show",template:"template"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"backdrop",3,"ngClass","ngStyle"],[3,"ngSwitch"],["class","spinner-circle",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","sk-cube-grid",3,"ngClass",4,"ngSwitchCase"],["class","spinner-sk-rotateplane",3,"ngStyle","ngClass",4,"ngSwitchCase"],["class","spinner-rectangle-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-wandering-cubes",3,"ngClass",4,"ngSwitchCase"],["class","spinner-double-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-pulse",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","spinner-chasing-dots",3,"ngClass",4,"ngSwitchCase"],["class","spinner-circle-swish",3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","spinner-three-bounce",3,"ngClass",4,"ngSwitchDefault"],[1,"spinner-circle",3,"ngClass","ngStyle"],[1,"sk-cube-grid",3,"ngClass"],[1,"sk-cube","sk-cube1",3,"ngStyle"],[1,"sk-cube","sk-cube2",3,"ngStyle"],[1,"sk-cube","sk-cube3",3,"ngStyle"],[1,"sk-cube","sk-cube4",3,"ngStyle"],[1,"sk-cube","sk-cube5",3,"ngStyle"],[1,"sk-cube","sk-cube6",3,"ngStyle"],[1,"sk-cube","sk-cube7",3,"ngStyle"],[1,"sk-cube","sk-cube8",3,"ngStyle"],[1,"sk-cube","sk-cube9",3,"ngStyle"],[1,"spinner-sk-rotateplane",3,"ngStyle","ngClass"],[1,"spinner-rectangle-bounce",3,"ngClass"],[1,"rect1",3,"ngStyle"],[1,"rect2",3,"ngStyle"],[1,"rect3",3,"ngStyle"],[1,"rect4",3,"ngStyle"],[1,"rect5",3,"ngStyle"],[1,"spinner-wandering-cubes",3,"ngClass"],[1,"cube1",3,"ngStyle"],[1,"cube2",3,"ngStyle"],[1,"spinner-double-bounce",3,"ngClass"],[1,"double-bounce1",3,"ngStyle"],[1,"double-bounce2",3,"ngStyle"],[1,"spinner-pulse",3,"ngClass","ngStyle"],[1,"spinner-chasing-dots",3,"ngClass"],[1,"dot1",3,"ngStyle"],[1,"dot2",3,"ngStyle"],[1,"spinner-circle-swish",3,"ngClass","ngStyle"],[3,"ngClass"],[1,"spinner-three-bounce",3,"ngClass"],[1,"bounce1",3,"ngStyle"],[1,"bounce2",3,"ngStyle"],[1,"bounce3",3,"ngStyle"],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&i.Ic(0,To,15,19,"div",0),2&t&&i.oc("ngIf",e.show)},directives:[q,U,Y,$,G,Q,X],styles:[".backdrop[_ngcontent-%COMP%] {\n        z-index: 1999;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n\n      \n      .spinner-circle[_ngcontent-%COMP%], .spinner-circle[_ngcontent-%COMP%]:after {\n          border-radius: 50%;\n          width: 10em;\n          height: 10em;\n      }\n\n      .spinner-circle[_ngcontent-%COMP%] {\n          font-size: 6px;\n          border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n          border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n          border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n          border-left: 1.1em solid #ffffff;\n          margin: auto;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n          -webkit-transform: translateZ(0);\n          -ms-transform: translateZ(0);\n          transform: translateZ(0);\n          -webkit-animation: load8 1.1s infinite linear;\n          animation: load8 1.1s infinite linear;\n      }\n      @-webkit-keyframes load8 {\n          0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n          }\n          100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n          }\n      }\n      @keyframes load8 {\n          0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n          }\n          100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n          }\n      }\n\n      \n      .spinner-circle-swish[_ngcontent-%COMP%] {\n          font-size: 60px;\n          overflow: hidden;\n          width: 1em;\n          height: 1em;\n          z-index: 2000;\n          border-radius: 50%;\n          margin: auto;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n          -webkit-transform: translateZ(0);\n          -ms-transform: translateZ(0);\n          transform: translateZ(0);\n          -webkit-animation: load6 1.7s infinite ease, round 1.7s infinite ease;\n          animation: load6 1.7s infinite ease, round 1.7s infinite ease;\n        }\n        @-webkit-keyframes load6 {\n          0% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n          5%,\n          95% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n          10%,\n          59% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\n          }\n          20% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\n          }\n          38% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\n          }\n          100% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n        }\n        @keyframes load6 {\n          0% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n          5%,\n          95% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n          10%,\n          59% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\n          }\n          20% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\n          }\n          38% {\n            box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\n          }\n          100% {\n            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n          }\n        }\n        @-webkit-keyframes round {\n          0% {\n            -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n          }\n        }\n        @keyframes round {\n          0% {\n            -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n          }\n        }\n\n      \n      .sk-cube-grid[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%] {\n          width: 33%;\n          height: 33%;\n          background-color: #333;\n          float: left;\n          -webkit-animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;\n          animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.2s;\n          animation-delay: 0.2s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.3s;\n          animation-delay: 0.3s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.4s;\n          animation-delay: 0.4s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.1s;\n          animation-delay: 0.1s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.2s;\n          animation-delay: 0.2s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.3s;\n          animation-delay: 0.3s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0s;\n          animation-delay: 0s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.1s;\n          animation-delay: 0.1s;\n      }\n\n      .sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%] {\n          -webkit-animation-delay: 0.2s;\n          animation-delay: 0.2s;\n      }\n\n      @-webkit-keyframes sk-cubeGridScaleDelay {\n          0%, 70%, 100% {\n              -webkit-transform: scale3D(1, 1, 1);\n              transform: scale3D(1, 1, 1);\n          } 35% {\n              -webkit-transform: scale3D(0, 0, 1);\n              transform: scale3D(0, 0, 1);\n          }\n      }\n\n      @keyframes sk-cubeGridScaleDelay {\n          0%, 70%, 100% {\n              -webkit-transform: scale3D(1, 1, 1);\n              transform: scale3D(1, 1, 1);\n          } 35% {\n              -webkit-transform: scale3D(0, 0, 1);\n              transform: scale3D(0, 0, 1);\n          }\n      }\n\n      \n      .spinner-double-bounce[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n      }\n\n      .double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          background-color: #333;\n          opacity: 0.6;\n          position: absolute;\n          top: 0;\n          left: 0;\n          -webkit-animation: sk-bounce 2.0s infinite ease-in-out;\n          animation: sk-bounce 2.0s infinite ease-in-out;\n      }\n\n      .double-bounce2[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -1.0s;\n          animation-delay: -1.0s;\n      }\n\n      @-webkit-keyframes sk-bounce {\n          0%, 100% { -webkit-transform: scale(0.0) }\n          50% { -webkit-transform: scale(1.0) }\n      }\n\n      @keyframes sk-bounce {\n          0%, 100% {\n            transform: scale(0.0);\n            -webkit-transform: scale(0.0);\n          } 50% {\n            transform: scale(1.0);\n            -webkit-transform: scale(1.0);\n          }\n      }\n\n      \n      .spinner-pulse[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n          background-color: #333;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n          border-radius: 100%;\n          -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;\n          animation: sk-scaleout 1.0s infinite ease-in-out;\n      }\n\n      @-webkit-keyframes sk-scaleout {\n          0% { -webkit-transform: scale(0) }\n          100% {\n            -webkit-transform: scale(1.0);\n            opacity: 0;\n          }\n      }\n\n      @keyframes sk-scaleout {\n          0% {\n            -webkit-transform: scale(0);\n            transform: scale(0);\n          } 100% {\n            -webkit-transform: scale(1.0);\n            transform: scale(1.0);\n            opacity: 0;\n          }\n      }\n\n      \n      .spinner-three-bounce[_ngcontent-%COMP%] {\n          width: 70px;\n          text-align: center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          height: 20px;\n          margin: auto;\n          z-index: 2000;\n      }\n\n      .spinner-three-bounce[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n          width: 18px;\n          height: 18px;\n          background-color: #ffffff;\n\n          border-radius: 100%;\n          display: inline-block;\n          -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n          animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n      }\n\n      .spinner-three-bounce[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -0.32s;\n          animation-delay: -0.32s;\n      }\n\n      .spinner-three-bounce[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -0.16s;\n          animation-delay: -0.16s;\n      }\n\n      @-webkit-keyframes sk-bouncedelay {\n          0%, 80%, 100% { -webkit-transform: scale(0) }\n          40% { -webkit-transform: scale(1.0) }\n      }\n\n      @keyframes sk-bouncedelay {\n          0%, 80%, 100% {\n              -webkit-transform: scale(0);\n              transform: scale(0);\n          } 40% {\n              -webkit-transform: scale(1.0);\n              transform: scale(1.0);\n          }\n      }\n\n      \n      .spinner-sk-rotateplane[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n          background-color: #ffffff;\n          text-align: center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n          -webkit-animation: sk-rotateplane 1.2s infinite ease-in-out;\n          animation: sk-rotateplane 1.2s infinite ease-in-out;\n      }\n\n      @-webkit-keyframes sk-rotateplane {\n          0% { -webkit-transform: perspective(120px) }\n          50% { -webkit-transform: perspective(120px) rotateY(180deg) }\n          100% { -webkit-transform: perspective(120px) rotateY(180deg)  rotateX(180deg) }\n      }\n\n      @keyframes sk-rotateplane {\n          0% {\n              transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n              -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg)\n          } 50% {\n              transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n              -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg)\n          } 100% {\n              transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n              -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n      }\n\n      \n      .spinner-rectangle-bounce[_ngcontent-%COMP%] {\n          width: 50px;\n          height: 40px;\n          font-size: 10px;\n          text-align: center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n      }\n\n      .spinner-rectangle-bounce[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n          background-color: #ffffff;\n          height: 100%;\n          width: 6px;\n          display: inline-block;\n          -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n          animation: sk-stretchdelay 1.2s infinite ease-in-out;\n      }\n\n      .spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -1.1s;\n          animation-delay: -1.1s;\n      }\n\n      .spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -1.0s;\n          animation-delay: -1.0s;\n      }\n\n      .spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -0.9s;\n          animation-delay: -0.9s;\n      }\n\n      .spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -0.8s;\n          animation-delay: -0.8s;\n      }\n\n      @-webkit-keyframes sk-stretchdelay {\n          0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n          20% { -webkit-transform: scaleY(1.0) }\n      }\n\n      @keyframes sk-stretchdelay {\n          0%, 40%, 100% {\n              transform: scaleY(0.4);\n              -webkit-transform: scaleY(0.4);\n          }  20% {\n              transform: scaleY(1.0);\n              -webkit-transform: scaleY(1.0);\n          }\n      }\n\n      \n      .spinner-wandering-cubes[_ngcontent-%COMP%] {\n          width: 60px;\n          height: 58px;\n          font-size: 10px;\n          text-align: center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n      }\n\n      .cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%] {\n          background-color: #ffffff;\n          width: 15px;\n          height: 15px;\n          position: absolute;\n          top: 0;\n          left: 0;\n          -webkit-animation: sk-cubemove 1.8s infinite ease-in-out;\n          animation: sk-cubemove 1.8s infinite ease-in-out;\n      }\n\n      .cube2[_ngcontent-%COMP%] {\n          -webkit-animation-delay: -0.9s;\n          animation-delay: -0.9s;\n      }\n\n      @-webkit-keyframes sk-cubemove {\n          25% { -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5) }\n          50% { -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg) }\n          75% { -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5) }\n          100% { -webkit-transform: rotate(-360deg) }\n      }\n\n      @keyframes sk-cubemove {\n          25% {\n              transform: translateX(42px) rotate(-90deg) scale(0.5);\n              -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n          } 50% {\n              transform: translateX(42px) translateY(42px) rotate(-179deg);\n              -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n          } 50.1% {\n              transform: translateX(42px) translateY(42px) rotate(-180deg);\n              -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n          } 75% {\n              transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n              -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n          } 100% {\n              transform: rotate(-360deg);\n              -webkit-transform: rotate(-360deg);\n          }\n      }\n\n      \n      .sk-circle[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n        }\n        .sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          left: 0;\n          top: 0;\n        }\n        .sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before {\n          content: '';\n          display: block;\n          margin: 0 auto;\n          width: 15%;\n          height: 15%;\n          background-color: #333;\n          border-radius: 100%;\n          -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n                  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n        }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(30deg);\n              -ms-transform: rotate(30deg);\n                  transform: rotate(30deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(60deg);\n              -ms-transform: rotate(60deg);\n                  transform: rotate(60deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(90deg);\n              -ms-transform: rotate(90deg);\n                  transform: rotate(90deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(120deg);\n              -ms-transform: rotate(120deg);\n                  transform: rotate(120deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(150deg);\n              -ms-transform: rotate(150deg);\n                  transform: rotate(150deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(180deg);\n              -ms-transform: rotate(180deg);\n                  transform: rotate(180deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(210deg);\n              -ms-transform: rotate(210deg);\n                  transform: rotate(210deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(240deg);\n              -ms-transform: rotate(240deg);\n                  transform: rotate(240deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(270deg);\n              -ms-transform: rotate(270deg);\n                  transform: rotate(270deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(300deg);\n              -ms-transform: rotate(300deg);\n                  transform: rotate(300deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(330deg);\n              -ms-transform: rotate(330deg);\n                  transform: rotate(330deg); }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -1.1s;\n                  animation-delay: -1.1s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -1s;\n                  animation-delay: -1s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.9s;\n                  animation-delay: -0.9s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.8s;\n                  animation-delay: -0.8s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.7s;\n                  animation-delay: -0.7s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.6s;\n                  animation-delay: -0.6s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.5s;\n                  animation-delay: -0.5s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.4s;\n                  animation-delay: -0.4s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.3s;\n                  animation-delay: -0.3s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.2s;\n                  animation-delay: -0.2s; }\n        .sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before {\n          -webkit-animation-delay: -0.1s;\n                  animation-delay: -0.1s; }\n\n        @-webkit-keyframes sk-circleBounceDelay {\n          0%, 80%, 100% {\n            -webkit-transform: scale(0);\n                    transform: scale(0);\n          } 40% {\n            -webkit-transform: scale(1);\n                    transform: scale(1);\n          }\n        }\n\n        @keyframes sk-circleBounceDelay {\n          0%, 80%, 100% {\n            -webkit-transform: scale(0);\n                    transform: scale(0);\n          } 40% {\n            -webkit-transform: scale(1);\n                    transform: scale(1);\n          }\n        }\n\n        \n        .spinner-chasing-dots[_ngcontent-%COMP%] {\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          z-index: 2000;\n          text-align: center;\n          -webkit-animation: sk-rotate 2.0s infinite linear;\n          animation: sk-rotate 2.0s infinite linear;\n        }\n\n        .dot1[_ngcontent-%COMP%], .dot2[_ngcontent-%COMP%] {\n          width: 60%;\n          height: 60%;\n          display: inline-block;\n          position: absolute;\n          top: 0;\n          background-color: #333;\n          border-radius: 100%;\n          -webkit-animation: sk-bounce 2.0s infinite ease-in-out;\n          animation: sk-bounce 2.0s infinite ease-in-out;\n        }\n\n        .dot2[_ngcontent-%COMP%] {\n          top: auto;\n          bottom: 0;\n          -webkit-animation-delay: -1.0s;\n          animation-delay: -1.0s;\n        }\n\n        @-webkit-keyframes sk-rotate { 100% { -webkit-transform: rotate(360deg) }}\n        @keyframes sk-rotate { 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg) }}\n\n        @-webkit-keyframes sk-bounce {\n          0%, 100% { -webkit-transform: scale(0.0) }\n          50% { -webkit-transform: scale(1.0) }\n        }\n\n        @keyframes sk-bounce {\n          0%, 100% {\n            transform: scale(0.0);\n            -webkit-transform: scale(0.0);\n          } 50% {\n            transform: scale(1.0);\n            -webkit-transform: scale(1.0);\n          }\n        }\n\n      .full-screen[_ngcontent-%COMP%] {\n          position: fixed;\n          position: -ms-page;\n      }"]}),t})(),Io=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:"loadingConfig",useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})();class Ao{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Po={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},Do="undefined"!=typeof window&&window||{};let Ro;function No(){return void 0===Do||(void 0===Do.__theme?(Ro||(Ro=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===Ro):"bs4"!==Do.__theme)}"undefined"==typeof console||console;var Lo=n("XNiG"),Fo=n("VRyK"),jo=n("xgIS"),Mo=n("eNwd");function Uo(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Bo(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Vo(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:i}=Uo(t);return/(auto|scroll|overlay)/.test(String(e)+String(i)+String(n))?t:Vo(Bo(t))}const zo="undefined"!=typeof window&&"undefined"!=typeof document,qo=zo&&!(!window.MSInputMethodContext||!document.documentMode),Ho=zo&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Ko(t){return 11===t?qo:10===t?Ho:qo||Ho}function Wo(t){if(!t)return document.documentElement;const e=Ko(10)?document.body:null;let n,i=t.offsetParent||null;for(;i===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,i=n.offsetParent;const r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===Uo(i,"position")?Wo(i):i:n?n.ownerDocument.documentElement:document.documentElement}function $o(t){return null!==t.parentNode?$o(t.parentNode):t}function Go(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const{commonAncestorContainer:o}=s;if(t!==o&&e!==o||i.contains(r))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||Wo(t.firstElementChild)===t)}(o)?o:Wo(o);const a=$o(t);return a.host?Go(a.host,e):Go(t,$o(e).host)}function Qo(t,e){const n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${i}Width`])}function Yo(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Ko(10)?parseInt(n["offset"+t],10)+parseInt(i["margin"+("Height"===t?"Top":"Left")],10)+parseInt(i["margin"+("Height"===t?"Bottom":"Right")],10):0)}function Xo(t){const e=t.body,n=t.documentElement,i=Ko(10)&&getComputedStyle(n);return{height:Yo("Height",e,n,i),width:Yo("Width",e,n,i)}}function Jo(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function Zo(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function ta(t){let e={};try{if(Ko(10)){e=t.getBoundingClientRect();const n=Jo(t,"top"),i=Jo(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(o){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?Xo(t.ownerDocument):{};let r=t.offsetWidth-(i.width||t.clientWidth||n.right-n.left),s=t.offsetHeight-(i.height||t.clientHeight||n.bottom-n.top);if(r||s){const e=Uo(t);r-=Qo(e,"x"),s-=Qo(e,"y"),n.width-=r,n.height-=s}return Zo(n)}function ea(t,e,n=!1){const i=Ko(10),r="HTML"===e.nodeName,s=ta(t),o=ta(e),a=Vo(t),c=Uo(e),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=Zo({top:s.top-o.top-l,left:s.left-o.left-u,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){const t=parseFloat(c.marginTop),e=parseFloat(c.marginLeft);h.top-=l-t,h.bottom-=l-t,h.left-=u-e,h.right-=u-e,h.marginTop=t,h.marginLeft=e}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const i=Jo(e,"top"),r=Jo(e,"left"),s=n?-1:1;return t.top+=i*s,t.bottom+=i*s,t.left+=r*s,t.right+=r*s,t}(h,e)),h}function na(t){const e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Uo(t,"position")||na(Bo(t)))}function ia(t){if(!t||!t.parentElement||Ko())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Uo(e,"transform");)e=e.parentElement;return e||document.documentElement}function ra(t,e,n=0,i,r=!1){let s={top:0,left:0};const o=r?ia(t):Go(t,e);if("viewport"===i)s=function(t,e=!1){const n=t.ownerDocument.documentElement,i=ea(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Jo(n),a=e?0:Jo(n,"left");return Zo({top:o-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:r,height:s})}(o,r);else{let n;"scrollParent"===i?(n=Vo(Bo(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===i?t.ownerDocument.documentElement:i;const a=ea(n,o,r);if("HTML"!==n.nodeName||na(o))s=a;else{const{height:e,width:n}=Xo(t.ownerDocument);s.top+=a.top-a.marginTop,s.bottom=Number(e)+Number(a.top),s.left+=a.left-a.marginLeft,s.right=Number(n)+Number(a.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function sa({width:t,height:e}){return t*e}function oa(t,e,n,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=ra(n,i,o,s),c={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(c).map(t=>Object.assign(Object.assign({key:t},c[t]),{area:sa(c[t])})).sort((t,e)=>e.area-t.area);let u=l.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);u=u.filter(t=>r.some(e=>e===t.key));const h=u.length>0?u[0].key:l[0].key,d=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+h),h+(d?"-"+d:"")}function aa(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+i,height:Number(t.offsetHeight)+n}}function ca(t,e,n=null){return ea(e,n?ia(t):Go(t,e),n)}function la(t,e,n){const i=n.split(" ")[0],r=aa(t),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",c=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return s[a]=e[a]+e[l]/2-r[l]/2,s[c]=i===c?e[c]-r[u]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(c)],s}function ua(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function ha(t,e,n){Object.keys(e).forEach(i=>{let r="";var s;-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(s=e[i])&&!isNaN(parseFloat(s))&&isFinite(s)&&(r="px"),n?n.setStyle(t,i,`${String(e[i])}${r}`):t.style[i]=String(e[i])+r})}function da(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const i=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",c=i?"bottom":"right",l=aa(n)[r],u=t.placement.split(" ")[1];t.offsets.host[c]-l<e[o]&&(e[o]-=e[o]-(t.offsets.host[c]-l)),Number(t.offsets.host[o])+Number(l)>e[c]&&(e[o]+=Number(t.offsets.host[o])+Number(l)-Number(e[c])),e=Zo(e);const h=Uo(t.instance.target),d=parseFloat(h["margin"+s]),p=parseFloat(h[`border${s}Width`]);let f;if(u){const e=parseFloat(h.borderRadius),n=Number(d+p+e);f=o===u?Number(t.offsets.host[o])+n:Number(t.offsets.host[o])+Number(t.offsets.host[r]-n)}else f=Number(t.offsets.host[o])+Number(t.offsets.host[r]/2-l/2);let m=f-e[o]-d-p;return m=Math.max(Math.min(e[r]-l,m),0),t.offsets.arrow={[o]:Math.round(m),[a]:""},t.instance.arrow=n,t}function pa(t){if(t.offsets.target=Zo(t.offsets.target),!ua(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),la(t.instance.target,t.offsets.host,t.placement)),t;const e=ra(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"";const r=oa("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,r];return s.forEach((r,o)=>{if(n!==r||s.length===o+1)return t;n=t.placement.split(" ")[0];const a="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),c=Math.floor(t.offsets.target.left)<Math.floor(e.left),l=Math.floor(t.offsets.target.right)>Math.floor(e.right),u=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),d="left"===n&&c||"right"===n&&l||"top"===n&&u||"bottom"===n&&h,p=-1!==["top","bottom"].indexOf(n),f=p&&"left"===i&&c||p&&"right"===i&&l||!p&&"left"===i&&u||!p&&"right"===i&&h;(a||d||f)&&((a||d)&&(n=s[o+1]),f&&(i=function(t){return"right"===t?"left":"left"===t?"right":t}(i)),t.placement=n+(i?" "+i:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),la(t.instance.target,t.offsets.host,t.placement)))}),t}function fa(t){if(!ua(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:i,left:r,[e]:s}=n;n.top="",n.left="",n[e]="";const o=ra(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=i,n.left=r,n[e]=s;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let i=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(i=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:i}}};let c;return["left","right","top","bottom"].forEach(e=>{c=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[c](e))}),t}function ma(t){const e=t.placement,n=e.split(" ")[0],i=e.split(" ")[1];if(i){const{host:e,target:r}=t.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",a=s?"width":"height",c={start:{[o]:e[o]},end:{[o]:e[o]+e[a]-r[a]}};t.offsets.target=Object.assign(Object.assign({},r),{[o]:o===i?c.start[o]:c.end[o]})}return t}const ga=new class{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return ca(e,t)}positionElements(t,e,n,i,r){return[pa,ma,fa,da].reduce((t,e)=>e(t),function(t,e,n,i){const r=ca(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(o=a[1]+(a[2]?" "+a[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto");const c=la(t,r,o);return o=oa(o,r,t,e,i?i.allowedPositions:void 0),{options:i,instance:{target:t,host:e,arrow:null},offsets:{target:c,host:r,arrow:null},positionFixed:!1,placement:o,placementAuto:s}}(e,t,n,r))}};let ba=(()=>{class t{constructor(t,e,n){this.update$$=new Lo.a,this.positionElements=new Map,this.isDisabled=!1,ht(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(Fo.a)(Object(jo.a)(window,"scroll",{passive:!0}),Object(jo.a)(window,"resize",{passive:!0}),Object(ji.a)(0,Mo.b),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,i,r,s){const o=ga.positionElements(t,e,n,i,r),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(o);ha(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&ha(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let i=n.className;t.placementAuto&&(i=i.replace(/bs-popover-auto/g,"bs-popover-"+t.placement),i=i.replace(/bs-tooltip-auto/g,"bs-tooltip-"+t.placement),i=i.replace(/\sauto/g," "+t.placement),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,""+t.placement.split(" ")[0]),e?e.setAttribute(n,"class",i):n.className=i}(o,s)}(ya(t.target),ya(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(ya(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(ya(t))}setOptions(t){this.options=t}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.z),i.ac(i.F),i.ac(i.B))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();function ya(t){return"string"==typeof t?document.querySelector(t):t instanceof i.l?t.nativeElement:t}class va{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class _a{constructor(t,e,n,r,s,o,a,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=c,this.onBeforeShow=new i.n,this.onShown=new i.n,this.onBeforeHide=new i.n,this.onHidden=new i.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=i.r.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof i.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=Po){const n=(t||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new Ao(n[0],n[1])}),r=i.filter(t=>t.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(e.triggers),i=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(t=>r.push(t())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,c=a?e.toggle:e.show;a||s.push(()=>t.listen(i,n.close,e.hide)),r.push(t.listen(i,n.open,()=>c(o)))}),()=>{r.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new va([]);if(t instanceof i.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new va([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new va([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),r=i.r.create({providers:this._providers,parent:this._injector}),s=e.create(r);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new va([[s.location.nativeElement]],s.hostView,s)}return new va([[this._renderer.createText(""+t)]])}}let wa=(()=>{class t{constructor(t,e,n,i,r){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=i,this._applicationRef=r}createLoader(t,e,n){return new _a(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.j),i.ac(i.z),i.ac(i.r),i.ac(ba),i.ac(i.g))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Sa=["*"];let Ca=(()=>{class t{constructor(){this.hide=Function,this.setClass=Function}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Ta=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const ka={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},xa=new i.q("override-default-config"),Ea="modal-open",Oa="show";let Ia=(()=>{class t{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,No()?"in":Oa)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,Ea)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,No()?"in":Oa),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,Ea),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Ta),i.Nb(i.l),i.Nb(i.E))},t.\u0275cmp=i.Hb({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&i.dc("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("popstate",function(){return e.onPopState()},!1,i.Ac)("keydown.esc",function(t){return e.onEsc(t)},!1,i.Ac),2&t&&i.Bb("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:Sa,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(i.nc(),i.Tb(0,"div",0),i.Tb(1,"div",1),i.mc(2),i.Sb(),i.Sb()),2&t&&i.Cb("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t})(),Aa=(()=>{class t{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),No()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=Do),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.E))},t.\u0275cmp=i.Hb({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Pa=(()=>{class t{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new i.n,this.onShown=new i.n,this.onHide=new i.n,this.onHidden=new i.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},ka,n):ka}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},ka,this.modalDefaultOption,e):Object.assign({},ka,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(Aa).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const i of this.config.providers)n.provide(i);const r=new Ca,s=n.provide({provide:Ta,useValue:this.config}).provide({provide:Ca,useValue:r}).attach(Ia).to("body");return r.hide=()=>s.instance.hide(),r.setClass=t=>{s.instance.config.class=t},r.onHidden=new i.n,r.onHide=new i.n,this.copyEvent(n.onBeforeHide,r.onHide),this.copyEvent(n.onHidden,r.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance.level=this.getModalsCount(),r.content=n.getInnerComponent()||null,r.id=null===(e=s.instance.config)||void 0===e?void 0:e.id,r}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,Ea),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.F),i.ac(wa),i.ac(xa,8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Da=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Pa,wa,ba]}}static forChild(){return{ngModule:t,providers:[Pa,wa,ba]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();var Ra=n("T7iU");function Na(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function La(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}var Fa=n("2Vo4"),ja=n("SxV6"),Ma=n("eIep");const Ua=["v"];class Ba{create(t){return new Ra(t.videoElement,t.options)}updateSource(t){t.plyr.source=t.source}destroy(t){t.plyr.destroy()}}let Va=(()=>{let t=class{constructor(t,e,n){this.elementRef=t,this.ngZone=e,this.renderer=n,this.playerChange=new Fa.a(null),this.events=new Map,this.plyrType="video",this.plyrInit=this.playerChange.pipe(Object(Bi.a)(t=>!!t)),this.plyrProgress=this.createLazyEvent("progress"),this.plyrPlaying=this.createLazyEvent("playing"),this.plyrPlay=this.createLazyEvent("play"),this.plyrPause=this.createLazyEvent("pause"),this.plyrTimeUpdate=this.createLazyEvent("timeupdate"),this.plyrVolumeChange=this.createLazyEvent("volumechange"),this.plyrSeeking=this.createLazyEvent("seeking"),this.plyrSeeked=this.createLazyEvent("seeked"),this.plyrRateChange=this.createLazyEvent("ratechange"),this.plyrEnded=this.createLazyEvent("ended"),this.plyrEnterFullScreen=this.createLazyEvent("enterfullscreen"),this.plyrExitFullScreen=this.createLazyEvent("exitfullscreen"),this.plyrCaptionsEnabled=this.createLazyEvent("captionsenabled"),this.plyrCaptionsDisabled=this.createLazyEvent("captionsdisabled"),this.plyrLanguageChange=this.createLazyEvent("languagechange"),this.plyrControlsHidden=this.createLazyEvent("controlshidden"),this.plyrControlsShown=this.createLazyEvent("controlsshown"),this.plyrReady=this.createLazyEvent("ready"),this.plyrLoadStart=this.createLazyEvent("loadstart"),this.plyrLoadedData=this.createLazyEvent("loadeddata"),this.plyrLoadedMetadata=this.createLazyEvent("loadedmetadata"),this.plyrQualityChange=this.createLazyEvent("qualitychange"),this.plyrCanPlay=this.createLazyEvent("canplay"),this.plyrCanPlayThrough=this.createLazyEvent("canplaythrough"),this.plyrStalled=this.createLazyEvent("stalled"),this.plyrWaiting=this.createLazyEvent("waiting"),this.plyrEmptied=this.createLazyEvent("emptied"),this.plyrCueChange=this.createLazyEvent("cuechange"),this.plyrError=this.createLazyEvent("error"),this.plyrStateChange=this.createLazyEvent("statechange"),this.subscriptions=[]}get player(){return this.playerChange.getValue()}ngOnChanges(t){this.subscriptions.push(this.plyrInit.pipe(Object(ja.a)()).subscribe(e=>{const n=[t.plyrOptions,t.plyrPlaysInline,t.plyrCrossOrigin].filter(t=>!!t);n.length?n.some(t=>!t.firstChange)&&this.initPlyr(!0):this.updatePlyrSource(e)}))}ngOnDestroy(){this.destroyPlayer(),this.subscriptions.forEach(t=>t.unsubscribe())}ngAfterViewInit(){this.initPlyr()}initPlyr(t=!1){!t&&this.player||this.ngZone.runOutsideAngular(()=>{this.destroyPlayer(),this.driver=this.plyrDriver||new Ba,this.ensureVideoElement();const t=this.driver.create({videoElement:this.videoElement,options:this.plyrOptions});this.updatePlyrSource(t),this.playerChange.next(t)})}updatePlyrSource(t){this.driver.updateSource({videoElement:this.videoElement,plyr:t,source:{type:this.plyrType,title:this.plyrTitle,sources:this.plyrSources,poster:this.plyrPoster,tracks:this.plyrTracks}})}createLazyEvent(t){return this.plyrInit.pipe(Object(Ma.a)(()=>new Mi.a(e=>this.on(t,t=>this.ngZone.run(()=>e.next(t))))))}destroyPlayer(){this.player&&(Array.from(this.events.keys()).forEach(t=>this.off(t)),this.driver.destroy({plyr:this.player}),this.videoElement=null)}get hostElement(){return this.elementRef.nativeElement}ensureVideoElement(){const t=this.hostElement.querySelector("video");t?this.videoElement=t:(this.videoElement=this.renderer.createElement("video"),this.videoElement.controls=!0,this.plyrCrossOrigin&&this.videoElement.setAttribute("crossorigin",""),this.plyrPlaysInline&&this.videoElement.setAttribute("playsinline",""),this.renderer.appendChild(this.hostElement,this.videoElement))}on(t,e){this.events.set(t,e),this.player.on(t,e)}off(t){this.player.off(t,this.events.get(t)),this.events.delete(t)}};return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z),i.Nb(i.E))},t.\u0275cmp=i.Hb({type:t,selectors:[["plyr"],["","plyr",""]],viewQuery:function(t,e){if(1&t&&i.Oc(Ua,!0),2&t){let t;i.xc(t=i.ec())&&(e.vr=t.first)}},inputs:{plyrType:"plyrType",plyrDriver:"plyrDriver",plyrTitle:"plyrTitle",plyrPoster:"plyrPoster",plyrSources:"plyrSources",plyrTracks:"plyrTracks",plyrOptions:"plyrOptions",plyrCrossOrigin:"plyrCrossOrigin",plyrPlaysInline:"plyrPlaysInline"},outputs:{plyrInit:"plyrInit",plyrProgress:"plyrProgress",plyrPlaying:"plyrPlaying",plyrPlay:"plyrPlay",plyrPause:"plyrPause",plyrTimeUpdate:"plyrTimeUpdate",plyrVolumeChange:"plyrVolumeChange",plyrSeeking:"plyrSeeking",plyrSeeked:"plyrSeeked",plyrRateChange:"plyrRateChange",plyrEnded:"plyrEnded",plyrEnterFullScreen:"plyrEnterFullScreen",plyrExitFullScreen:"plyrExitFullScreen",plyrCaptionsEnabled:"plyrCaptionsEnabled",plyrCaptionsDisabled:"plyrCaptionsDisabled",plyrLanguageChange:"plyrLanguageChange",plyrControlsHidden:"plyrControlsHidden",plyrControlsShown:"plyrControlsShown",plyrReady:"plyrReady",plyrLoadStart:"plyrLoadStart",plyrLoadedData:"plyrLoadedData",plyrLoadedMetadata:"plyrLoadedMetadata",plyrQualityChange:"plyrQualityChange",plyrCanPlay:"plyrCanPlay",plyrCanPlayThrough:"plyrCanPlayThrough",plyrStalled:"plyrStalled",plyrWaiting:"plyrWaiting",plyrEmptied:"plyrEmptied",plyrCueChange:"plyrCueChange",plyrError:"plyrError",plyrStateChange:"plyrStateChange"},exportAs:["plyr"],features:[i.yb],decls:0,vars:0,template:function(t,e){},styles:[""]}),t=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Na("design:paramtypes",[i.l,i.z,i.E])],t),t})(),za=(()=>{let t=class{};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();var qa=n("5+tZ"),Ha=n("vkgz"),Ka=n("gcYM");function Wa(t,e,n,i){const r=window&&!!window.document&&window.document.documentElement;let s=r&&e?window:n;if(t&&(s=t&&r&&"string"==typeof t?function(t,e,n){return(n?window.document:e).querySelector(t)}(t,n.nativeElement,i):t,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function $a(t){return t&&!t.firstChange}const Ga={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Qa={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Ya{constructor(t=!0){this.vertical=t,this.propsMap=t?Ga:Qa}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Xa(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function Ja(t,e){return t?e.document.documentElement:null}function Za(t,e){const n=function({container:t,isWindow:e,axis:n}){const{offsetHeightKey:i,clientHeightKey:r}=tc(n);return ec(t,e,i,r)}(e);return e.isWindow?function(t,e,n){const{axis:i,container:r,isWindow:s}=n,{offsetHeightKey:o,clientHeightKey:a}=tc(i),c=t+nc(Ja(s,r),i,s),l=ec(e.nativeElement,s,o,a);return{height:t,scrolled:c,totalToScroll:function(t,e,n){const i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+nc(t,e,n)}(e.nativeElement,i,s)+l,isWindow:s}}(n,t,e):function(t,e,n){const{axis:i,container:r}=n;return{height:t,scrolled:r[i.scrollTopKey()],totalToScroll:r[i.scrollHeightKey()],isWindow:!1}}(n,0,e)}function tc(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function ec(t,e,n,i){if(isNaN(t[n])){const n=Ja(e,t);return n?n[i]:0}return t[n]}function nc(t,e,n){const i=e.pageYOffsetKey(),r=e.scrollTopKey(),s=e.offsetTopKey();return isNaN(window.pageYOffset)?Ja(n,t)[r]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[s]}function ic(t,e,n){let i,r;if(t.totalToScroll<=0)return!1;const s=t.isWindow?t.scrolled:t.height+t.scrolled;return n?(i=(t.totalToScroll-s)/t.totalToScroll,r=e.down/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-s)),r=e.up/10),i<=r}class rc{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}const sc="[NGX_ISE] DOWN",oc="[NGX_ISE] UP";function ac(t){const{scrollDown:e,stats:{scrolled:n}}=t;return{type:e?sc:oc,payload:{currentScrollPosition:n}}}let cc=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.scrolled=new i.n,this.scrolledUp=new i.n,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:e,infiniteScrollDistance:n}){const i=$a(t),r=$a(e),s=$a(n),o=!r&&!this.infiniteScrollDisabled||r&&!e.currentValue||s;(i||r||s)&&(this.destroyScroller(),o&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:e,scrollWindow:n,element:i,fromRoot:r}=t,s=function({windowElement:t,axis:e}){return function(t,e){const n=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return Object.assign(Object.assign({},t),{container:n})}({axis:e,isWindow:Xa(t)},t)}({axis:new Ya(!t.horizontal),windowElement:Wa(e,n,i,r)}),o=new rc({totalToScroll:Za(i,s)}),a={up:t.upDistance,down:t.downDistance};return function(t){let e=Object(jo.a)(t.container,"scroll");return t.throttle&&(e=e.pipe(Object(Ka.a)(t.throttle))),e}({container:s.container,throttle:t.throttle}).pipe(Object(qa.b)(()=>Object(ji.a)(Za(i,s))),Object(Vi.a)(t=>function(t,e,n){const{scrollDown:i,fire:r}=function(t,e,n){const i=function(t,e){return t<e.scrolled}(t,e);return{fire:ic(e,n,i),scrollDown:i}}(t,e,n);return{scrollDown:i,fire:r,stats:e}}(o.lastScrollPosition,t,a)),Object(Ha.a)(({stats:t})=>o.updateScroll(t.scrolled,t.totalToScroll)),Object(Bi.a)(({fire:e,scrollDown:n,stats:{totalToScroll:i}})=>function(t,e,n){return!(!t||!e)||!(n||!e)}(t.alwaysCallback,e,o.isTriggeredScroll(i,n))),Object(Ha.a)(({scrollDown:t,stats:{totalToScroll:e}})=>{o.updateTriggeredFlag(e,t)}),Object(Vi.a)(ac))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:e}){switch(t){case sc:return this.scrolled.emit(e);case oc:return this.scrolledUp.emit(e);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z))},t.\u0275dir=i.Ib({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.yb]}),t})(),lc=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[],imports:[[]]}),t})();const uc=13;function hc(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var dc=n("quSY"),pc=n("Kj3r"),fc=n("IzEk");function mc(t){return null!=t&&""+t!="false"}function gc(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function bc(t){return Array.isArray(t)?t:[t]}function yc(t){return null==t?"":"string"==typeof t?t:t+"px"}function vc(t){return t instanceof i.l?t.nativeElement:t}let _c;try{_c="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(hO){_c=!1}let wc,Sc=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ht(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_c)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.B))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.B))},token:t,providedIn:"root"}),t})(),Cc=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();const Tc=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function kc(){if(wc)return wc;if("object"!=typeof document||!document)return wc=new Set(Tc),wc;let t=document.createElement("input");return wc=new Set(Tc.filter(e=>(t.setAttribute("type",e),t.type===e))),wc}let xc,Ec,Oc;function Ic(t){return function(){if(null==xc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xc=!0}))}finally{xc=xc||!1}return xc}()?t:!!t.capture}function Ac(){if(null==Ec){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ec=!1,Ec;if("scrollBehavior"in document.documentElement.style)Ec=!0;else{const t=Element.prototype.scrollTo;Ec=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Ec}function Pc(t){if(function(){if(null==Oc){const t="undefined"!=typeof document?document.head:null;Oc=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Oc}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let Dc=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Rc=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=vc(t);return new Mi.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Lo.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Dc))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Dc))},token:t,providedIn:"root"}),t})(),Nc=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mc(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=gc(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Object(pc.a)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Rc),i.Nb(i.l),i.Nb(i.z))},t.\u0275dir=i.Ib({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Lc=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[Dc]}),t})();class Fc{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Lo.a,this._typeaheadSubscription=dc.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Lo.a,this.change=new Lo.a,t instanceof i.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ha.a)(t=>this._pressedLetters.push(t)),Object(pc.a)(t),Object(Bi.a)(()=>this._pressedLetters.length>0),Object(Vi.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||hc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.D?this._items.toArray():this._items}}class jc extends Fc{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Mc extends Fc{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Uc(t){return 0===t.buttons}function Bc(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const Vc=new i.q("cdk-focus-monitor-default-options"),zc=Ic({passive:!0,capture:!0});let qc=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Uc(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Bc(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Hc(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Hc(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=vc(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(ji.a)(null);const i=Pc(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new Lo.a,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=vc(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=vc(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Hc(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Hc(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,zc),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,zc)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,zc),t.addEventListener("mousedown",this._documentMousedownListener,zc),t.addEventListener("touchstart",this._documentTouchstartListener,zc),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zc),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zc),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,zc),t.removeEventListener("mousedown",this._documentMousedownListener,zc),t.removeEventListener("touchstart",this._documentTouchstartListener,zc),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.z),i.ac(Sc),i.ac(c,8),i.ac(Vc,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.z),Object(i.ac)(Sc),Object(i.ac)(c,8),Object(i.ac)(Vc,8))},token:t,providedIn:"root"}),t})();function Hc(t){return t.composedPath?t.composedPath()[0]:t.target}let Kc=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new i.n}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(qc))},t.\u0275dir=i.Ib({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const Wc="cdk-high-contrast-black-on-white",$c="cdk-high-contrast-white-on-black",Gc="cdk-high-contrast-active";let Qc=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Gc),t.remove(Wc),t.remove($c);const e=this.getHighContrastMode();1===e?(t.add(Gc),t.add(Wc)):2===e&&(t.add(Gc),t.add($c))}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Sc),i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Sc),Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),Yc=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(Qc))},imports:[[Cc,Lc]]}),t})();const Xc=new i.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.V)(c)}});let Jc=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Xc,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Xc,8))},token:t,providedIn:"root"}),t})(),Zc=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();const tl=new i.P("11.2.8");var el=n("JX91");function nl(t,e){if(1&t&&i.Ob(0,"mat-pseudo-checkbox",4),2&t){const t=i.hc();i.oc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function il(t,e){if(1&t&&(i.Tb(0,"span",5),i.Kc(1),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.Mc("(",t.group.label,")")}}const rl=["*"],sl=new i.P("11.2.8"),ol=new i.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let al,cl=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(i.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&sl.full!==tl.full&&console.warn("The Angular Material version ("+sl.full+") does not match the Angular CDK version ("+tl.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(Qc),i.ac(ol,8),i.ac(c))},imports:[[Zc],Zc]}),t})();function ll(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mc(t)}}}function ul(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function hl(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mc(t)}}}function dl(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?gc(t):this.defaultTabIndex}}}function pl(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Lo.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{al="undefined"!=typeof Intl}catch(hO){al=!1}let fl=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class ml{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gl={enterDuration:450,exitDuration:400},bl=Ic({passive:!0}),yl=["mousedown","touchstart"],vl=["mouseup","mouseleave","touchend","touchcancel"];class _l{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vc(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},gl),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new ml(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},gl),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=vc(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(yl))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vl),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Uc(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Bc(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,bl)})})}_removeTriggerEvents(){this._triggerElement&&(yl.forEach(t=>{this._triggerElement.removeEventListener(t,this,bl)}),this._pointerUpEventsRegistered&&vl.forEach(t=>{this._triggerElement.removeEventListener(t,this,bl)}))}}const wl=new i.q("mat-ripple-global-options");let Sl=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new _l(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z),i.Nb(Sc),i.Nb(wl,8),i.Nb(Pi,8))},t.\u0275dir=i.Ib({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Fb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Cl=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[cl,Cc],cl]}),t})(),Tl=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Pi,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Fb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),kl=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[cl]]}),t})();const xl=new i.q("MAT_OPTION_PARENT_COMPONENT");class El{}const Ol=ll(El);let Il=0,Al=(()=>{class t extends Ol{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+Il++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(xl,8))},t.\u0275dir=i.Ib({type:t,inputs:{label:"label"},features:[i.xb]}),t})();const Pl=new i.q("MatOptgroup");let Dl=0;class Rl{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Nl=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Dl++,this.onSelectionChange=new i.n,this._stateChanges=new Lo.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=mc(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==uc&&32!==t.keyCode||hc(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Rl(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(void 0),i.Nb(Al))},t.\u0275dir=i.Ib({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Ll=(()=>{class t extends Nl{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(xl,8),i.Nb(Pl,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.dc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Wb("id",e.id),i.Bb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Fb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.xb],ngContentSelectors:rl,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(i.nc(),i.Ic(0,nl,1,2,"mat-pseudo-checkbox",0),i.Tb(1,"span",1),i.mc(2),i.Sb(),i.Ic(3,il,2,1,"span",2),i.Ob(4,"div",3)),2&t&&(i.oc("ngIf",e.multiple),i.Ab(3),i.oc("ngIf",e.group&&e.group._inert),i.Ab(1),i.oc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[q,Sl,Tl],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})(),Fl=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[Cl,ut,cl,kl]]}),t})();var jl=n("1G5W");n("7+OI");class Ml{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Lo.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Ul=["underline"],Bl=["connectionContainer"],Vl=["inputContainer"],zl=["label"];function ql(t,e){1&t&&(i.Rb(0),i.Tb(1,"div",14),i.Ob(2,"div",15),i.Ob(3,"div",16),i.Ob(4,"div",17),i.Sb(),i.Tb(5,"div",18),i.Ob(6,"div",15),i.Ob(7,"div",16),i.Ob(8,"div",17),i.Sb(),i.Qb())}function Hl(t,e){1&t&&(i.Tb(0,"div",19),i.mc(1,1),i.Sb())}function Kl(t,e){if(1&t&&(i.Rb(0),i.mc(1,2),i.Tb(2,"span"),i.Kc(3),i.Sb(),i.Qb()),2&t){const t=i.hc(2);i.Ab(3),i.Lc(t._control.placeholder)}}function Wl(t,e){1&t&&i.mc(0,3,["*ngSwitchCase","true"])}function $l(t,e){1&t&&(i.Tb(0,"span",23),i.Kc(1," *"),i.Sb())}function Gl(t,e){if(1&t){const t=i.Ub();i.Tb(0,"label",20,21),i.dc("cdkObserveContent",function(){return i.Bc(t),i.hc().updateOutlineGap()}),i.Ic(2,Kl,4,1,"ng-container",12),i.Ic(3,Wl,1,0,"ng-content",12),i.Ic(4,$l,2,0,"span",22),i.Sb()}if(2&t){const t=i.hc();i.Fb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.oc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.Bb("for",t._control.id)("aria-owns",t._control.id),i.Ab(2),i.oc("ngSwitchCase",!1),i.Ab(1),i.oc("ngSwitchCase",!0),i.Ab(1),i.oc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Ql(t,e){1&t&&(i.Tb(0,"div",24),i.mc(1,4),i.Sb())}function Yl(t,e){if(1&t&&(i.Tb(0,"div",25,26),i.Ob(2,"span",27),i.Sb()),2&t){const t=i.hc();i.Ab(2),i.Fb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Xl(t,e){if(1&t&&(i.Tb(0,"div"),i.mc(1,5),i.Sb()),2&t){const t=i.hc();i.oc("@transitionMessages",t._subscriptAnimationState)}}function Jl(t,e){if(1&t&&(i.Tb(0,"div",31),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.oc("id",t._hintLabelId),i.Ab(1),i.Lc(t.hintLabel)}}function Zl(t,e){if(1&t&&(i.Tb(0,"div",28),i.Ic(1,Jl,2,2,"div",29),i.mc(2,6),i.Ob(3,"div",30),i.mc(4,7),i.Sb()),2&t){const t=i.hc();i.oc("@transitionMessages",t._subscriptAnimationState),i.Ab(1),i.oc("ngIf",t.hintLabel)}}const tu=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eu=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],nu=new i.q("MatError"),iu={transitionMessages:Xt("transitionMessages",[ee("enter",te({opacity:1,transform:"translateY(0%)"})),ne("void => enter",[te({opacity:0,transform:"translateY(-5px)"}),Jt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t}),t})();const su=new i.q("MatHint");let ou=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["mat-label"]]}),t})(),au=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["mat-placeholder"]]}),t})();const cu=new i.q("MatPrefix"),lu=new i.q("MatSuffix");let uu=0;class hu{constructor(t){this._elementRef=t}}const du=ul(hu,"primary"),pu=new i.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),fu=new i.q("MatFormField");let mu=(()=>{class t extends du{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lo.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uu++,this._labelId="mat-form-field-label-"+uu++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mc(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Object(el.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Object(jl.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Fo.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Object(el.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(el.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(jo.a)(this._label.nativeElement,"transitionend").pipe(Object(fc.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<r.length;o++)r[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(i.l),i.Nb(Jc,8),i.Nb(pu,8),i.Nb(Sc),i.Nb(i.z),i.Nb(Pi,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,ru,!0),i.Fc(n,ru,!0),i.Gb(n,ou,!0),i.Fc(n,ou,!0),i.Gb(n,au,!0),i.Gb(n,nu,!0),i.Gb(n,su,!0),i.Gb(n,cu,!0),i.Gb(n,lu,!0)),2&t){let t;i.xc(t=i.ec())&&(e._controlNonStatic=t.first),i.xc(t=i.ec())&&(e._controlStatic=t.first),i.xc(t=i.ec())&&(e._labelChildNonStatic=t.first),i.xc(t=i.ec())&&(e._labelChildStatic=t.first),i.xc(t=i.ec())&&(e._placeholderChild=t.first),i.xc(t=i.ec())&&(e._errorChildren=t),i.xc(t=i.ec())&&(e._hintChildren=t),i.xc(t=i.ec())&&(e._prefixChildren=t),i.xc(t=i.ec())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(i.Oc(Ul,!0),i.Gc(Bl,!0),i.Oc(Vl,!0),i.Oc(zl,!0)),2&t){let t;i.xc(t=i.ec())&&(e.underlineRef=t.first),i.xc(t=i.ec())&&(e._connectionContainerRef=t.first),i.xc(t=i.ec())&&(e._inputContainerRef=t.first),i.xc(t=i.ec())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.Fb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.zb([{provide:fu,useExisting:t}]),i.xb],ngContentSelectors:eu,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.nc(tu),i.Tb(0,"div",0),i.Tb(1,"div",1,2),i.dc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.Ic(3,ql,9,0,"ng-container",3),i.Ic(4,Hl,2,0,"div",4),i.Tb(5,"div",5,6),i.mc(7),i.Tb(8,"span",7),i.Ic(9,Gl,5,16,"label",8),i.Sb(),i.Sb(),i.Ic(10,Ql,2,0,"div",9),i.Sb(),i.Ic(11,Yl,3,4,"div",10),i.Tb(12,"div",11),i.Ic(13,Xl,2,1,"div",12),i.Ic(14,Zl,5,2,"div",13),i.Sb(),i.Sb()),2&t&&(i.Ab(3),i.oc("ngIf","outline"==e.appearance),i.Ab(1),i.oc("ngIf",e._prefixChildren.length),i.Ab(5),i.oc("ngIf",e._hasFloatingLabel()),i.Ab(1),i.oc("ngIf",e._suffixChildren.length),i.Ab(1),i.oc("ngIf","outline"!=e.appearance),i.Ab(1),i.oc("ngSwitch",e._getDisplayedMessages()),i.Ab(1),i.oc("ngSwitchCase","error"),i.Ab(1),i.oc("ngSwitchCase","hint"))},directives:[q,$,G,Nc],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[iu.transitionMessages]},changeDetection:0}),t})(),gu=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut,cl,Lc],cl]}),t})();const bu=["*"],yu=new i.q("MatChipRemove"),vu=new i.q("MatChipAvatar"),_u=new i.q("MatChipTrailingIcon");class wu{constructor(t){this._elementRef=t}}const Su=dl(ul(hl(wu),"primary"),-1);let Cu=(()=>{class t extends Su{constructor(t,e,n,r,s,o,a,c){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Lo.a,this._onBlur=new Lo.a,this.selectionChange=new i.n,this.destroyed=new i.n,this.removed=new i.n,this._addHostClassName(),this._chipRippleTarget=o.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new _l(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===a,this.tabIndex=null!=c&&parseInt(c)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=mc(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=mc(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=mc(t)}get removable(){return this._removable}set removable(t){this._removable=mc(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe(Object(fc.a)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z),i.Nb(Sc),i.Nb(wl,8),i.Nb(i.h),i.Nb(c),i.Nb(Pi,8),i.bc("tabindex"))},t.\u0275dir=i.Ib({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,vu,!0),i.Gb(n,_u,!0),i.Gb(n,yu,!0)),2&t){let t;i.xc(t=i.ec())&&(e.avatar=t.first),i.xc(t=i.ec())&&(e.trailingIcon=t.first),i.xc(t=i.ec())&&(e.removeIcon=t.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&i.dc("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(i.Bb("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),i.Fb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[i.xb]}),t})(),Tu=(()=>{class t{constructor(t,e){this._parentChip=t,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Cu),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&i.dc("click",function(t){return e._handleClick(t)})},features:[i.zb([{provide:yu,useExisting:t}])]}),t})();const ku=new i.q("mat-chips-default-options");class xu{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Eu=pl(xu);let Ou=0;class Iu{constructor(t,e){this.source=t,this.value=e}}let Au=(()=>{class t extends Eu{constructor(t,e,n,r,s,o,a){super(o,r,s,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Lo.a,this._uid="mat-chip-list-"+Ou++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new i.n,this.valueChange=new i.n,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=mc(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=mc(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mc(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=mc(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(Fo.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(Fo.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(Fo.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(Fo.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Mc(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(jl.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Object(el.a)(null),Object(jl.a)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ml(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new Iu(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(Jc,8),i.Nb(Fs,8),i.Nb(qs,8),i.Nb(fl),i.Nb($r,10))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,Cu,!0),2&t){let t;i.xc(t=i.ec())&&(e.chips=t)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&i.dc("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(i.Wb("id",e._uid),i.Bb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),i.Fb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[i.zb([{provide:ru,useExisting:t}]),i.xb],ngContentSelectors:bu,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(i.nc(),i.Tb(0,"div",0),i.mc(1),i.Sb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),Pu=0,Du=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new i.n,this.placeholder="",this.id="mat-chip-list-input-"+Pu++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=mc(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=mc(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&9===t.keyCode&&!hc(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){return!hc(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(ku))},t.\u0275dir=i.Ib({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&i.dc("keydown",function(t){return e._keydown(t)})("blur",function(){return e._blur()})("focus",function(){return e._focus()})("input",function(){return e._onInput()}),2&t&&(i.Wb("id",e.id),i.Bb("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[i.yb]}),t})();const Ru={separatorKeyCodes:[uc]};let Nu=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[fl,{provide:ku,useValue:Ru}],imports:[[cl]]}),t})();var Lu=n("NXyV"),Fu=(n("7Hc7"),n("/uUt")),ju=n("3UWI"),Mu=n("Zy1z"),Uu=n("UXun");let Bu=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Lo.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Mi.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Object(ju.a)(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(ji.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(Bi.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=vc(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(jo.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.z),i.ac(Sc),i.ac(c,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.z),Object(i.ac)(Sc),Object(i.ac)(c,8))},token:t,providedIn:"root"}),t})(),Vu=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Lo.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Object(ju.a)(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Sc),i.ac(i.z),i.ac(c,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Sc),Object(i.ac)(i.z),Object(i.ac)(c,8))},token:t,providedIn:"root"}),t})(),zu=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),qu=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[Zc,Cc,zu],Zc,zu]}),t})();class Hu{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ku extends Hu{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Wu extends Hu{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class $u extends Hu{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class Gu{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ku?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Wu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof $u?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qu extends Gu{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Yu=(()=>{class t extends Wu{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.L),i.Nb(i.Q))},t.\u0275dir=i.Ib({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.xb]}),t})(),Xu=(()=>{class t extends Gu{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.j),i.Nb(i.Q),i.Nb(c))},t.\u0275dir=i.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.xb]}),t})(),Ju=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();var Zu=n("GJmQ");const th=Ac();class eh{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=yc(-this._previousScrollPosition.left),t.style.top=yc(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),th&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),th&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class nh{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ih{enable(){}disable(){}attach(){}}function rh(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function sh(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class oh{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();rh(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ah=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ih,this.close=t=>new nh(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new eh(this._viewportRuler,this._document),this.reposition=t=>new oh(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Bu),i.ac(Vu),i.ac(i.z),i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Bu),Object(i.ac)(Vu),Object(i.ac)(i.z),Object(i.ac)(c))},token:t,providedIn:"root"}),t})();class ch{constructor(t){if(this.scrollStrategy=new ih,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class lh{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class uh{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let hh=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),dh=(()=>{class t extends hh{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),ph=(()=>{class t extends hh{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(Sc))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c),Object(i.ac)(Sc))},token:t,providedIn:"root"}),t})();const fh=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let mh=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||fh){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),fh?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(Sc))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c),Object(i.ac)(Sc))},token:t,providedIn:"root"}),t})();class gh{constructor(t,e,n,i,r,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Lo.a,this._attachments=new Lo.a,this._detachments=new Lo.a,this._locationChanges=dc.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Lo.a,this._outsidePointerEvents=new Lo.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(fc.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=yc(this._config.width),t.height=yc(this._config.height),t.minWidth=yc(this._config.minWidth),t.minHeight=yc(this._config.minHeight),t.maxWidth=yc(this._config.maxWidth),t.maxHeight=yc(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;bc(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Object(jl.a)(Object(Fo.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const bh="cdk-overlay-connected-position-bounding-box",yh=/([A-Za-z%]+)$/;class vh{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lo.a,this._resizeSubscription=dc.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(bh),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_h(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=Sh(e);let{x:s,y:o}=t,a=this._getOffset(i,"x"),c=this._getOffset(i,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+r.height-n.height,h=this._subtractOverflows(r.width,0-s,s+r.width-n.width),d=this._subtractOverflows(r.height,l,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=wh(this._overlayRef.getConfig().minHeight),o=wh(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Sh(e),r=this._viewportRect,s=Math.max(t.x+i.width-r.width,0),o=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return l=i.width<=r.width?c||-s:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=i.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new uh(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,c,l;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=yc(n.height),i.top=yc(n.top),i.bottom=yc(n.bottom),i.width=yc(n.width),i.left=yc(n.left),i.right=yc(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=yc(t)),r&&(i.maxWidth=yc(r))}this._lastBoundingBoxSize=n,_h(this._boundingBox.style,i)}_resetBoundingBoxStyles(){_h(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_h(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();_h(n,this._getExactOverlayY(e,t,i)),_h(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=yc(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=yc(s.maxWidth):r&&(n.maxWidth="")),_h(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=yc(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=yc(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sh(t,n),isOriginOutsideView:rh(t,n),isOverlayClipped:sh(e,n),isOverlayOutsideView:rh(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bc(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function _h(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function wh(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(yh);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Sh(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Ch{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new vh(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new lh(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Th="cdk-global-overlay-wrapper";class kh{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Th),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Th),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xh=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new kh}connectedTo(t,e,n){return new Ch(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new vh(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Vu),i.ac(c),i.ac(Sc),i.ac(mh))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Vu),Object(i.ac)(c),Object(i.ac)(Sc),Object(i.ac)(mh))},token:t,providedIn:"root"}),t})(),Eh=0,Oh=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new ch(t);return r.direction=r.direction||this._directionality.value,new gh(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Eh++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new Qu(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ah),i.ac(mh),i.ac(i.j),i.ac(xh),i.ac(dh),i.ac(i.r),i.ac(i.z),i.ac(c),i.ac(Jc),i.ac(C),i.ac(ph))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Ih={provide:new i.q("cdk-connected-overlay-scroll-strategy"),deps:[Oh],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ah=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[Oh,Ih],imports:[[Zc,Ju,qu],qu]}),t})();var Ph=n("3E0/");const Dh=["panel"];function Rh(t,e){if(1&t&&(i.Tb(0,"div",0,1),i.mc(2),i.Sb()),2&t){const t=e.id,n=i.hc();i.oc("id",n.id)("ngClass",n._classList),i.Bb("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const Nh=["*"];let Lh=0;class Fh{constructor(t,e){this.source=t,this.option=e}}class jh{}const Mh=hl(jh),Uh=new i.q("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let Bh=(()=>{class t extends Mh{constructor(t,e,n,r){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=dc.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new i.n,this.opened=new i.n,this.closed=new i.n,this.optionActivated=new i.n,this._classList={},this.id="mat-autocomplete-"+Lh++,this.inertGroups=(null==r?void 0:r.SAFARI)||!1,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=mc(t)}set classList(t){this._classList=t&&t.length?function(t,e=/\s+/){const n=[];if(null!=t){const i=Array.isArray(t)?t:(""+t).split(e);for(const t of i){const e=(""+t).trim();e&&n.push(e)}}return n}(t).reduce((t,e)=>(t[e]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new jc(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new Fh(this,t);this.optionSelected.emit(e)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h),i.Nb(i.l),i.Nb(Uh),i.Nb(Sc))},t.\u0275dir=i.Ib({type:t,viewQuery:function(t,e){if(1&t&&(i.Gc(i.L,!0),i.Oc(Dh,!0)),2&t){let t;i.xc(t=i.ec())&&(e.template=t.first),i.xc(t=i.ec())&&(e.panel=t.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[i.xb]}),t})(),Vh=(()=>{class t extends Bh{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(e){return zh(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,Pl,!0),i.Gb(n,Ll,!0)),2&t){let t;i.xc(t=i.ec())&&(e.optionGroups=t),i.xc(t=i.ec())&&(e.options=t)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[i.zb([{provide:xl,useExisting:t}]),i.xb],ngContentSelectors:Nh,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(i.nc(),i.Ic(0,Rh,3,4,"ng-template"))},directives:[U],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),t})();const zh=i.Vb(Vh),qh=new i.q("mat-autocomplete-scroll-strategy"),Hh={provide:qh,deps:[Oh],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Kh={provide:Sr,useExisting:Object(i.U)(()=>$h),multi:!0};let Wh=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,l,u){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._dir=o,this._formField=a,this._document=c,this._viewportRuler=l,this._defaults=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=dc.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Lo.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(Lu.a)(()=>this.autocomplete&&this.autocomplete.options?Object(Fo.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.pipe(Object(fc.a)(1),Object(Ma.a)(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=mc(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(Fo.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(Bi.a)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(Bi.a)(()=>this._overlayAttached)):Object(ji.a)()).pipe(Object(Vi.a)(t=>t instanceof Rl?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(Fo.a)(Object(jo.a)(this._document,"click"),Object(jo.a)(this._document,"auxclick"),Object(jo.a)(this._document,"touchend")).pipe(Object(Bi.a)(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null,i=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&(!i||!i.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27!==e||hc(t)||t.preventDefault(),this.activeOption&&e===uc&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe(Object(fc.a)(1)),e=this.autocomplete.options.changes.pipe(Object(Ha.a)(()=>this._positionStrategy.reapplyLastPosition()),Object(Ph.a)(0));return Object(Fo.a)(t,e).pipe(Object(Ma.a)(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Object(fc.a)(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!==t&&e.selected&&e.deselect()})}_attachOverlay(){var t;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Pc(this._element.nativeElement));let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new Wu(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(t=>{(27===t.keyCode&&!hc(t)||38===t.keyCode&&hc(t,"altKey"))&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new ch({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,i=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let r;r="above"===this.position?i:"below"===this.position?e:[...e,...i],t.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const e=this.autocomplete,n=function(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}(t,e.options,e.optionGroups);if(0===t&&1===n)e._setScrollTop(0);else{const n=e.options.toArray()[t];if(n){const t=n._getHostElement(),a=(i=t.offsetTop,r=t.offsetHeight,s=e._getScrollTop(),o=e.panel.nativeElement.offsetHeight,i<s?i:i+r>s+o?Math.max(0,i-o+r):s);e._setScrollTop(a)}}var i,r,s,o}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(Oh),i.Nb(i.Q),i.Nb(i.z),i.Nb(i.h),i.Nb(qh),i.Nb(Jc,8),i.Nb(fu,9),i.Nb(c,8),i.Nb(Vu),i.Nb(Uh,8))},t.\u0275dir=i.Ib({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[i.yb]}),t})(),$h=(()=>{class t extends Wh{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(e){return Gh(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&i.dc("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(t){return e._handleInput(t)})("keydown",function(t){return e._handleKeydown(t)}),2&t&&i.Bb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[i.zb([Kh]),i.xb]}),t})();const Gh=i.Vb($h);let Qh=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[Hh],imports:[[Ah,Fl,cl,ut],zu,Fl,cl]}),t})();var Yh=n("EY2u");const Xh=Ic({passive:!0});let Jh=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Yh.a;const e=vc(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new Lo.a,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Xh),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,Xh)}}),i}stopMonitoring(t){const e=vc(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Sc),i.ac(i.z))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(Sc),Object(i.ac)(i.z))},token:t,providedIn:"root"}),t})(),Zh=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[Cc]]}),t})();const td=new i.q("MAT_INPUT_VALUE_ACCESSOR"),ed=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let nd=0;class id{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const rd=pl(id);let sd=(()=>{class t extends rd{constructor(t,e,n,i,r,s,o,a,c,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+nd++,this.focused=!1,this.stateChanges=new Lo.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>kc().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mc(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=mc(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&kc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mc(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){ed.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(Sc),i.Nb($r,10),i.Nb(Fs,8),i.Nb(qs,8),i.Nb(fl),i.Nb(td,10),i.Nb(Jh),i.Nb(i.z),i.Nb(fu,8))},t.\u0275dir=i.Ib({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.dc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Wb("disabled",e.disabled)("required",e.required),i.Bb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),i.Fb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.zb([{provide:ru,useExisting:t}]),i.xb,i.yb]}),t})(),od=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[fl],imports:[[Zh,gu,cl],Zh,gu]}),t})();var ad=n("z6cu"),cd=n("JIr8"),ld=n("nYR2"),ud=n("w1tV");const hd=["*"];function dd(t){return Error(`Unable to find icon with the name "${t}"`)}function pd(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function fd(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class md{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let gd=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new md(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const s=this._sanitizer.sanitize(i.I.HTML,n);if(!s)throw fd(n);return this._addSvgIconConfig(t,e,new md("",s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new md(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.I.HTML,e);if(!r)throw fd(e);return this._addSvgIconSetConfig(t,new md("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.I.RESOURCE_URL,t);if(!e)throw pd(t);const n=this._cachedIconsByUrl.get(e);return n?Object(ji.a)(bd(n)):this._loadSvgIconFromConfig(new md(t,null)).pipe(Object(Ha.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Vi.a)(t=>bd(t)))}getNamedSvgIcon(t,e=""){const n=yd(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(ad.a)(dd(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(ji.a)(bd(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Vi.a)(t=>bd(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);if(n)return Object(ji.a)(n);const r=e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Object(cd.a)(e=>{const n=this._sanitizer.sanitize(i.I.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(ji.a)(null)})));return Object(_r.a)(r).pipe(Object(Vi.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw dd(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Ha.a)(e=>t.svgText=e),Object(Vi.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(ji.a)(null):this._fetchIcon(t).pipe(Object(Ha.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,s=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.I.RESOURCE_URL,n);if(!o)throw pd(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Object(ld.a)(()=>this._inProgressUrlFetches.delete(o)),Object(ud.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(yd(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new md(r.url,null,r.options):new md(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rr,8),i.ac(Vt),i.ac(c,8),i.ac(i.m))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(rr,8),Object(i.ac)(Vt),Object(i.ac)(c,8),Object(i.ac)(i.m))},token:t,providedIn:"root"}),t})();function bd(t){return t.cloneNode(!0)}function yd(t,e){return t+":"+e}class vd{constructor(t){this._elementRef=t}}const _d=ul(vd),wd=new i.q("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.V)(c),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Sd=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Cd=Sd.map(t=>`[${t}]`).join(", "),Td=/^url\(['"]?#(.*?)['"]?\)$/;let kd=(()=>{class t extends _d{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=dc.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=mc(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Cd),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Sd.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(Td):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Object(fc.a)(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(gd),i.bc("aria-hidden"),i.Nb(wd),i.Nb(i.m))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Bb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.Fb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.xb],ngContentSelectors:hd,decls:1,vars:0,template:function(t,e){1&t&&(i.nc(),i.mc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),xd=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[cl],cl]}),t})();var Ed=n("PqYM");function Od(t,e){1&t&&i.mc(0)}const Id=["*"];function Ad(t,e){}const Pd=function(t){return{animationDuration:t}},Dd=function(t,e){return{value:t,params:e}},Rd=["tabBodyWrapper"],Nd=["tabHeader"];function Ld(t,e){}function Fd(t,e){if(1&t&&i.Ic(0,Ld,0,0,"ng-template",9),2&t){const t=i.hc().$implicit;i.oc("cdkPortalOutlet",t.templateLabel)}}function jd(t,e){if(1&t&&i.Kc(0),2&t){const t=i.hc().$implicit;i.Lc(t.textLabel)}}function Md(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",6),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=e.index,s=i.hc(),o=i.yc(1);return s._handleClick(n,o,r)})("cdkFocusChange",function(n){i.Bc(t);const r=e.index;return i.hc()._tabFocusChanged(n,r)}),i.Tb(1,"div",7),i.Ic(2,Fd,1,1,"ng-template",8),i.Ic(3,jd,1,1,"ng-template",8),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=e.index,r=i.hc();i.Fb("mat-tab-label-active",r.selectedIndex==n),i.oc("id",r._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),i.Bb("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),i.Ab(2),i.oc("ngIf",t.templateLabel),i.Ab(1),i.oc("ngIf",!t.templateLabel)}}function Ud(t,e){if(1&t){const t=i.Ub();i.Tb(0,"mat-tab-body",10),i.dc("_onCentered",function(){return i.Bc(t),i.hc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return i.Bc(t),i.hc()._setTabBodyWrapperHeight(e)}),i.Sb()}if(2&t){const t=e.$implicit,n=e.index,r=i.hc();i.Fb("mat-tab-body-active",r.selectedIndex==n),i.oc("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),i.Bb("aria-labelledby",r._getTabLabelId(n))}}const Bd=["tabListContainer"],Vd=["tabList"],zd=["nextPaginator"],qd=["previousPaginator"],Hd=new i.q("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Kd=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z),i.Nb(Hd),i.Nb(Pi,8))},t.\u0275dir=i.Ib({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&i.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const Wd=new i.q("MatTabContent"),$d=new i.q("MatTabLabel");let Gd=(()=>{class t extends Yu{}return t.\u0275fac=function(e){return Qd(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[i.zb([{provide:$d,useExisting:t}]),i.xb]}),t})();const Qd=i.Vb(Gd);class Yd{}const Xd=ll(Yd),Jd=new i.q("MAT_TAB_GROUP");let Zd=(()=>{class t extends Xd{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new Lo.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wu(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.Q),i.Nb(Jd))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,$d,!0),i.Fc(n,Wd,!0,i.L)),2&t){let t;i.xc(t=i.ec())&&(e.templateLabel=t.first),i.xc(t=i.ec())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&i.Gc(i.L,!0),2&t){let t;i.xc(t=i.ec())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[i.xb,i.yb],ngContentSelectors:Id,decls:1,vars:0,template:function(t,e){1&t&&(i.nc(),i.Ic(0,Od,1,0,"ng-template"))},encapsulation:2}),t})();const tp={translateTab:Xt("translateTab",[ee("center, void, left-origin-center, right-origin-center",te({transform:"none"})),ee("left",te({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),ee("right",te({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),ne("* => left, * => right, left => center, right => center",Jt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ne("void => left-origin-center",[te({transform:"translate3d(-100%, 0, 0)"}),Jt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ne("void => right-origin-center",[te({transform:"translate3d(100%, 0, 0)"}),Jt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ep=(()=>{class t extends Xu{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=dc.a.EMPTY,this._leavingSub=dc.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(el.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.j),i.Nb(i.Q),i.Nb(Object(i.U)(()=>ip)),i.Nb(c))},t.\u0275dir=i.Ib({type:t,selectors:[["","matTabBodyHost",""]],features:[i.xb]}),t})(),np=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=dc.a.EMPTY,this._translateTabComplete=new Lo.a,this._onCentering=new i.n,this._beforeCentering=new i.n,this._afterLeavingCenter=new i.n,this._onCentered=new i.n(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(Object(Fu.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(Jc,8),i.Nb(i.h))},t.\u0275dir=i.Ib({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),ip=(()=>{class t extends np{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(Jc,8),i.Nb(i.h))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&i.Oc(Xu,!0),2&t){let t;i.xc(t=i.ec())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[i.xb],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(i.Tb(0,"div",0,1),i.dc("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),i.Ic(2,Ad,0,0,"ng-template",2),i.Sb()),2&t&&i.oc("@translateTab",i.tc(3,Dd,e._position,i.sc(1,Pd,e.animationDuration)))},directives:[ep],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[tp.translateTab]}}),t})();const rp=new i.q("MAT_TABS_CONFIG");let sp=0;class op{}class ap{constructor(t){this._elementRef=t}}const cp=ul(hl(ap),"primary");let lp=(()=>{class t extends cp{constructor(t,e,n,r){super(t),this._changeDetectorRef=e,this._animationMode=r,this._tabs=new i.D,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=dc.a.EMPTY,this._tabLabelSubscription=dc.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new i.n,this.focusChange=new i.n,this.animationDone=new i.n,this.selectedTabChange=new i.n(!0),this._groupId=sp++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=mc(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=gc(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(el.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new op;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(Fo.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(rp,8),i.Nb(Pi,8))},t.\u0275dir=i.Ib({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[i.xb]}),t})(),up=(()=>{class t extends lp{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(rp,8),i.Nb(Pi,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,Zd,!0),2&t){let t;i.xc(t=i.ec())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(i.Oc(Rd,!0),i.Oc(Nd,!0)),2&t){let t;i.xc(t=i.ec())&&(e._tabBodyWrapper=t.first),i.xc(t=i.ec())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&i.Fb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[i.zb([{provide:Jd,useExisting:t}]),i.xb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(i.Tb(0,"mat-tab-header",0,1),i.dc("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),i.Ic(2,Md,4,14,"div",2),i.Sb(),i.Tb(3,"div",3,4),i.Ic(5,Ud,1,8,"mat-tab-body",5),i.Sb()),2&t&&(i.oc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),i.Ab(2),i.oc("ngForOf",e._tabs),i.Ab(1),i.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.Ab(2),i.oc("ngForOf",e._tabs))},directives:function(){return[bp,V,pp,Sl,Kc,q,Xu,ip]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class hp{}const dp=ll(hp);let pp=(()=>{class t extends dp{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(i.Bb("aria-disabled",!!e.disabled),i.Fb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[i.xb]}),t})();const fp=Ic({passive:!0});let mp=(()=>{class t{constructor(t,e,n,r,s,o,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=s,this._platform=o,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Lo.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Lo.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new i.n,this.indexFocused=new i.n,s.runOutsideAngular(()=>{Object(jo.a)(t.nativeElement,"mouseleave").pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=gc(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(jo.a)(this._previousPaginator.nativeElement,"touchstart",fp).pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(jo.a)(this._nextPaginator.nativeElement,"touchstart",fp).pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(ji.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Mc(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(Fo.a)(t,e,this._items.changes).pipe(Object(jl.a)(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(jl.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!hc(t))switch(t.keyCode){case uc:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(Ed.a)(650,100).pipe(Object(jl.a)(Object(Fo.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(Vu),i.Nb(Jc,8),i.Nb(i.z),i.Nb(Sc),i.Nb(Pi,8))},t.\u0275dir=i.Ib({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),gp=(()=>{class t extends mp{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mc(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(Vu),i.Nb(Jc,8),i.Nb(i.z),i.Nb(Sc),i.Nb(Pi,8))},t.\u0275dir=i.Ib({type:t,inputs:{disableRipple:"disableRipple"},features:[i.xb]}),t})(),bp=(()=>{class t extends gp{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.h),i.Nb(Vu),i.Nb(Jc,8),i.Nb(i.z),i.Nb(Sc),i.Nb(Pi,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,pp,!1),2&t){let t;i.xc(t=i.ec())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(i.Gc(Kd,!0),i.Gc(Bd,!0),i.Gc(Vd,!0),i.Oc(zd,!0),i.Oc(qd,!0)),2&t){let t;i.xc(t=i.ec())&&(e._inkBar=t.first),i.xc(t=i.ec())&&(e._tabListContainer=t.first),i.xc(t=i.ec())&&(e._tabList=t.first),i.xc(t=i.ec())&&(e._nextPaginator=t.first),i.xc(t=i.ec())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&i.Fb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[i.xb],ngContentSelectors:Id,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(i.nc(),i.Tb(0,"div",0,1),i.dc("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),i.Ob(2,"div",2),i.Sb(),i.Tb(3,"div",3,4),i.dc("keydown",function(t){return e._handleKeydown(t)}),i.Tb(5,"div",5,6),i.dc("cdkObserveContent",function(){return e._onContentChanges()}),i.Tb(7,"div",7),i.mc(8),i.Sb(),i.Ob(9,"mat-ink-bar"),i.Sb(),i.Sb(),i.Tb(10,"div",8,9),i.dc("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),i.Ob(12,"div",2),i.Sb()),2&t&&(i.Fb("mat-tab-header-pagination-disabled",e._disableScrollBefore),i.oc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),i.Ab(5),i.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.Ab(5),i.Fb("mat-tab-header-pagination-disabled",e._disableScrollAfter),i.oc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Sl,Nc,Kd],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),yp=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut,cl,Ju,Cl,Lc,Yc],cl]}),t})();var vp=n("spgP"),_p=n("D0XW"),wp=n("Kqap"),Sp=n("pxpQ"),Cp=n("Wcq6"),Tp=n.n(Cp),kp=(n("6Joi"),n("aGrj")),xp=n("tf+s");const Ep=new i.q("angularfire2.auth.use-emulator"),Op=new i.q("angularfire2.auth.settings"),Ip=new i.q("angularfire2.auth.tenant-id"),Ap=new i.q("angularfire2.auth.langugage-code"),Pp=new i.q("angularfire2.auth.use-device-language"),Dp=new i.q("angularfire.auth.persistence");let Rp=(()=>{class t{constructor(t,e,i,r,s,o,a,c,l,u){const h=new vp.d(r),d=Object(vp.h)(h),p=new Lo.a,f=Object(ji.a)(void 0).pipe(Object(Sp.b)(h.outsideAngular),Object(Ma.a)(()=>r.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Vi.a)(()=>Object(vp.g)(t,r,e)),Object(Vi.a)(t=>r.runOutsideAngular(()=>{const e=s,n=o;return Object(vp.f)(t.name+".auth","AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());return e&&i.useEmulator("http://"+e.join(":")),a&&(i.tenantId=a),i.languageCode=c,l&&i.useDeviceLanguage(),n&&(i.settings=n),u&&i.setPersistence(u),i},[e,a,c,l,n,u])})),Object(Uu.a)({bufferSize:1,refCount:!1}));if(dt(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ji.a)(null);else{f.pipe(Object(ja.a)()).subscribe();const t=f.pipe(Object(Ma.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Object(Uu.a)({bufferSize:1,refCount:!1})),e=t=>new Mi.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=f.pipe(Object(Ma.a)(t=>e(t.onAuthStateChanged.bind(t)))),i=f.pipe(Object(Ma.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Object(kp.a)(n),Object(xp.a)(h.outsideAngular),Object(Sp.b)(h.insideAngular)),this.user=t.pipe(Object(kp.a)(i),Object(xp.a)(h.outsideAngular),Object(Sp.b)(h.insideAngular)),this.idToken=this.user.pipe(Object(Ma.a)(t=>t?Object(wr.a)(t.getIdToken()):Object(ji.a)(null))),this.idTokenResult=this.user.pipe(Object(Ma.a)(t=>t?Object(wr.a)(t.getIdTokenResult()):Object(ji.a)(null))),this.credential=Object(Fo.a)(t,p,this.authState.pipe(Object(Bi.a)(t=>!t))).pipe(Object(Vi.a)(t=>(null==t?void 0:t.user)?t:null),Object(xp.a)(h.outsideAngular),Object(Sp.b)(h.insideAngular))}return Object(vp.i)(this,f,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(vp.c),i.ac(vp.b,8),i.ac(i.B),i.ac(i.z),i.ac(Ep,8),i.ac(Op,8),i.ac(Ip,8),i.ac(Ap,8),i.ac(Pp,8),i.ac(Dp,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(vp.c),Object(i.ac)(vp.b,8),Object(i.ac)(i.B),Object(i.ac)(i.z),Object(i.ac)(Ep,8),Object(i.ac)(Op,8),Object(i.ac)(Ip,8),Object(i.ac)(Ap,8),Object(i.ac)(Pp,8),Object(i.ac)(Dp,8))},token:t,providedIn:"any"}),t})();function Np(t,e){return function(t,e=_p.b){return new Mi.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function Lp(t,e){return Np(t,e).pipe(Object(Vi.a)(t=>({payload:t,type:"query"})))}function Fp(t,e){return Lp(t,e).pipe(Object(el.a)(void 0),Object(Mu.a)(),Object(Vi.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function jp(t,e,n){return Fp(t,n).pipe(Object(wp.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mp(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Mp(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mp(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(Fu.a)(),Object(Vi.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Mp(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function Up(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(vp.e)(Rp,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Bp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Fp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Vi.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(el.a)(void 0),Object(Mu.a)(),Object(Bi.a)(([t,e])=>e.length>0||!t),Object(Vi.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(wp.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Up(t);return jp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Lp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vi.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wr.a)(this.query.get(t)).pipe(Object(Sp.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Vp(this.ref.doc(t),this.afs)}}class Vp{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=$p(n,e);return new Bp(i,r,this.afs)}snapshotChanges(){return Np(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(el.a)(void 0),Object(Mu.a)(),Object(Vi.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Vi.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wr.a)(this.ref.get(t)).pipe(Object(Sp.b)(this.afs.schedulers.insideAngular))}}class zp{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Fp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vi.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(Bi.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Fp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(wp.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Up(t);return jp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Lp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vi.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wr.a)(this.query.get(t)).pipe(Object(Sp.b)(this.afs.schedulers.insideAngular))}}const qp=new i.q("angularfire2.enableFirestorePersistence"),Hp=new i.q("angularfire2.firestore.persistenceSettings"),Kp=new i.q("angularfire2.firestore.settings"),Wp=new i.q("angularfire2.firestore.use-emulator");function $p(t,e=(t=>t)){return{query:e(t),ref:t}}let Gp=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this.schedulers=new vp.d(s),this.keepUnstableUntilFirst=Object(vp.h)(this.schedulers);const l=Object(vp.g)(t,s,e);!Tp.a.auth&&c&&Object(vp.j)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(vp.f)(l.name+".firestore","AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),u&&t.useEmulator(...u),n&&!dt(r)){const e=()=>{try{return Object(wr.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(ji.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(ji.a)(!1)]},[i,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=$p(n,e),s=this.schedulers.ngZone.run(()=>i);return new Bp(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new zp(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Vp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.ac(vp.c),i.ac(vp.b,8),i.ac(qp,8),i.ac(Kp,8),i.ac(i.B),i.ac(i.z),i.ac(Hp,8),i.ac(Wp,8),i.ac(Ep,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(vp.c),Object(i.ac)(vp.b,8),Object(i.ac)(qp,8),Object(i.ac)(Kp,8),Object(i.ac)(i.B),Object(i.ac)(i.z),Object(i.ac)(Hp,8),Object(i.ac)(Wp,8),Object(i.ac)(Ep,8))},token:t,providedIn:"any"}),t})(),Qp=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:qp,useValue:!0},{provide:Hp,useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[Gp]}),t})();var Yp=n("wj3C"),Xp=n.n(Yp),Jp=n("mAIw"),Zp=n("S+S0"),tf="firebasestorage.googleapis.com",ef=function(){function t(t,e){this.code_=rf(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return rf(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),nf="canceled";function rf(t){return"storage/"+t}function sf(){return new ef("unknown","An unknown error occurred, please check the error payload for server response.")}function of(){return new ef(nf,"User canceled the upload/download.")}function af(){return new ef("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cf(){return new ef("no-download-url","The given file does not have any download URLs.")}function lf(t,e,n){return new ef("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function uf(){return new ef("app-deleted","The Firebase app was deleted.")}function hf(t,e){return new ef("invalid-format","String does not match format '"+t+"': "+e)}function df(t){throw new ef("internal-error","Internal error: "+t)}var pf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function ff(t){switch(t){case pf.RAW:case pf.BASE64:case pf.BASE64URL:case pf.DATA_URL:return;default:throw"Expected one of the event types: ["+pf.RAW+", "+pf.BASE64+", "+pf.BASE64URL+", "+pf.DATA_URL+"]."}}var mf=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function gf(t,e){switch(t){case pf.RAW:return new mf(bf(e));case pf.BASE64:case pf.BASE64URL:return new mf(yf(t,e));case pf.DATA_URL:return new mf((n=new vf(e)).base64?yf(pf.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw hf(pf.DATA_URL,"Malformed data URL.")}return bf(e)}(n.rest),new vf(e).contentType)}var n;throw sf()}function bf(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,s=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&s)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function yf(t,e){switch(t){case pf.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw hf(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case pf.BASE64URL:var r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw hf(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(l){throw hf(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var vf=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw hf(pf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=(i=";base64").length&&n.substring(n.length-i.length)===i,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),_f={STATE_CHANGED:"state_changed"},wf="running",Sf="pausing",Cf="paused",Tf="success",kf="canceling",xf="canceled",Ef="error",Of={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function If(t){switch(t){case wf:case Sf:case kf:return Of.RUNNING;case Cf:return Of.PAUSED;case Tf:return Of.SUCCESS;case xf:return Of.CANCELED;case Ef:default:return Of.ERROR}}function Af(t){return null!=t}function Pf(t){return void 0!==t}function Df(t){return"function"==typeof t}function Rf(t){return"object"==typeof t}function Nf(t){return Rf(t)&&null!==t}function Lf(t){return"string"==typeof t||t instanceof String}function Ff(t){return jf(t)&&Number.isInteger(t)}function jf(t){return"number"==typeof t||t instanceof Number}function Mf(t){return Uf()&&t instanceof Blob}function Uf(){return"undefined"!=typeof Blob}var Bf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Vf=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Bf.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Bf.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Bf.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw df("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Af(i))for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return Af(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw df("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw df("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw df("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Af(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Af(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),zf=function(){function t(){}return t.prototype.createXhrIo=function(){return new Vf},t}();function qf(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Hf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qf();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(Uf())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var Kf=function(){function t(t,e){var n=0,i="";Mf(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Mf(this.data_)){var i=(s=e,o=n,(r=this.data_).webkitSlice?r.webkitSlice(s,o):r.mozSlice?r.mozSlice(s,o):r.slice?r.slice(s,o):null);return null===i?null:new t(i)}var r,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Uf()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(Hf.apply(null,i))}var r=e.map(function(t){return Lf(t)?gf(pf.RAW,t).data:t.data_}),s=0;r.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Wf=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(i){return new t(e,"")}if(""===n.path)return n;throw new ef("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,i="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=tf.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<a.length;c++){var l=a[c],u=l.regex.exec(e);if(u){var h=u[l.indices.path];h||(h=""),n=new t(u[l.indices.bucket],h),l.postModify(n);break}}if(null==n)throw function(t){return new ef("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function $f(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return Rf(n=e)&&!Array.isArray(n)?e:null}function Gf(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function Qf(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Yf(t){return"https://"+tf+"/v0"+t}function Xf(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}function Jf(t,e){return e}var Zf=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||Jf}}(),tm=null;function em(t,e,n){var i=$f(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,s=0;s<r;s++){var o=n[s];i[o.local]=o.xform(i,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Wf(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(i,t),i}(t,i,n)}function nm(t,e){for(var n={},i=e.length,r=0;r<i;r++){var s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}function im(t){if(!Rf(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Rf(n))throw"Expected object for 'customMetadata' mapping."}else if(Nf(n))throw"Mapping for '"+e+"' cannot be an object."}}function rm(t){if(!Rf(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!Ff(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!Lf(t.pageToken))throw"Expected pageToken to be string."}}var sm=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function om(t){if(!t)throw sf()}function am(t,e){return function(n,i){var r=em(t,i,e);return om(null!==r),r}}function cm(t){return function(e,n){var i;return(i=401===e.getStatus()?new ef("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ef("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ef("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),i}}function lm(t){var e=cm(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new ef("object-not-found","Object '"+t.path+"' does not exist.")),r.setServerResponseProp(i.serverResponseProp()),r}}function um(t,e,n){var i=Yf(e.fullServerUrl()),r=t.maxOperationRetryTime,s=new sm(i,"GET",am(t,n),r);return s.errorHandler=lm(e),s}function hm(t,e,n,i,r){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var o=Yf(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new sm(o,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=$f(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,s=n.prefixes;r<s.length;r++){var o=s[r].replace(/\/$/,""),a=t.makeStorageReference(new Wf(e,o));i.prefixes.push(a)}if(n.items)for(var c=0,l=n.items;c<l.length;c++)a=t.makeStorageReference(new Wf(e,l[c].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return om(null!==r),r}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=cm(e),c}function dm(t,e,n){var i=Yf(e.fullServerUrl()),r=t.maxOperationRetryTime,s=new sm(i,"GET",function(t,e){return function(n,i){var r=em(t,i,e);return om(null!==r),function(t,e){var n=$f(e);if(null===n)return null;if(!Lf(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return Yf("/b/"+r(t.bucket)+"/o/"+r(n))+Xf({alt:"media",token:e})})[0]}(r,i)}}(t,n),r);return s.errorHandler=lm(e),s}function pm(t,e,n,i){var r=Yf(e.fullServerUrl()),s=nm(n,i),o=t.maxOperationRetryTime,a=new sm(r,"PATCH",am(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=lm(e),a}function fm(t,e){var n=Yf(e.fullServerUrl()),i=new sm(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=lm(e),i}function mm(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var gm=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function bm(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){om(!1)}return om(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ym=262144,vm=function(){return function(t,e,n){if(Df(t)||Af(e)||Af(n))this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}}(),_m=function(){return function(t,e,n,i,r,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=s}}();function wm(t,e,n){for(var i=e.length,r=e.length,s=0;s<e.length;s++)if(e[s].optional){i=s;break}var o,a,c,l;if(!(i<=n.length&&n.length<=r))throw(o=i)===(a=r)?(c=o,l=1===o?"argument":"arguments"):(c="between "+o+" and "+a,l="arguments"),new ef("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+c+" "+l+", received "+n.length+".");for(s=0;s<n.length;s++)try{e[s].validator(n[s])}catch(u){throw u instanceof Error?lf(s,t,u.message):lf(s,t,u)}}var Sm=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!Pf(e)||t(e)},this.optional=!!e}}();function Cm(t,e){function n(t){if(!Lf(t))throw"Expected string."}var i,r,s;return t?(r=n,s=t,i=function(t){r(t),s(t)}):i=n,new Sm(i,e)}function Tm(){return new Sm(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Uf()&&t instanceof Blob))throw"Expected Blob or File."})}function km(t){return new Sm(im,t)}function xm(t){return new Sm(rm,t)}function Em(){return new Sm(function(t){if(!(jf(t)&&t>=0))throw"Expected a number 0 or greater."})}function Om(t,e){return new Sm(function(e){if(!(null===e||Af(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function Im(t){return new Sm(function(t){if(null!==t&&!Df(t))throw"Expected a Function."},t)}function Am(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Pm,Dm,Rm=function(){function t(t,e,n,i,r,s){var o=this;void 0===s&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=r,this.metadata_=s,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=wf,this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals(nf)?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_(Ef))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals(nf)?o.completeTransitions_():(o.error_=t,o.transition_(Ef))},this.promise_=new Promise(function(t,e){o.resolve_=t,o.reject_=e,o.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===wf&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then(function(n){switch(e.state_){case wf:t(n);break;case kf:e.transition_(xf);break;case Sf:e.transition_(Cf)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o=mm(e,i,r),a={name:o.fullPath},c=Yf(s),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=nm(o,n),h=new sm(c,"POST",function(t){var e;bm(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){om(!1)}return om(Lf(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=cm(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.service_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var i=function(t,e,n,i){var r=new sm(n,"POST",function(t){var e=bm(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){om(!1)}n||om(!1);var r=Number(n);return om(!isNaN(r)),new gm(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=cm(e),r}(t.service_,t.location_,e,t.blob_),r=t.service_.makeRequest(i,n);t.request_=r,r.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=ym*this.chunkMultiplier_,n=new gm(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(r){var s;try{s=function(t,e,n,i,r,s,o,a){var c=new gm(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new ef("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));var h=c.current,d={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},p=i.slice(h,h+u);if(null===p)throw af();var f=new sm(n,"POST",function(t,n){var r,o=bm(t,["active","final"]),a=c.current+u,l=i.size();return r="final"===o?am(e,s)(t,n):null,new gm(a,l,"final"===o,r)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=cm(t),f}(t.location_,t.service_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(Ef)}var o=t.service_.makeRequest(s,r);t.request_=o,o.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(Tf)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){ym*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=um(t.service_,t.location_,t.mappings_),i=t.service_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(Tf)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=mm(e,i,r),l=nm(c,n),u=Kf.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===u)throw af();var h={name:c.fullPath},d=Yf(s),p=t.maxUploadRetryTime,f=new sm(d,"POST",am(t,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=cm(e),f}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.service_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(Tf)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case kf:case Sf:this.state_=t,null!==this.request_&&this.request_.cancel();break;case wf:var e=this.state_===Cf;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Cf:this.state_=t,this.notifyObservers_();break;case xf:this.error_=of(),this.state_=t,this.notifyObservers_();break;case Ef:case Tf:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Sf:this.transition_(Cf);break;case kf:this.transition_(xf);break;case wf:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=If(this.state_);return new _m(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){function r(){if(t!==_f.STATE_CHANGED)throw"Expected one of the event types: ["+_f.STATE_CHANGED+"]."}var s="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=Im(!0).validator,a=Om(null,!0).validator;function c(t){try{return void o(t)}catch(e){}try{if(a(t),!(Pf(t.next)||Pf(t.error)||Pf(t.complete)))throw"";return}catch(e){throw s}}var l=[Cm(r),Om(c,!0),Im(!0),Im(!0)];wm("on",l,arguments);var u=this;function h(t){return function(e,n,r){null!==t&&wm("on",t,arguments);var s=new vm(e,n,i);return u.addObserver_(s),function(){u.removeObserver_(s)}}}function d(t){if(null===t)throw s;c(t)}var p=[Om(d),Im(!0),Im(!0)],f=!(Pf(e)||Pf(n)||Pf(i));return f?h(p):h(null)(e,n,i)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(If(this.state_)){case Of.SUCCESS:Am(this.resolve_.bind(null,this.snapshot))();break;case Of.CANCELED:case Of.ERROR:Am(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(If(this.state_)){case Of.RUNNING:case Of.PAUSED:t.next&&Am(t.next.bind(t,this.snapshot))();break;case Of.SUCCESS:t.complete&&Am(t.complete.bind(t))();break;case Of.CANCELED:case Of.ERROR:t.error&&Am(t.error.bind(t,this.error_))();break;default:t.error&&Am(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){wm("resume",[],arguments);var t=this.state_===Cf||this.state_===Sf;return t&&this.transition_(wf),t},t.prototype.pause=function(){wm("pause",[],arguments);var t=this.state_===wf;return t&&this.transition_(Sf),t},t.prototype.cancel=function(){wm("cancel",[],arguments);var t=this.state_===wf||this.state_===Sf;return t&&this.transition_(kf),t},t}(),Nm=function(){function t(t,e){this.service=t,this.location=e instanceof Wf?e:Wf.makeFromUrl(e)}return t.prototype.toString=function(){return wm("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(tm)return tm;var t=[];t.push(new Zf("bucket")),t.push(new Zf("generation")),t.push(new Zf("metageneration")),t.push(new Zf("name","fullPath",!0));var e=new Zf("name");e.xform=function(t,e){return function(t){return!Lf(t)||t.length<2?t:Qf(t)}(e)},t.push(e);var n=new Zf("size");return n.xform=function(t,e){return Af(e)?Number(e):e},t.push(n),t.push(new Zf("timeCreated")),t.push(new Zf("updated")),t.push(new Zf("md5Hash",null,!0)),t.push(new Zf("cacheControl",null,!0)),t.push(new Zf("contentDisposition",null,!0)),t.push(new Zf("contentEncoding",null,!0)),t.push(new Zf("contentLanguage",null,!0)),t.push(new Zf("contentType",null,!0)),t.push(new Zf("metadata","customMetadata",!0)),tm=t}()},t.prototype.child=function(t){wm("child",[Cm()],arguments);var e=Gf(this.location.path,t),n=new Wf(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Wf(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Wf(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Qf(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),wm("put",[Tm(),km(!0)],arguments),this.throwIfRoot_("put"),new Rm(this,this.service,this.location,this.mappings(),new Kf(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=pf.RAW),wm("putString",[Cm(),Cm(ff,!0),km(!0)],arguments),this.throwIfRoot_("putString");var i=gf(e,t),r=Object.assign({},n);return!Af(r.contentType)&&Af(i.contentType)&&(r.contentType=i.contentType),new Rm(this,this.service,this.location,this.mappings(),new Kf(i.data,!0),r)},t.prototype.delete=function(){var t=this;return wm("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(e){var n=fm(t.service,t.location);return t.service.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){wm("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return Object(Jp.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Jp.__generator)(this,function(s){switch(s.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=s.sent(),(i=t.prefixes).push.apply(i,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.list=function(t){wm("list",[xm(!0)],arguments);var e=this;return this.service.getAuthToken().then(function(n){var i=t||{},r=hm(e.service,e.location,"/",i.pageToken,i.maxResults);return e.service.makeRequest(r,n).getPromise()})},t.prototype.getMetadata=function(){var t=this;return wm("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(e){var n=um(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){var e=this;return wm("updateMetadata",[km()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(n){var i=pm(e.service,e.location,t,e.mappings());return e.service.makeRequest(i,n).getPromise()})},t.prototype.getDownloadURL=function(){var t=this;return wm("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(e){var n=dm(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw cf();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new ef("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Lm=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Fm=function(){function t(t,e,n,i,r,s,o,a,c,l,u){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=c,this.pool_=u,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());Pf(a)?r(a):r()}catch(c){s(c)}else null!==o?((i=sf()).setServerResponseProp(o.getResponseText()),s(t.errorCallback_?t.errorCallback_(o,i):i)):s(i=n.canceled?t.appDelete_?uf():of():new ef("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new jm(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,s=null,o=!1,a=0;function c(){return 2===a}var l=!1;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new jm(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===Bf.NO_ERROR,s=n.getStatus();if(i&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new jm(o,n))}else{var a=n.getErrorCode()===Bf.ABORT;e(!1,new jm(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)u.call.apply(u,Object(Jp.__spreadArrays)([null,t],e));else{var i;c()||o?u.call.apply(u,Object(Jp.__spreadArrays)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var p=!1;function f(t){p||(p=!0,l||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,f(!0)},i),f}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),jm=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),Mm=function(){function t(e,n,i,r){var s;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=i,this.bucket_=null!=r?Wf.makeFromBucketSpec(r):t.extractBucket_(null===(s=this.app_)||void 0===s?void 0:s.options),this.internals_=new Um(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:Wf.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(Jp.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Jp.__generator)(this,function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(t){return t.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new Nm(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Lm(uf());var i=function(t,e,n,i){var r=Xf(t.urlParams),s=t.url+r,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Xp.a?Xp.a.SDK_VERSION:"AppManager")}(o),new Fm(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this.appId_,e,this.pool_);return this.requests_.add(i),i.getPromise().then(function(){return n.requests_.delete(i)},function(){return n.requests_.delete(i)}),i},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(wm("ref",[Cm(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Nm(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Wf.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return wm("refFromURL",[Cm(e,!1)],arguments),new Nm(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){wm("setMaxUploadRetryTime",[Em()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){wm("setMaxOperationRetryTime",[Em()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),Um=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function Bm(t){const e=function(t){return new Mi.a(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe(Object(pc.a)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Vi.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Vm(t,e,n){return{getDownloadURL:()=>Object(ji.a)(void 0).pipe(Object(Sp.b)(e.outsideAngular),Object(Ma.a)(()=>t.getDownloadURL()),n),getMetadata:()=>Object(ji.a)(void 0).pipe(Object(Sp.b)(e.outsideAngular),Object(Ma.a)(()=>t.getMetadata()),n),delete:()=>Object(wr.a)(t.delete()),child:i=>Vm(t.child(i),e,n),updateMetadata:e=>Object(wr.a)(t.updateMetadata(e)),put:(e,n)=>Bm(t.put(e,n)),putString:(e,n,i)=>Bm(t.putString(e,n,i)),listAll:()=>Object(wr.a)(t.listAll())}}Dm={TaskState:Of,TaskEvent:_f,StringFormat:pf,Storage:Mm,Reference:Nm},(Pm=Xp.a).INTERNAL.registerComponent(new Zp.Component("storage",function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new Mm(n,i,new zf,e)},"PUBLIC").setServiceProps(Dm).setMultipleInstances(!0)),Pm.registerVersion("@firebase/storage","0.3.43");const zm=new i.q("angularfire2.storageBucket"),qm=new i.q("angularfire2.storage.maxUploadRetryTime"),Hm=new i.q("angularfire2.storage.maxOperationRetryTime");let Km=(()=>{class t{constructor(t,e,n,i,r,s,o){this.schedulers=new vp.d(r),this.keepUnstableUntilFirst=Object(vp.h)(this.schedulers);const a=Object(vp.g)(t,r,e);this.storage=Object(vp.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=r.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return Vm(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Vm(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Vm(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(vp.c),i.ac(vp.b,8),i.ac(zm,8),i.ac(i.B),i.ac(i.z),i.ac(qm,8),i.ac(Hm,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(vp.c),Object(i.ac)(vp.b,8),Object(i.ac)(zm,8),Object(i.ac)(i.B),Object(i.ac)(i.z),Object(i.ac)(qm,8),Object(i.ac)(Hm,8))},token:t,providedIn:"any"}),t})(),Wm=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),$m=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[Km],imports:[Wm]}),t})();n("zP0r"),n("IAdc");var Gm=n("itXk"),Qm=n("sVev"),Ym=n("NJ9Y"),Xm=n("0EUg"),Jm=n("BFxc"),Zm=n("bHdf");class tg{constructor(t,e){this.id=t,this.url=e}}class eg extends tg{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ng extends tg{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ig extends tg{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rg extends tg{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sg extends tg{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class og extends tg{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ag extends tg{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cg extends tg{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lg extends tg{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ug{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hg{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pg{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fg{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bg="primary";class yg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vg(t){return new yg(t)}function _g(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function wg(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Sg(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Cg(t[r],e[r]))return!1;return!0}function Cg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function Tg(t){return Array.prototype.concat.apply([],t)}function kg(t){return t.length>0?t[t.length-1]:null}function xg(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Eg(t){return Object(i.rb)(t)?t:Object(i.sb)(t)?Object(wr.a)(Promise.resolve(t)):Object(ji.a)(t)}function Og(t,e,n){return n?function(t,e){return Sg(t,e)}(t.queryParams,e.queryParams)&&Ig(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cg(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ag(t.root,e.root)}function Ig(t,e){if(!Lg(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ig(t.children[n],e.children[n]))return!1}return!0}function Ag(t,e){return Pg(t,e,e.segments)}function Pg(t,e,n){if(t.segments.length>n.length)return!!Lg(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Lg(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ag(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!Lg(t.segments,i)&&!!t.children.primary&&Pg(t.children.primary,e,r)}}class Dg{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vg(this.queryParams)),this._queryParamMap}toString(){return Mg.serialize(this)}}class Rg{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xg(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ug(this)}}class Ng{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vg(this.parameters)),this._parameterMap}toString(){return Wg(this)}}function Lg(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Fg{}class jg{parse(t){const e=new Xg(t);return new Dg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Bg(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${zg(e)}=${zg(t)}`).join("&"):`${zg(e)}=${zg(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Mg=new jg;function Ug(t){return t.segments.map(t=>Wg(t)).join("/")}function Bg(t,e){if(!t.hasChildren())return Ug(t);if(e){const e=t.children.primary?Bg(t.children.primary,!1):"",n=[];return xg(t.children,(t,e)=>{e!==bg&&n.push(`${e}:${Bg(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return xg(t.children,(t,i)=>{i===bg&&(n=n.concat(e(t,i)))}),xg(t.children,(t,i)=>{i!==bg&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===bg?[Bg(t.children.primary,!1)]:[`${n}:${Bg(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ug(t)}/${e[0]}`:`${Ug(t)}/(${e.join("//")})`}}function Vg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zg(t){return Vg(t).replace(/%3B/gi,";")}function qg(t){return Vg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hg(t){return decodeURIComponent(t)}function Kg(t){return Hg(t.replace(/\+/g,"%20"))}function Wg(t){return`${qg(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qg(t)}=${qg(e[t])}`).join("")}`;var e}const $g=/^[^\/()?;=#]+/;function Gg(t){const e=t.match($g);return e?e[0]:""}const Qg=/^[^=?&#]+/,Yg=/^[^?&#]+/;class Xg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rg([],{}):new Rg([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rg(t,e)),n}parseSegment(){const t=Gg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ng(Hg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gg(this.remaining);t&&(n=t,this.capture(n))}t[Hg(e)]=Hg(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qg);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Yg);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Kg(e),r=Kg(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gg(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=bg);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Rg([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return tb(t,this._root).map(t=>t.value)}}function Zg(t,e){if(t===e.value)return e;for(const n of e.children){const e=Zg(t,n);if(e)return e}return null}function tb(t,e){if(t===e.value)return[e];for(const n of e.children){const i=tb(t,n);if(i.length)return i.unshift(e),i}return[]}class eb{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ib extends Jg{constructor(t,e){super(t),this.snapshot=e,lb(this,t)}toString(){return this.snapshot.toString()}}function rb(t,e){const n=function(t,e){const n=new ab([],{},{},"",{},bg,e,null,t.root,-1,{});return new cb("",new eb(n,[]))}(t,e),i=new Fa.a([new Ng("",{})]),r=new Fa.a({}),s=new Fa.a({}),o=new Fa.a({}),a=new Fa.a(""),c=new sb(i,r,o,a,s,bg,e,n.root);return c.snapshot=n.root,new ib(new eb(c,[]),n)}class sb{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Vi.a)(t=>vg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Vi.a)(t=>vg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ob(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ab{constructor(t,e,n,i,r,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cb extends Jg{constructor(t,e){super(e),this.url=t,lb(this,e)}toString(){return ub(this._root)}}function lb(t,e){e.value._routerState=t,e.children.forEach(e=>lb(t,e))}function ub(t){const e=t.children.length>0?` { ${t.children.map(ub).join(", ")} } `:"";return`${t.value}${e}`}function hb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sg(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Sg(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sg(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Sg(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function db(t,e){var n,i;return Sg(t.params,e.params)&&Lg(n=t.url,i=e.url)&&n.every((t,e)=>Sg(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||db(t.parent,e.parent))}function pb(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return pb(t,e,i);return pb(t,e)})}(t,e,n);return new eb(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return fb(e,t),t}{const n=new sb(new Fa.a((i=e.value).url),new Fa.a(i.params),new Fa.a(i.queryParams),new Fa.a(i.fragment),new Fa.a(i.data),i.outlet,i.component,i),r=e.children.map(e=>pb(t,e));return new eb(n,r)}}var i}function fb(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)fb(t.children[n],e.children[n])}function mb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gb(t){return"object"==typeof t&&null!=t&&t.outlets}function bb(t,e,n,i,r){let s={};return i&&xg(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Dg(n.root===t?e:yb(n.root,t,e),s,r)}function yb(t,e,n){const i={};return xg(t.children,(t,r)=>{i[r]=t===e?n:yb(t,e,n)}),new Rg(t.segments,i)}class vb{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&mb(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(gb);if(i&&i!==kg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _b{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wb(t,e,n){if(t||(t=new Rg([],{})),0===t.segments.length&&t.hasChildren())return Sb(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(gb(o))break;const a=""+o,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!xb(a,c,e))return s;i+=2}else{if(!xb(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Rg(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Rg(t.segments.slice(i.pathIndex),t.children),Sb(e,0,r)}return i.match&&0===r.length?new Rg(t.segments,{}):i.match&&!t.hasChildren()?Cb(t,e,n):i.match?Sb(t,0,r):Cb(t,e,n)}function Sb(t,e,n){if(0===n.length)return new Rg(t.segments,{});{const i=function(t){return gb(t[0])?t[0].outlets:{[bg]:t}}(n),r={};return xg(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=wb(t.children[i],e,n))}),xg(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Rg(t.segments,r)}}function Cb(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(gb(s)){const t=Tb(s.outlets);return new Rg(i,t)}if(0===r&&mb(n[0])){i.push(new Ng(t.segments[e].path,n[0])),r++;continue}const o=gb(s)?s.outlets.primary:""+s,a=r<n.length-1?n[r+1]:null;o&&a&&mb(a)?(i.push(new Ng(o,kb(a))),r+=2):(i.push(new Ng(o,{})),r++)}return new Rg(i,{})}function Tb(t){const e={};return xg(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Cb(new Rg([],{}),0,t))}),e}function kb(t){const e={};return xg(t,(t,n)=>e[n]=""+t),e}function xb(t,e,n){return t==n.path&&Sg(e,n.parameters)}class Eb{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),hb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=nb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),xg(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=nb(t);for(const s of Object.values(r))this.deactivateRouteAndItsChildren(s,i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=nb(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new mg(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pg(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(hb(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ob(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ob(t){hb(t.value),t.children.forEach(Ob)}class Ib{constructor(t,e){this.routes=t,this.module=e}}function Ab(t){return"function"==typeof t}function Pb(t){return t instanceof Dg}const Db=Symbol("INITIAL_VALUE");function Rb(){return Object(Ma.a)(t=>Object(Gm.b)(...t.map(t=>t.pipe(Object(fc.a)(1),Object(el.a)(Db)))).pipe(Object(wp.a)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Db)return t;if(i===Db&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Pb(i))return i}return t},t)},Db),Object(Bi.a)(t=>t!==Db),Object(Vi.a)(t=>Pb(t)?t:!0===t),Object(fc.a)(1)))}let Nb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Ob(0,"router-outlet")},directives:function(){return[Ry]},encapsulation:2}),t})();function Lb(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Fb(i,jb(e,i))}}function Fb(t,e){t.children&&Lb(t.children,e)}function jb(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mb(t){const e=t.children&&t.children.map(Mb),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bg&&(n.component=Nb),n}function Ub(t){return t.outlet||bg}function Bb(t,e){const n=t.filter(t=>Ub(t)===e);return n.push(...t.filter(t=>Ub(t)!==e)),n}const Vb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zb(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Vb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||wg)(n,t,e);if(!r)return Object.assign({},Vb);const s={};xg(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function qb(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Hb(t,e,n)&&Ub(n)!==bg)}(t,n,i)){const r=new Rg(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Ub(s)!==bg){const n=new Rg([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Ub(s)]=n}return r}(t,e,i,new Rg(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hb(t,e,n))}(t,n,i)){const s=new Rg(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Hb(t,n,a)&&!r[Ub(a)]){const n=new Rg([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ub(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Rg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Kb(t,e,n,i){return!!(Ub(t)===i||i!==bg&&Hb(e,n,t))&&("**"===t.path||zb(e,t,n).matched)}function Wb(t,e,n){return 0===e.length&&!t.children[n]}class $b{constructor(t){this.segmentGroup=t||null}}class Gb{constructor(t){this.urlTree=t}}function Qb(t){return new Mi.a(e=>e.error(new $b(t)))}function Yb(t){return new Mi.a(e=>e.error(new Gb(t)))}function Xb(t){return new Mi.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Jb{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){const t=qb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rg(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,bg).pipe(Object(Vi.a)(t=>this.createUrlTree(Zb(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(cd.a)(t=>{if(t instanceof Gb)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $b)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bg).pipe(Object(Vi.a)(e=>this.createUrlTree(Zb(e),t.queryParams,t.fragment))).pipe(Object(cd.a)(t=>{if(t instanceof $b)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Rg([],{[bg]:t}):t;return new Dg(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Vi.a)(t=>new Rg([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(wr.a)(i).pipe(Object(Ui.a)(i=>{const r=n.children[i],s=Bb(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(Object(Vi.a)(t=>({segment:t,outlet:i})))}),Object(wp.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),Object(Ym.a)())}expandSegment(t,e,n,i,r,s){return Object(wr.a)(n).pipe(Object(Ui.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(Object(cd.a)(t=>{if(t instanceof $b)return Object(ji.a)(null);throw t}))),Object(ja.a)(t=>!!t),Object(cd.a)((t,n)=>{if(t instanceof Qm.a||"EmptyError"===t.name){if(Wb(e,i,r))return Object(ji.a)(new Rg([],{}));throw new $b(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Kb(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Qb(e):Qb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yb(r):this.lineralizeSegments(n,r).pipe(Object(qa.b)(n=>{const r=new Rg(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=zb(e,i,r);if(!o)return Qb(e);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?Yb(u):this.lineralizeSegments(i,u).pipe(Object(qa.b)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Vi.a)(t=>(n._loadedConfig=t,new Rg(i,{})))):Object(ji.a)(new Rg(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=zb(e,n,i);if(!s)return Qb(e);const c=i.slice(a);return this.getChildConfig(t,n,i).pipe(Object(qa.b)(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=qb(e,o,c,s),u=new Rg(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe(Object(Vi.a)(t=>new Rg(o,t)));if(0===s.length&&0===l.length)return Object(ji.a)(new Rg(o,{}));const h=Ub(n)===r;return this.expandSegment(i,u,s,l,h?bg:r,!0).pipe(Object(Vi.a)(t=>new Rg(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ji.a)(new Ib(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ji.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(qa.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Vi.a)(t=>(e._loadedConfig=t,t))):function(t){return new Mi.a(e=>e.error(_g(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ji.a)(new Ib([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(ji.a)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&Ab(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Ab(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return Eg(s)});return Object(ji.a)(r).pipe(Rb(),Object(Ha.a)(t=>{if(!Pb(t))return;const e=_g(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Vi.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(ji.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Xb(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Dg(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return xg(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return xg(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Rg(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Zb(t){const e={};for(const n of Object.keys(t.children)){const i=Zb(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Rg(t.segments.concat(e.segments),e.children)}return t}(new Rg(t.segments,e))}class ty{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ey{constructor(t,e){this.component=t,this.route=e}}function ny(t,e,n){const i=t._root;return ry(i,e?e._root:null,n,[i.value])}function iy(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function ry(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=nb(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Lg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lg(t.url,e.url)||!Sg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!db(t,e)||!Sg(t.queryParams,e.queryParams);case"paramsChange":default:return!db(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ty(i)):(s.data=o.data,s._resolvedData=o._resolvedData),ry(t,e,s.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ey(a.outlet.component,o))}else o&&sy(e,a,r),r.canActivateChecks.push(new ty(i)),ry(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),xg(s,(t,e)=>sy(t,n.getContext(e),r)),r}function sy(t,e,n){const i=nb(t),r=t.value;xg(i,(t,i)=>{sy(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new ey(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function oy(t,e){return null!==t&&e&&e(new fg(t)),Object(ji.a)(!0)}function ay(t,e){return null!==t&&e&&e(new dg(t)),Object(ji.a)(!0)}function cy(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(ji.a)(!0);const r=i.map(i=>Object(Lu.a)(()=>{const r=iy(i,e,n);let s;if(function(t){return t&&Ab(t.canActivate)}(r))s=Eg(r.canActivate(e,t));else{if(!Ab(r))throw new Error("Invalid CanActivate guard");s=Eg(r(e,t))}return s.pipe(Object(ja.a)())}));return Object(ji.a)(r).pipe(Rb())}function ly(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(Lu.a)(()=>{const r=e.guards.map(r=>{const s=iy(r,e.node,n);let o;if(function(t){return t&&Ab(t.canActivateChild)}(s))o=Eg(s.canActivateChild(i,t));else{if(!Ab(s))throw new Error("Invalid CanActivateChild guard");o=Eg(s(i,t))}return o.pipe(Object(ja.a)())});return Object(ji.a)(r).pipe(Rb())}));return Object(ji.a)(r).pipe(Rb())}class uy{}function hy(t){return new Mi.a(e=>e.error(t))}class dy{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=qb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bg);if(null===e)return null;const n=new ab([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bg,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eb(n,e),r=new cb(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=ob(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=Bb(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=function(t){const e=[];for(const n of t){if(!py(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===bg?-1:e.value.outlet===bg?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Wb(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Kb(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?kg(n).parameters:{};r=new ab(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gy(t),Ub(t),t.component,t,fy(e),my(e)+n.length,by(t))}else{const i=zb(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new ab(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gy(t),Ub(t),t.component,t,fy(e),my(e)+s.length,by(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=qb(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new eb(r,t)]}if(0===a.length&&0===l.length)return[new eb(r,[])];const u=Ub(t)===i,h=this.processSegment(a,c,l,u?bg:i);return null===h?null:[new eb(r,h)]}}function py(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fy(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function my(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function gy(t){return t.data||{}}function by(t){return t.resolve||{}}function yy(t){return function(e){return e.pipe(Object(Ma.a)(e=>{const n=t(e);return n?Object(wr.a)(n).pipe(Object(Vi.a)(()=>e)):Object(wr.a)([e])}))}}class vy extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const _y=new i.q("ROUTES");class wy{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Vi.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ib(Tg(i.injector.get(_y)).map(Mb),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(wr.a)(this.loader.load(t)):Eg(t()).pipe(Object(qa.b)(t=>t instanceof i.v?Object(ji.a)(t):Object(wr.a)(this.compiler.compileModuleAsync(t))))}}class Sy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cy,this.attachRef=null}}class Cy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Sy,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ty{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ky(t){throw t}function xy(t,e,n){return e.parse("/")}function Ey(t,e){return Object(ji.a)(null)}let Oy=(()=>{class t{constructor(t,e,n,r,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Lo.a,this.errorHandler=ky,this.malformedUriErrorHandler=xy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ey,afterPreactivation:Ey},this.urlHandlingStrategy=new Ty,this.routeReuseStrategy=new vy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.x),this.console=s.get(i.Z);const l=s.get(i.z);this.isNgZoneEnabled=l instanceof i.z,this.resetConfig(c),this.currentUrlTree=new Dg(new Rg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wy(o,a,t=>this.triggerEvent(new ug(t)),t=>this.triggerEvent(new hg(t))),this.routerState=rb(this.currentUrlTree,this.rootComponentType),this.transitions=new Fa.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(Bi.a)(t=>0!==t.id),Object(Vi.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(Ma.a)(t=>{let n=!1,i=!1;return Object(ji.a)(t).pipe(Object(Ha.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(Ma.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ji.a)(t).pipe(Object(Ma.a)(t=>{const n=this.transitions.getValue();return e.next(new eg(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Yh.a:[t]}),Object(Ma.a)(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Object(Ma.a)(t=>function(t,e,n,i,r){return new Jb(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(Object(Vi.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ha.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(Object(qa.b)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new dy(t,e,n,i,r,s).recognize();return null===o?hy(new uy):Object(ji.a)(o)}catch(o){return hy(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(Vi.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ha.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ha.a)(t=>{const n=new sg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new eg(n,this.serializeUrl(i),r,s);e.next(a);const c=rb(i,this.rootComponentType).snapshot;return Object(ji.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Yh.a}),yy(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ha.a)(t=>{const e=new og(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Vi.a)(t=>Object.assign(Object.assign({},t),{guards:ny(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(qa.b)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(ji.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(wr.a)(t).pipe(Object(qa.b)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(ji.a)(!0);const o=s.map(s=>{const o=iy(s,e,r);let a;if(function(t){return t&&Ab(t.canDeactivate)}(o))a=Eg(o.canDeactivate(t,e,n,i));else{if(!Ab(o))throw new Error("Invalid CanDeactivate guard");a=Eg(o(t,e,n,i))}return a.pipe(Object(ja.a)())});return Object(ji.a)(o).pipe(Rb())}(t.component,t.route,n,e,i)),Object(ja.a)(t=>!0!==t,!0))}(o,i,r,t).pipe(Object(qa.b)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(wr.a)(e).pipe(Object(Ui.a)(e=>Object(wr.a)([ay(e.route.parent,i),oy(e.route,i),ly(t,e.path,n),cy(t,e.route,n)]).pipe(Object(Xm.a)(),Object(ja.a)(t=>!0!==t,!0))),Object(ja.a)(t=>!0!==t,!0))}(i,s,t,e):Object(ji.a)(n)),Object(Vi.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ha.a)(t=>{if(Pb(t.guardsResult)){const e=_g(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ha.a)(t=>{const e=new ag(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(Bi.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ig(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),yy(t=>{if(t.guards.canActivateChecks.length)return Object(ji.a)(t).pipe(Object(Ha.a)(t=>{const e=new cg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ma.a)(t=>{let n=!1;return Object(ji.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(t){return t.pipe(Object(qa.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ji.a)(t);let s=0;return Object(wr.a)(n).pipe(Object(Ui.a)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(ji.a)({});const s={};return Object(wr.a)(r).pipe(Object(qa.b)(r=>function(t,e,n,i){const r=iy(t,e,i);return Eg(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(Ha.a)(t=>{s[r]=t}))),Object(Jm.a)(1),Object(qa.b)(()=>Object.keys(s).length===r.length?Object(ji.a)(s):Yh.a))}(t._resolve,t,e,i).pipe(Object(Vi.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ob(t,n).resolve),null)))}(t.route,e,i,r)),Object(Ha.a)(()=>s++),Object(Jm.a)(1),Object(qa.b)(e=>s===n.length?Object(ji.a)(t):Yh.a))}))}),Object(Ha.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new ig(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(Ha.a)(t=>{const e=new lg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),yy(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Vi.a)(t=>{const e=function(t,e,n){const i=pb(t,e._root,n?n._root:void 0);return new ib(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ha.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Vi.a)(t=>(new Eb(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Object(Ha.a)({next(){n=!0},complete(){n=!0}}),Object(ld.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new ig(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(cd.a)(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Pb(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new ig(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new rg(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return Yh.a}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Lb(t),this.config=t.map(Mb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return bb(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vb(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return xg(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new vb(n,e,i)}(n);if(s.toRoot())return bb(e.root,new Rg([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new _b(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new _b(t,t===e.root,0)}const i=mb(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new _b(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Sb(o.segmentGroup,o.index,s.commands):wb(o.segmentGroup,o.index,s.commands);return bb(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Pb(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Pb(t))return Og(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Og(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ng(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;r?(c=r.resolve,l=r.reject,u=r.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.N),i.ac(Fg),i.ac(Cy),i.ac(C),i.ac(i.r),i.ac(i.w),i.ac(i.i),i.ac(void 0))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Iy=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new Lo.a,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Py(this.skipLocationChange),replaceUrl:Py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Py(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Oy),i.Nb(sb),i.bc("tabindex"),i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.dc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),t})(),Ay=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Lo.a,this.subscription=t.events.subscribe(t=>{t instanceof ng&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Py(this.skipLocationChange),replaceUrl:Py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Py(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Oy),i.Nb(sb),i.Nb(y))},t.\u0275dir=i.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.dc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Wb("href",e.href,i.Dc),i.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),t})();function Py(t){return""===t||!!t}let Dy=(()=>{class t{constructor(t,e,n,i,r,s){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof ng&&this.update()})}ngAfterContentInit(){Object(wr.a)([this.links.changes,this.linksWithHrefs.changes,Object(ji.a)(null)]).pipe(Object(Zm.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(wr.a)(e).pipe(Object(Zm.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Oy),i.Nb(i.l),i.Nb(i.E),i.Nb(i.h),i.Nb(Iy,8),i.Nb(Ay,8))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,Iy,!0),i.Gb(n,Ay,!0)),2&t){let t;i.xc(t=i.ec())&&(e.links=t),i.xc(t=i.ec())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.yb]}),t})(),Ry=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||bg,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Ny(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Cy),i.Nb(i.Q),i.Nb(i.j),i.bc("name"),i.Nb(i.h))},t.\u0275dir=i.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ny{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===sb?this.route:t===Cy?this.childContexts:this.parent.get(t,e)}}class Ly{}class Fy{preload(t,e){return Object(ji.a)(null)}}let jy=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new wy(e,n,e=>t.triggerEvent(new ug(e)),e=>t.triggerEvent(new hg(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(Bi.a)(t=>t instanceof ng),Object(Ui.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(wr.a)(n).pipe(Object(Zm.a)(),Object(Vi.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(qa.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Oy),i.ac(i.w),i.ac(i.i),i.ac(i.r),i.ac(Ly))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),My=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ng&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Oy),i.ac(pt),i.ac(void 0))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Uy=new i.q("ROUTER_CONFIGURATION"),By=new i.q("ROUTER_FORROOT_GUARD"),Vy=[C,{provide:Fg,useClass:jg},{provide:Oy,useFactory:function(t,e,n,i,r,s,o,c={},l,u){const h=new Oy(null,t,e,n,i,r,s,Tg(o));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Fg,Cy,C,i.r,i.w,i.i,_y,Uy,[class{},new i.A],[class{},new i.A]]},Cy,{provide:sb,useFactory:function(t){return t.routerState.root},deps:[Oy]},{provide:i.w,useClass:i.K},jy,Fy,class{preload(t,e){return e().pipe(Object(cd.a)(()=>Object(ji.a)(null)))}},{provide:Uy,useValue:{enableTracing:!1}}];function zy(){return new i.y("Router",Oy)}let qy=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Vy,$y(e),{provide:By,useFactory:Wy,deps:[[Oy,new i.A,new i.J]]},{provide:Uy,useValue:n||{}},{provide:y,useFactory:Ky,deps:[l,[new i.p(_),new i.A],Uy]},{provide:My,useFactory:Hy,deps:[Oy,pt,Uy]},{provide:Ly,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fy},{provide:i.y,multi:!0,useFactory:zy},[Gy,{provide:i.d,multi:!0,useFactory:Qy,deps:[Gy]},{provide:Xy,useFactory:Yy,deps:[Gy]},{provide:i.b,multi:!0,useExisting:Xy}]]}}static forChild(e){return{ngModule:t,providers:[$y(e)]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(By,8),i.ac(Oy,8))}}),t})();function Hy(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new My(t,e,n)}function Ky(t,e,n={}){return n.useHash?new S(t,e):new w(t,e)}function Wy(t){return"guarded"}function $y(t){return[{provide:i.a,multi:!0,useValue:t},{provide:_y,multi:!0,useValue:t}]}let Gy=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Lo.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Oy),i=this.injector.get(Uy);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ji.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Uy),n=this.injector.get(jy),r=this.injector.get(My),s=this.injector.get(Oy),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.r))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();function Qy(t){return t.appInitializer.bind(t)}function Yy(t){return t.bootstrapListener.bind(t)}const Xy=new i.q("Router Initializer");let Jy=(()=>{class t{constructor(t){this.eventManager=t,this.resizeSubject=new Lo.a,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(t){this.resizeSubject.next(t.target)}onLoaded(t){this.windowWidth=t.target}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ct))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Zy=(()=>{class t{constructor(t){this.errorHandler=t}log(t,...e){Object(i.W)()&&console.log(t,...e)}error(t){this.errorHandler.handleError(t)}warn(t,...e){console.warn(t,...e)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.m))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const tv=new i.q("WindowToken");class ev{get nativeWindow(){throw new Error("Not implemented.")}}const nv=[{provide:ev,useClass:(()=>{class t extends ev{constructor(){super()}get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})()},{provide:tv,useFactory:function(t,e){return ht(e)?t.nativeWindow:{setTimeout:(t,e)=>{},clearTimeout:t=>{}}},deps:[ev,i.B]}],iv=new i.q("DocumentToken");class rv{get nativeDocument(){throw new Error("Not implemented.")}}const sv=[{provide:rv,useClass:(()=>{class t extends rv{constructor(){super()}get nativeDocument(){return document}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})()},{provide:iv,useFactory:function(t,e){return ht(e)?t.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[rv,i.B]}];let ov=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[nv,Jy,sv,Zy],imports:[[ut]]}),t})();class av{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(hO){}return e}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}let cv=(()=>{class t{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new av(t,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),lv=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();const uv=new i.q("shareButtonsConfig");var hv=function(t){return t.Anchor="anchor",t.Window="window",t}({});function dv(t){return t&&"object"==typeof t&&!Array.isArray(t)}function pv(t,...e){if(!e.length)return t;const n=e.shift();if(dv(t)&&dv(n))for(const i in n)dv(n[i])?(t[i]||Object.assign(t,{[i]:{}}),pv(t[i],n[i])):Object.assign(t,{[i]:n[i]});return pv(t,...e)}const fv={description:t=>t.description?`${t.description}\r\n${t.url}`:t.url},mv={facebook:{type:"facebook",text:"Facebook",ariaLabel:"Share on Facebook",icon:["fab","facebook-f"],color:"#4267B2",share:{desktop:"https://www.facebook.com/sharer/sharer.php?"},params:{url:"u"}},twitter:{type:"twitter",text:"Twitter",ariaLabel:"Share on Twitter",icon:["fab","twitter"],color:"#00acee",share:{desktop:"https://twitter.com/intent/tweet?"},params:{url:"url",description:"text",tags:"hashtags",via:"via"}},linkedin:{type:"linkedin",text:"LinkedIn",ariaLabel:"Share on LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",share:{desktop:"https://www.linkedin.com/shareArticle?"},params:{url:"url",title:"title",description:"summary"}},pinterest:{type:"pinterest",text:"Pinterest",ariaLabel:"Share on Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",share:{desktop:"https://pinterest.com/pin/create/button/?"},params:{url:"url",description:"description",image:"media"}},reddit:{type:"reddit",text:"Reddit",ariaLabel:"Share on Reddit",icon:["fab","reddit-alien"],color:"#FF4006",share:{desktop:"https://www.reddit.com/submit?"},params:{url:"url",title:"title"}},tumblr:{type:"tumblr",text:"Tumblr",ariaLabel:"Share on Tumblr",icon:["fab","tumblr"],color:"#36465D",share:{desktop:"https://tumblr.com/widgets/share/tool?"},params:{url:"canonicalUrl",description:"caption",tags:"tags"}},mix:{type:"mix",text:"Mix",ariaLabel:"Share on Mix",icon:["fab","mix"],color:"#eb4924",share:{desktop:"https://mix.com/add?"},params:{url:"url"}},viber:{type:"viber",text:"Viber",ariaLabel:"Share on Viber",icon:["fab","viber"],color:"#665ca7",share:{android:"viber://forward?",ios:"viber://forward?"},params:{description:"text"},paramsFunc:fv},vk:{type:"vk",text:"VKontakte",ariaLabel:"Share on VKontakte",icon:["fab","vk"],color:"#4C75A3",share:{desktop:"https://vk.com/share.php?"},params:{url:"url"}},telegram:{type:"telegram",text:"Telegram",ariaLabel:"Share on Telegram",icon:["fab","telegram-plane"],color:"#0088cc",share:{desktop:"https://t.me/share/url?"},params:{url:"url",description:"text"}},messenger:{type:"messenger",text:"Messenger",ariaLabel:"Share on Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",share:{android:"fb-messenger://share/?",ios:"fb-messenger://share/?"},params:{url:"link"}},whatsapp:{type:"whatsapp",text:"WhatsApp",ariaLabel:"Share on WhatsApp",icon:["fab","whatsapp"],color:"#25D366",share:{desktop:"https://web.whatsapp.com/send?",android:"whatsapp://send?",ios:"https://api.whatsapp.com/send?"},params:{description:"text"},paramsFunc:fv},xing:{type:"xing",text:"Xing",ariaLabel:"Share on Xing",icon:["fab","xing"],color:"#006567",share:{desktop:"https://www.xing.com/spi/shares/new?"},params:{url:"url"}},line:{type:"line",text:"Line",ariaLabel:"Share on Line",icon:["fab","line"],color:"#00b900",share:{desktop:"https://social-plugins.line.me/lineit/share?"},params:{url:"url"}},sms:{type:"sms",text:"SMS",ariaLabel:"Share link via SMS",icon:["fas","sms"],color:"#20c16c",share:{desktop:"sms:?",ios:"sms:&"},params:{description:"body"},paramsFunc:fv},email:{type:"email",text:"Email",ariaLabel:"Share link via email",icon:["fas","envelope"],color:"#FF961C",share:{desktop:"mailto:?"},params:{title:"subject",description:"body"},paramsFunc:fv},print:{type:"print",text:"Print",ariaLabel:"Print page",icon:["fas","print"],color:"#765AA2",func:function(){return new Mi.a(t=>document.defaultView.print())}},copy:{type:"copy",text:"Copy link",ariaLabel:"Copy link",icon:["fas","link"],color:"#607D8B",data:{text:"Copy link",icon:["fas","link"],successText:"Copied",successIcon:["fas","check"],delay:2e3},func:function({params:t,data:e,clipboard:n,updater:i}){return Object(ji.a)(null).pipe(Object(Ha.a)(()=>{n.copy(t.url),i.next({icon:e.successIcon,text:e.successText,disabled:!0})}),Object(Ph.a)(e.delay),Object(Ha.a)(()=>i.next({icon:e.icon,text:e.text,disabled:!1})),Object(fc.a)(1))}}};let gv=(()=>{class t{constructor(t,e){this._document=e,this.config={sharerMethod:hv.Anchor,sharerTarget:"_blank",windowObj:this._document.defaultView,windowFuncName:"open",prop:mv,theme:"default",include:[],exclude:[],size:0,autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus"},this.config$=new Fa.a(this.config),t&&this.setConfig(t)}get prop(){return this.config.prop}get windowSize(){return`width=${this.config.windowWidth}, height=${this.config.windowHeight}`}setConfig(t){this.config=pv(this.config,t),this.config$.next(this.config)}addButton(t,e){this.setConfig({prop:{[t]:e}})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(uv,8),i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(uv,8),Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),bv=(()=>{class t{constructor(t,e,n,r,s,o,a){this._meta=e,this._platform=n,this._clipboard=r,this._share=s,this._cd=o,this._document=a,this._destroyed=new Lo.a,this._updater=new Lo.a,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.opened=new i.n,this.closed=new i.n,this._el=t.nativeElement}share(){if(this._platform.isBrowser&&this.shareButton){const t=this.autoSetMeta?this.getParamsFromMetaTags():this.getParamsFromInputs();(this.shareButton.share?this.open(t):this.shareButton.func({params:t,data:this.shareButton.data,clipboard:this._clipboard,updater:this._updater})).pipe(Object(jl.a)(this._destroyed)).subscribe()}else console.warn(this.text+" button is not compatible on this Platform")}ngOnInit(){this._updater.pipe(Object(Ha.a)(t=>{this.icon=t.icon,this.text=t.text,this._el.style.pointerEvents=t.disabled?"none":"auto",this._cd.markForCheck()}),Object(jl.a)(this._destroyed)).subscribe()}ngOnChanges(t){this._platform.isBrowser&&(this._shareButtonChanged(t.shareButtonName)&&this._createShareButton(),this._urlChanged(t.url)&&(this.url=function(t,e){if(t){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t))return t;console.warn(`[ShareButtons]: Sharing link '${t}' is invalid!`)}return e}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href)))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createShareButton(){const t=this._share.config.prop[this.shareButtonName];t?(this.shareButton=t,this._el.classList.remove("sb-"+this._buttonClass),this._el.classList.add("sb-"+this.shareButtonName),this._el.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this.color=this.shareButton.color,this.text=this.shareButton.text,this.icon=this.shareButton.icon,this._el.setAttribute("aria-label",t.ariaLabel)):console.error(`[ShareButtons]: The share button '${this.shareButtonName}' does not exist!`)}_getMetaTagContent(t){const e=this._meta.getTag(`property="${t}"`);if(e)return e.getAttribute("content");const n=this._meta.getTag(`name="${t}"`);return n?n.getAttribute("content"):void 0}_shareButtonChanged(t){return t&&(t.firstChange||t.previousValue!==t.currentValue)}_urlChanged(t){return!this.url||t&&t.previousValue!==t.currentValue}getParamsFromMetaTags(){return{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}}getParamsFromInputs(){return{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount}}open(t){let e;if(e=this._platform.IOS&&this.shareButton.share.ios?this.shareButton.share.ios:this._platform.ANDROID&&this.shareButton.share.android?this.shareButton.share.android:this.shareButton.share.desktop,e){this._finalUrl=e+this._serializeParams(t),this._share.config.debug&&console.log("[DEBUG SHARE BUTTON]: ",this._finalUrl);const n=this.shareButton.target||this._share.config.sharerTarget;switch(this.shareButton.method||this._share.config.sharerMethod){case hv.Anchor:const t=this._document.createElement("a");t.setAttribute("target",n),t.setAttribute("rel","noopener noreferrer"),t.href=this._finalUrl,t.click(),t.remove();break;case hv.Window:const e=(0,this._share.config.windowObj[this._share.config.windowFuncName])(this._finalUrl,n,this._share.windowSize);if(this._share.config.windowObj.opener=null,e)return new Mi.a(t=>{const n=this._document.defaultView.setInterval(()=>{e.closed&&(this._document.defaultView.clearInterval(n),this.closed.emit(this.shareButtonName),t.next(),t.complete())},200)})}this.opened.emit(this.shareButtonName)}return Yh.a}_serializeParams(t){return Object.entries(this.shareButton.params).map(([e,n])=>{const i=this.shareButton.paramsFunc?this.shareButton.paramsFunc[e]:null;if(t[e]||i){const r=i?i(t):t[e];return`${n}=${encodeURIComponent(r)}`}return""}).filter(t=>""!==t).join("&")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(Gt),i.Nb(Sc),i.Nb(cv),i.Nb(gv),i.Nb(i.h),i.Nb(c))},t.\u0275dir=i.Ib({type:t,selectors:[["","shareButton",""]],hostBindings:function(t,e){1&t&&i.dc("click",function(){return e.share()})},inputs:{autoSetMeta:"autoSetMeta",url:"url",title:"title",description:"description",image:"image",tags:"tags",shareButtonName:["shareButton","shareButtonName"]},outputs:{opened:"opened",closed:"closed"},exportAs:["shareButton"],features:[i.yb]}),t})(),yv=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:uv,useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[Cc,lv]]}),t})();function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){_v(t,e,n[e])})}return t}function Sv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,s=c}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Cv={},Tv={};try{"undefined"!=typeof window&&(Cv=window),"undefined"!=typeof document&&(Tv=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(dO){}var kv=(Cv.navigator||{}).userAgent,xv=void 0===kv?"":kv,Ev=Cv,Ov=Tv,Iv=!!Ov.documentElement&&!!Ov.head&&"function"==typeof Ov.addEventListener&&"function"==typeof Ov.createElement,Av=(~xv.indexOf("MSIE")||xv.indexOf("Trident/"),"svg-inline--fa"),Pv=[1,2,3,4,5,6,7,8,9,10],Dv=Pv.concat([11,12,13,14,15,16,17,18,19,20]),Rv={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Nv=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Rv.GROUP,Rv.SWAP_OPACITY,Rv.PRIMARY,Rv.SECONDARY].concat(Pv.map(function(t){return"".concat(t,"x")})).concat(Dv.map(function(t){return"w-".concat(t)})),Ev.FontAwesomeConfig||{});Ov&&"function"==typeof Ov.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=Sv(t,2),n=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Ov.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Nv[n]=i)});var Lv=wv({},{familyPrefix:"fa",replacementClass:Av,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Nv);Lv.autoReplaceSvg||(Lv.observeMutations=!1);var Fv=wv({},Lv);Ev.FontAwesomeConfig=Fv;var jv=Ev||{};jv.___FONT_AWESOME___||(jv.___FONT_AWESOME___={}),jv.___FONT_AWESOME___.styles||(jv.___FONT_AWESOME___.styles={}),jv.___FONT_AWESOME___.hooks||(jv.___FONT_AWESOME___.hooks={}),jv.___FONT_AWESOME___.shims||(jv.___FONT_AWESOME___.shims=[]);var Mv=jv.___FONT_AWESOME___,Uv=[];Iv&&((Ov.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ov.readyState)||Ov.addEventListener("DOMContentLoaded",function t(){Ov.removeEventListener("DOMContentLoaded",t),Uv.map(function(t){return t()})}));var Bv,Vv="pending",zv="settled",qv="fulfilled",Hv="rejected",Kv=function(){},Wv="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,$v="undefined"==typeof setImmediate?setTimeout:setImmediate,Gv=[];function Qv(){for(var t=0;t<Gv.length;t++)Gv[t][0](Gv[t][1]);Gv=[],Bv=!1}function Yv(t,e){Gv.push([t,e]),Bv||(Bv=!0,$v(Qv,0))}function Xv(t){var e=t.owner,n=e._state,i=e._data,r=t[n],s=t.then;if("function"==typeof r){n=qv;try{i=r(i)}catch(dO){e_(s,dO)}}Jv(s,i)||(n===qv&&Zv(s,i),n===Hv&&e_(s,i))}function Jv(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===vv(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(i){n||(n=!0,e===i?t_(t,i):Zv(t,i))},function(e){n||(n=!0,e_(t,e))}),!0}}catch(dO){return n||e_(t,dO),!0}return!1}function Zv(t,e){t!==e&&Jv(t,e)||t_(t,e)}function t_(t,e){t._state===Vv&&(t._state=zv,t._data=e,Yv(i_,t))}function e_(t,e){t._state===Vv&&(t._state=zv,t._data=e,Yv(r_,t))}function n_(t){t._then=t._then.forEach(Xv)}function i_(t){t._state=qv,n_(t)}function r_(t){t._state=Hv,n_(t),!t._handled&&Wv&&global.process.emit("unhandledRejection",t._data,t)}function s_(t){global.process.emit("rejectionHandled",t)}function o_(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof o_==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){e_(e,t)}try{t(function(t){Zv(e,t)},n)}catch(dO){n(dO)}}(t,this)}o_.prototype={constructor:o_,_state:Vv,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(Kv),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===Hv&&Wv&&Yv(s_,this)),this._state===qv||this._state===Hv?Yv(Xv,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},o_.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new o_(function(e,n){var i=[],r=0;function s(t){return r++,function(n){i[t]=n,--r||e(i)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),n):i[a]=o;r||e(i)})},o_.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new o_(function(e,n){for(var i,r=0;r<t.length;r++)(i=t[r])&&"function"==typeof i.then?i.then(e,n):e(i)})},o_.resolve=function(t){return t&&"object"===vv(t)&&t.constructor===o_?t:new o_(function(e){e(t)})},o_.reject=function(t){return new o_(function(e,n){n(t)})};var a_={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function c_(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function l_(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u_(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function h_(t){return t.size!==a_.size||t.x!==a_.x||t.y!==a_.y||t.rotate!==a_.rotate||t.flipX||t.flipY}function d_(t){var e=t.transform,n=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var p_={x:0,y:0,width:"100%",height:"100%"};function f_(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function m_(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,h=t.extra,d=t.watchable,p=void 0!==d&&d,f=i.found?i:n,m=f.width,g=f.height,b="fak"===r,y=b?"":"fa-w-".concat(Math.ceil(m/g*16)),v=[Fv.replacementClass,s?"".concat(Fv.familyPrefix,"-").concat(s):"",y].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),_={children:[],attributes:wv({},h.attributes,{"data-prefix":r,"data-icon":s,class:v,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=b&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};p&&(_.attributes["data-fa-i2svg"]=""),c&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(u||c_())},children:[c]});var S=wv({},_,{prefix:r,iconName:s,main:n,mask:i,maskId:l,transform:o,symbol:a,styles:wv({},w,h.styles)}),C=i.found&&n.found?function(t){var e,n=t.children,i=t.attributes,r=t.main,s=t.mask,o=t.maskId,a=r.icon,c=s.icon,l=d_({transform:t.transform,containerWidth:s.width,iconWidth:r.width}),u={tag:"rect",attributes:wv({},p_,{fill:"white"})},h=a.children?{children:a.children.map(f_)}:{},d={tag:"g",attributes:wv({},l.inner),children:[f_(wv({tag:a.tag,attributes:wv({},a.attributes,l.path)},h))]},p={tag:"g",attributes:wv({},l.outer),children:[d]},f="mask-".concat(o||c_()),m="clip-".concat(o||c_()),g={tag:"mask",attributes:wv({},p_,{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[u,p]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=c,"g"===e.tag?e.children:[e])},g]};return n.push(b,{tag:"rect",attributes:wv({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(f,")")},p_)}),{children:n,attributes:i}}(S):function(t){var e=t.children,n=t.attributes,i=t.main,r=t.transform,s=u_(t.styles);if(s.length>0&&(n.style=s),h_(r)){var o=d_({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:wv({},o.outer),children:[{tag:"g",attributes:wv({},o.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:wv({},i.icon.attributes,o.path)}]}]})}else e.push(i.icon);return{children:e,attributes:n}}(S),T=C.attributes;return S.children=C.children,S.attributes=T,a?function(t){var e=t.iconName,n=t.children,i=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:wv({},t.attributes,{id:!0===i?"".concat(t.prefix,"-").concat(Fv.familyPrefix,"-").concat(e):i}),children:n}]}]}(S):function(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,s=t.styles,o=t.transform;if(h_(o)&&n.found&&!i.found){var a={x:n.width/n.height/2,y:.5};r.style=u_(wv({},s,{"transform-origin":"".concat(a.x+o.x/16,"em ").concat(a.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(S)}var g_=function(t,e,n,i){var r,s,o,a=Object.keys(t),c=a.length,l=void 0!==i?function(t,e){return function(n,i,r,s){return t.call(e,n,i,r,s)}}(e,i):e;for(void 0===n?(r=1,o=t[a[0]]):(r=0,o=n);r<c;r++)o=l(o,t[s=a[r]],s,t);return o};function b_(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,s=Object.keys(e).reduce(function(t,n){var i=e[n];return i.icon?t[i.iconName]=i.icon:t[n]=i,t},{});"function"!=typeof Mv.hooks.addPack||r?Mv.styles[t]=wv({},Mv.styles[t]||{},s):Mv.hooks.addPack(t,s),"fas"===t&&b_("fa",e)}var y_=Mv.styles,v_=Mv.shims,__=function(){var t=function(t){return g_(y_,function(e,n,i){return e[i]=g_(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var i=e[2];return t[n]=n,i.forEach(function(e){t[e]=n}),t});var e="far"in y_;g_(v_,function(t,n){var i=n[1];return"far"!==i||e||(i="fas"),t[n[0]]={prefix:i,iconName:n[2]},t},{})};function w_(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function S_(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,r=t.children,s=void 0===r?[]:r;return"string"==typeof t?l_(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(l_(t[n]),'" ')},"").trim()}(i),">").concat(s.map(S_).join(""),"</").concat(e,">")}function C_(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}__(),(C_.prototype=Object.create(Error.prototype)).constructor=C_;var T_={fill:"currentColor"},k_={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},x_=(wv({},T_,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),wv({},k_,{attributeName:"opacity"}));function E_(t){var e=t[0],n=t[1],i=Sv(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(Fv.familyPrefix,"-").concat(Rv.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Fv.familyPrefix,"-").concat(Rv.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Fv.familyPrefix,"-").concat(Rv.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function O_(){Fv.autoAddCss&&!R_&&(function(t){if(t&&Iv){var e=Ov.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ov.head.childNodes,i=null,r=n.length-1;r>-1;r--){var s=n[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}Ov.head.insertBefore(e,i)}}(function(){var t="fa",e=Av,n=Fv.familyPrefix,i=Fv.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||i!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return r}()),R_=!0)}function I_(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return S_(t)})}}),Object.defineProperty(t,"node",{get:function(){if(Iv){var e=Ov.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function A_(t){var e=t.prefix,n=void 0===e?"fa":e,i=t.iconName;if(i)return w_(D_.definitions,n,i)||w_(Mv.styles,n,i)}wv({},T_,{cx:"256",cy:"364",r:"28"}),wv({},k_,{attributeName:"r",values:"28;14;28;28;14;28;"}),wv({},x_,{values:"1;0;1;1;0;1;"}),wv({},T_,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),wv({},x_,{values:"1;0;0;0;0;1;"}),wv({},T_,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),wv({},x_,{values:"0;0;1;1;0;0;"});var P_,D_=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach(function(e){t.definitions[e]=wv({},t.definitions[e]||{},r[e]),b_(e,r[e]),__()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var i=n[e],r=i.prefix,s=i.iconName,o=i.icon;t[r]||(t[r]={}),t[r][s]=o}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}()),R_=!1,N_=(P_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,i=void 0===n?a_:n,r=e.symbol,s=void 0!==r&&r,o=e.mask,a=void 0===o?null:o,c=e.maskId,l=void 0===c?null:c,u=e.title,h=void 0===u?null:u,d=e.titleId,p=void 0===d?null:d,f=e.classes,m=void 0===f?[]:f,g=e.attributes,b=void 0===g?{}:g,y=e.styles,v=void 0===y?{}:y;if(t){var _=t.prefix,w=t.iconName,S=t.icon;return I_(wv({type:"icon"},t),function(){return O_(),Fv.autoA11y&&(h?b["aria-labelledby"]="".concat(Fv.replacementClass,"-title-").concat(p||c_()):(b["aria-hidden"]="true",b.focusable="false")),m_({icons:{main:E_(S),mask:a?E_(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:wv({},a_,i),symbol:s,title:h,maskId:l,titleId:p,extra:{attributes:b,styles:v,classes:m}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:A_(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:A_(i||{})),P_(n,wv({},e,{mask:i}))});const L_=["*"];let F_=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),j_=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const M_=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,["fa-"+t.size]:null!==t.size,["fa-rotate-"+t.rotate]:null!==t.rotate,["fa-pull-"+t.pull]:null!==t.pull,["fa-stack-"+t.stackItemSize]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let U_=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[i.yb]}),t})(),B_=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-"+t.size.currentValue),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-"+t.size.previousValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275cmp=i.Hb({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[i.yb],ngContentSelectors:L_,decls:1,vars:0,template:function(t,e){1&t&&(i.nc(),i.mc(0))},encapsulation:2}),t})(),V_=(()=>{class t{constructor(t,e,n,i,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=i,this.classes=[],null!=r&&null==i&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const i=A_(e);if(null!=i){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return i}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return t.flipX=!0,t;if(i&&"v"===r)return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(i){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...M_(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=N_(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Vt),i.Nb(F_),i.Nb(j_),i.Nb(U_,8),i.Nb(B_,8))},t.\u0275cmp=i.Hb({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(i.Wb("innerHTML",e.renderedIconHTML,i.Cc),i.Bb("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[i.yb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),z_=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();function q_(t,e){if(1&t&&(i.Tb(0,"div",6),i.Ob(1,"fa-icon",7),i.Sb()),2&t){const t=i.hc(2),e=i.yc(1);i.Ab(1),i.oc("icon",t.icon||e.icon)("fixedWidth",!0)}}function H_(t,e){if(1&t&&(i.Tb(0,"div",8),i.Kc(1),i.Sb()),2&t){const t=i.hc(2),e=i.yc(1);i.Ab(1),i.Mc(" ",t.text||e.text," ")}}function K_(t,e){if(1&t&&(i.Tb(0,"div",3),i.Ic(1,q_,2,2,"div",4),i.Ic(2,H_,2,1,"div",5),i.Sb()),2&t){const t=i.hc(),e=i.yc(1);i.Ab(1),i.oc("ngIf",t.showIcon&&e.icon),i.Ab(1),i.oc("ngIf",t.showText)}}let W_=(()=>{class t{constructor(t){this._share=t,this.showIcon=!0,this.showText=!1,this.size=this._share.config.size,this.theme=this._share.config.theme,this.opened=new i.n,this.closed=new i.n}get buttonClass(){return"sb-button sb-"+this.theme}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(gv))},t.\u0275cmp=i.Hb({type:t,selectors:[["share-button"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb(e.buttonClass)},inputs:{showIcon:"showIcon",showText:"showText",size:"size",theme:"theme",button:"button",url:"url",title:"title",description:"description",image:"image",tags:"tags",autoSetMeta:"autoSetMeta",text:"text",icon:"icon",disabled:"disabled"},outputs:{opened:"opened",closed:"closed"},decls:3,vars:15,consts:[["type","button",1,"sb-wrapper",3,"shareButton","url","image","title","description","tags","autoSetMeta","disabled","opened","closed"],["btn","shareButton"],["class","sb-content",4,"ngIf"],[1,"sb-content"],["class","sb-icon",4,"ngIf"],["class","sb-text",4,"ngIf"],[1,"sb-icon"],[3,"icon","fixedWidth"],[1,"sb-text"]],template:function(t,e){if(1&t&&(i.Tb(0,"button",0,1),i.dc("opened",function(t){return e.opened.emit(t)})("closed",function(t){return e.closed.emit(t)}),i.Ic(2,K_,3,2,"div",2),i.Sb()),2&t){const t=i.yc(1);i.Hc("font-size",14*(1+e.size/20),"px"),i.Fb("sb-show-icon",e.showIcon)("sb-show-text",e.showText),i.oc("shareButton",e.button)("url",e.url)("image",e.image)("title",e.title)("description",e.description)("tags",e.tags)("autoSetMeta",e.autoSetMeta)("disabled",e.disabled),i.Ab(2),i.oc("ngIf",t)}},directives:[bv,q,V_],styles:["[_nghost-%COMP%]{--sb-margin:0.3125em}"],changeDetection:0}),t})(),$_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:uv,useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[yv,z_,ut],yv,z_]}),t})();function G_(t,e){if(1&t){const t=i.Ub();i.Tb(0,"share-button",3),i.dc("opened",function(e){return i.Bc(t),i.hc(2).opened.emit(e)})("closed",function(e){return i.Bc(t),i.hc(2).closed.emit(e)}),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(2);i.oc("button",t)("theme",n.theme)("url",n.url)("title",n.title)("description",n.description)("image",n.image)("tags",n.tags)("autoSetMeta",n.autoSetMeta)("showIcon",n.showIcon)("showText",n.showText)("size",n.size)("disabled",n.disabled)}}function Q_(t,e){if(1&t){const t=i.Ub();i.Tb(0,"expand-button",4),i.dc("toggle",function(e){return i.Bc(t),i.hc(2).updateState({expanded:e})}),i.Sb()}if(2&t){const t=i.hc().$implicit,e=i.hc();i.Db("sb-button sb-",e.theme,""),i.oc("expanded",t.expanded)("moreIcon",t.moreIcon)("lessIcon",t.lessIcon)("size",14*(1+e.size/20))}}function Y_(t,e){if(1&t&&(i.Tb(0,"div"),i.Ic(1,G_,1,12,"share-button",1),i.Ic(2,Q_,1,7,"expand-button",2),i.Sb()),2&t){const t=e.$implicit,n=i.hc();i.Db("sb-group sb-",n.theme,""),i.Ab(1),i.oc("ngForOf",t.selectedButtons),i.Ab(1),i.oc("ngIf",t.shownCount<t.userButtons.length)}}let X_=(()=>{class t{constructor(t){this._share=t,this._state$=new Fa.a({includedButtons:[],excludedButtons:[],userButtons:[],selectedButtons:[],expanded:!0,shownCount:Object.keys(mv).length}),this._configSub$=dc.a.EMPTY,this.theme=this._share.config.theme,this.showIcon=!0,this.showText=!1,this.size=0,this.opened=new i.n,this.closed=new i.n}ngOnInit(){this.state$=this._state$.pipe(Object(Vi.a)(t=>{const e=t.includedButtons&&t.includedButtons.length?t.includedButtons:t.userButtons,n=t.excludedButtons?e.filter(e=>t.excludedButtons.indexOf(e)<0):e,i=n.slice(0,t.expanded?n.length:t.shownCount);return{userButtons:n,selectedButtons:i,expanded:t.expanded,shownCount:t.shownCount,moreIcon:t.moreIcon,lessIcon:t.lessIcon}})),this._configSub$=this._share.config$.subscribe(t=>{const e=(t.include.length?t.include:Object.keys(mv)).filter(e=>t.exclude.indexOf(e)<0);this.updateState({userButtons:e,expanded:!1,moreIcon:t.moreButtonIcon,lessIcon:t.lessButtonIcon})})}ngOnChanges(t){(t.include&&t.include.currentValue!==t.include.previousValue||t.exclude&&t.exclude.currentValue!==t.exclude.previousValue||t.show&&t.show.currentValue!==t.show.previousValue)&&this.updateState({includedButtons:this.include,excludedButtons:this.exclude,shownCount:this.show})}ngOnDestroy(){this._configSub$.unsubscribe(),this._state$.complete()}updateState(t){this._state$.next(Object.assign(Object.assign({},this._state$.value),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(gv))},t.\u0275cmp=i.Hb({type:t,selectors:[["share-buttons"]],inputs:{theme:"theme",showIcon:"showIcon",showText:"showText",size:"size",include:"include",exclude:"exclude",show:"show",url:"url",title:"title",description:"description",image:"image",tags:"tags",autoSetMeta:"autoSetMeta",disabled:"disabled"},outputs:{opened:"opened",closed:"closed"},features:[i.yb],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[3,"button","theme","url","title","description","image","tags","autoSetMeta","showIcon","showText","size","disabled","opened","closed",4,"ngFor","ngForOf"],[3,"class","expanded","moreIcon","lessIcon","size","toggle",4,"ngIf"],[3,"button","theme","url","title","description","image","tags","autoSetMeta","showIcon","showText","size","disabled","opened","closed"],[3,"expanded","moreIcon","lessIcon","size","toggle"]],template:function(t,e){1&t&&(i.Ic(0,Y_,3,5,"div",0),i.ic(1,"async")),2&t&&i.oc("ngIf",i.jc(1,1,e.state$))},directives:function(){return[q,V,W_,J_]},pipes:function(){return[it]},styles:["[_nghost-%COMP%]{--sb-margin:0.3125em;display:inherit}"],changeDetection:0}),t})(),J_=(()=>{class t{constructor(t){this.toggle=new i.n,t.nativeElement.style.setProperty("--button-color","#FF6651")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l))},t.\u0275cmp=i.Hb({type:t,selectors:[["expand-button"]],inputs:{moreIcon:"moreIcon",lessIcon:"lessIcon",expanded:"expanded",size:"size"},outputs:{toggle:"toggle"},decls:4,vars:3,consts:[[1,"sb-wrapper","sb-expand","sb-show-icon",3,"click"],[1,"sb-content"],[1,"sb-icon"],[3,"icon"]],template:function(t,e){1&t&&(i.Tb(0,"button",0),i.dc("click",function(){return e.toggle.emit(!e.expanded)}),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Ob(3,"fa-icon",3),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Hc("font-size",e.size,"px"),i.Ab(3),i.oc("icon",e.expanded?e.lessIcon:e.moreIcon))},directives:[V_],encapsulation:2,changeDetection:0}),t})(),Z_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:uv,useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[$_,ut],$_]}),t})();const tw=[{prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]},{prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},{prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},{prefix:"fab",iconName:"pinterest-p",icon:[384,512,[],"f231","M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"]},{prefix:"fab",iconName:"reddit-alien",icon:[512,512,[],"f281","M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"]},{prefix:"fab",iconName:"tumblr",icon:[320,512,[],"f173","M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"]},{prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},{prefix:"fab",iconName:"viber",icon:[512,512,[],"f409","M444 49.9C431.3 38.2 379.9.9 265.3.4c0 0-135.1-8.1-200.9 52.3C27.8 89.3 14.9 143 13.5 209.5c-1.4 66.5-3.1 191.1 117 224.9h.1l-.1 51.6s-.8 20.9 13 25.1c16.6 5.2 26.4-10.7 42.3-27.8 8.7-9.4 20.7-23.2 29.8-33.7 82.2 6.9 145.3-8.9 152.5-11.2 16.6-5.4 110.5-17.4 125.7-142 15.8-128.6-7.6-209.8-49.8-246.5zM457.9 287c-12.9 104-89 110.6-103 115.1-6 1.9-61.5 15.7-131.2 11.2 0 0-52 62.7-68.2 79-5.3 5.3-11.1 4.8-11-5.7 0-6.9.4-85.7.4-85.7-.1 0-.1 0 0 0-101.8-28.2-95.8-134.3-94.7-189.8 1.1-55.5 11.6-101 42.6-131.6 55.7-50.5 170.4-43 170.4-43 96.9.4 143.3 29.6 154.1 39.4 35.7 30.6 53.9 103.8 40.6 211.1zm-139-80.8c.4 8.6-12.5 9.2-12.9.6-1.1-22-11.4-32.7-32.6-33.9-8.6-.5-7.8-13.4.7-12.9 27.9 1.5 43.4 17.5 44.8 46.2zm20.3 11.3c1-42.4-25.5-75.6-75.8-79.3-8.5-.6-7.6-13.5.9-12.9 58 4.2 88.9 44.1 87.8 92.5-.1 8.6-13.1 8.2-12.9-.3zm47 13.4c.1 8.6-12.9 8.7-12.9.1-.6-81.5-54.9-125.9-120.8-126.4-8.5-.1-8.5-12.9 0-12.9 73.7.5 133 51.4 133.7 139.2zM374.9 329v.2c-10.8 19-31 40-51.8 33.3l-.2-.3c-21.1-5.9-70.8-31.5-102.2-56.5-16.2-12.8-31-27.9-42.4-42.4-10.3-12.9-20.7-28.2-30.8-46.6-21.3-38.5-26-55.7-26-55.7-6.7-20.8 14.2-41 33.3-51.8h.2c9.2-4.8 18-3.2 23.9 3.9 0 0 12.4 14.8 17.7 22.1 5 6.8 11.7 17.7 15.2 23.8 6.1 10.9 2.3 22-3.7 26.6l-12 9.6c-6.1 4.9-5.3 14-5.3 14s17.8 67.3 84.3 84.3c0 0 9.1.8 14-5.3l9.6-12c4.6-6 15.7-9.8 26.6-3.7 14.7 8.3 33.4 21.2 45.8 32.9 7 5.7 8.6 14.4 3.8 23.6z"]},{prefix:"fab",iconName:"vk",icon:[576,512,[],"f189","M545 117.7c3.7-12.5 0-21.7-17.8-21.7h-58.9c-15 0-21.9 7.9-25.6 16.7 0 0-30 73.1-72.4 120.5-13.7 13.7-20 18.1-27.5 18.1-3.7 0-9.4-4.4-9.4-16.9V117.7c0-15-4.2-21.7-16.6-21.7h-92.6c-9.4 0-15 7-15 13.5 0 14.2 21.2 17.5 23.4 57.5v86.8c0 19-3.4 22.5-10.9 22.5-20 0-68.6-73.4-97.4-157.4-5.8-16.3-11.5-22.9-26.6-22.9H38.8c-16.8 0-20.2 7.9-20.2 16.7 0 15.6 20 93.1 93.1 195.5C160.4 378.1 229 416 291.4 416c37.5 0 42.1-8.4 42.1-22.9 0-66.8-3.4-73.1 15.4-73.1 8.7 0 23.7 4.4 58.7 38.1 40 40 46.6 57.9 69 57.9h58.9c16.8 0 25.3-8.4 20.4-25-11.2-34.9-86.9-106.7-90.3-111.5-8.7-11.2-6.2-16.2 0-26.2.1-.1 72-101.3 79.4-135.6z"]},{prefix:"fab",iconName:"facebook-messenger",icon:[512,512,[],"f39f","M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"]},{prefix:"fab",iconName:"telegram-plane",icon:[448,512,[],"f3fe","M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"]},{prefix:"fab",iconName:"mix",icon:[448,512,[],"f3cb","M0 64v348.9c0 56.2 88 58.1 88 0V174.3c7.9-52.9 88-50.4 88 6.5v175.3c0 57.9 96 58 96 0V240c5.3-54.7 88-52.5 88 4.3v23.8c0 59.9 88 56.6 88 0V64H0z"]},{prefix:"fab",iconName:"xing",icon:[384,512,[],"f168","M162.7 210c-1.8 3.3-25.2 44.4-70.1 123.5-4.9 8.3-10.8 12.5-17.7 12.5H9.8c-7.7 0-12.1-7.5-8.5-14.4l69-121.3c.2 0 .2-.1 0-.3l-43.9-75.6c-4.3-7.8.3-14.1 8.5-14.1H100c7.3 0 13.3 4.1 18 12.2l44.7 77.5zM382.6 46.1l-144 253v.3L330.2 466c3.9 7.1.2 14.1-8.5 14.1h-65.2c-7.6 0-13.6-4-18-12.2l-92.4-168.5c3.3-5.8 51.5-90.8 144.8-255.2 4.6-8.1 10.4-12.2 17.5-12.2h65.7c8 0 12.3 6.7 8.5 14.1z"]},{prefix:"fas",iconName:"sms",icon:[512,512,[],"f7cd","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7 1.3 3 4.1 4.8 7.3 4.8 66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128.2 304H116c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H156c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-19 38.6-42.4 38.6zm191.8-8c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8v-68.2l-24.8 55.8c-2.9 5.9-11.4 5.9-14.3 0L224 227.8V296c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V192c0-8.8 7.2-16 16-16h16c6.1 0 11.6 3.4 14.3 8.8l17.7 35.4 17.7-35.4c2.7-5.4 8.3-8.8 14.3-8.8h16c8.8 0 16 7.2 16 16v104zm48.3 8H356c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H396c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-18.9 38.6-42.3 38.6z"]},{prefix:"fas",iconName:"envelope",icon:[512,512,[],"f0e0","M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"]},{prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},{prefix:"fas",iconName:"print",icon:[512,512,[],"f02f","M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"]},{prefix:"fas",iconName:"exclamation",icon:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"]},{prefix:"fas",iconName:"link",icon:[512,512,[],"f0c1","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"]},{prefix:"fas",iconName:"ellipsis-h",icon:[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"]},{prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"fab",iconName:"line",icon:[448,512,[],"f3c0","M272.1 204.2v71.1c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.1 0-2.1-.6-2.6-1.3l-32.6-44v42.2c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.8 0-3.2-1.4-3.2-3.2v-71.1c0-1.8 1.4-3.2 3.2-3.2H219c1 0 2.1.5 2.6 1.4l32.6 44v-42.2c0-1.8 1.4-3.2 3.2-3.2h11.4c1.8-.1 3.3 1.4 3.3 3.1zm-82-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 1.8 1.4 3.2 3.2 3.2h11.4c1.8 0 3.2-1.4 3.2-3.2v-71.1c0-1.7-1.4-3.2-3.2-3.2zm-27.5 59.6h-31.1v-56.4c0-1.8-1.4-3.2-3.2-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 .9.3 1.6.9 2.2.6.5 1.3.9 2.2.9h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.7-1.4-3.2-3.1-3.2zM332.1 201h-45.7c-1.7 0-3.2 1.4-3.2 3.2v71.1c0 1.7 1.4 3.2 3.2 3.2h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2V234c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2v-11.4c-.1-1.7-1.5-3.2-3.2-3.2zM448 113.7V399c-.1 44.8-36.8 81.1-81.7 81H81c-44.8-.1-81.1-36.9-81-81.7V113c.1-44.8 36.9-81.1 81.7-81H367c44.8.1 81.1 36.8 81 81.7zm-61.6 122.6c0-73-73.2-132.4-163.1-132.4-89.9 0-163.1 59.4-163.1 132.4 0 65.4 58 120.2 136.4 130.6 19.1 4.1 16.9 11.1 12.6 36.8-.7 4.1-3.3 16.1 14.1 8.8 17.4-7.3 93.9-55.3 128.2-94.7 23.6-26 34.9-52.3 34.9-81.5z"]}];let ew=(()=>{class t{constructor(t){t.addIcons(...tw)}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(j_))},imports:[[z_]]}),t})(),nw=(()=>{class t{constructor(t,e){this.http=t,this.router=e,this.url=s,this.user=new Fa.a({})}register(t){return this.http.post(this.url+"/register",t)}verifyOtp(t){return this.http.post(this.url+"/otp_verification",t)}sendVerifiedUser(t,e){localStorage.setItem("verifiedUser",JSON.stringify({mobile:t,userType:e}))}getVerifiedUser(){return localStorage.getItem("verifiedUser")}saveUserInfo(t){return this.http.post(this.url+"/set_your_profile",t)}login(t){return this.http.post(this.url+"/signin",t)}forgotPwd(t){return this.http.post(this.url+"/forget_password",t)}resetPwd(t){return this.http.post(this.url+"/set_new_password",t)}storeUser(t){localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("mobile",t.mobile),localStorage.setItem("loggedTime",(new Date).setHours(0,0,0,0).toString()),this.user.next({isLoggedIn:!0,data:t}),this.router.navigate(["/feed"])}authUser(){return this.user.asObservable()}logout(){localStorage.clear(),this.router.navigate(["/"]),this.user.next({isLoggedIn:!1,data:null}),window.open("/","_self")}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rr),i.ac(Oy))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iw=(()=>{class t{constructor(t){this.http=t,this.url=s,this.user=new Lo.a}getUser(){return localStorage.getItem("user")}loggedUserId(){return JSON.parse(this.getUser()).id}getUserById(t){return this.http.post(this.url+"/get_user_profile",t)}fetchAllUser(){let t=this.loggedUserId(),e=JSON.parse(this.getUser());return this.http.get(this.url+"/all_users").pipe(Object(Vi.a)(function(n){let i=n.data.results,r=n.data.urlkey,s=[];return i=i.filter(e=>e.id!==t),i.forEach(function(t){s.push({followed:!!e.following_id&&e.following_id.some(e=>e.follower==t.id),data:t})}),{urlkey:r,users:s}}))}searchUser(t){let e=this.loggedUserId(),n=JSON.parse(this.getUser());return this.http.post(this.url+"/search_people",t).pipe(Object(Vi.a)(function(t){let i=t.data.results,r=t.data.urlkey,s=[];return i=i.filter(t=>t.id!==e&&(2==+t.usertype||3==+t.usertype)),i.forEach(function(t){s.push({followed:!!n.following_id&&n.following_id.some(e=>e.follower==t.id),data:t})}),{urlkey:r,users:s}}))}getSubjects(){return this.http.get(this.url+"/select_subject")}getTags(){return this.http.get(this.url+"/get_tags")}getFollowers(t){return this.http.post(this.url+"/get_follower",t)}getFollowing(t){return this.http.post(this.url+"/get_following",t)}followUser(t){return this.http.post(this.url+"/followto",t)}updateUser(){let t=new FormData;t.append("id",this.loggedUserId()),this.getUserById(t).subscribe(t=>{this.user.next(t.data)})}storeUpdatedUser(){return this.user.asObservable()}createPost(t){return this.http.post(this.url+"/create_post",t)}deletePost(t){return this.http.post(this.url+"/delete_post",t)}getAllPost(t=1,e=""){return this.http.get(this.url+"/get_all_post?per_page="+t+"&subject="+e)}getPostById(t){return this.http.get(this.url+"/get_post_by_id/"+t)}fetchUserFollowing(){let t=[];return JSON.parse(this.getUser()).following_id.forEach(e=>{let n=new FormData;n.append("id",e.follower),t.push(this.http.post(this.url+"/get_user_profile",n))}),t}likePost(t){return this.http.post(this.url+"/post_like",t)}viewReaction(t){return this.http.post(this.url+"/post_like_by_user",t)}createChat(t){return this.http.post(this.url+"/create_chat",t)}reportUser(t){return this.http.post(this.url+"/user_report",t)}reportPost(t){return this.http.post(this.url+"/post_report",t)}rateTeacher(t){return this.http.post(this.url+"/user_rating",t)}getRating(t){return this.http.post(this.url+"/ratingByID",t)}commentOnPost(t){return this.http.post(this.url+"/users_comment",t)}deleteComment(t){return this.http.post(this.url+"/comment_delete",t)}likeComment(t){return this.http.post(this.url+"/comment_reaction",t)}viewCommentReaction(t){return this.http.post(this.url+"/comment_like_by_user",t)}userComments(t){return this.http.post(this.url+"/count_comment_by_id",t)}sendQuery(t){return this.http.post(this.url+"/contact_us",t)}getTotalData(){return this.http.get(this.url+"/count_all_data")}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rw=(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.userService=n,this.isLoggedIn=!1,this.authService.user.subscribe(t=>{this.isLoggedIn=t.isLoggedIn});let i=JSON.parse(this.userService.getUser());i&&i.mobile&&(this.isLoggedIn=i.mobile==localStorage.getItem("mobile"))}canActivate(t,e){return!!this.isLoggedIn||(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Oy),i.ac(nw),i.ac(iw))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sw=["otpVerify"],ow=["resetPwd"],aw=function(t){return{"fa-eye-slash":t}};function cw(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",15),i.Tb(1,"div",16),i.Tb(2,"div",17),i.Tb(3,"div",18),i.Tb(4,"h5",19),i.Kc(5," Reset Password"),i.Sb(),i.Sb(),i.Tb(6,"div",20),i.Tb(7,"h6",21),i.Kc(8,"Kindly reset your password"),i.Sb(),i.Tb(9,"form",22,23),i.dc("submit",function(){i.Bc(t);const e=i.yc(10);return i.hc().onResetPwd(e)}),i.Tb(11,"div",2),i.Tb(12,"label",3),i.Kc(13,"Password*"),i.Sb(),i.Ob(14,"input",24),i.Tb(15,"span",25),i.dc("click",function(){return i.Bc(t),i.hc().togglePwd()}),i.Sb(),i.Sb(),i.Tb(16,"div",2),i.Tb(17,"label",3),i.Kc(18,"Confirm password*"),i.Sb(),i.Ob(19,"input",26),i.Tb(20,"span",25),i.dc("click",function(){return i.Bc(t),i.hc().toggleConfirmPwd()}),i.Sb(),i.Sb(),i.Tb(21,"div",27),i.Tb(22,"button",28),i.Kc(23,"Save"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.yc(10),e=i.hc();i.Ab(14),i.oc("type",e.showPwd?"text":"password"),i.Ab(1),i.oc("ngClass",i.sc(5,aw,e.showPwd)),i.Ab(4),i.oc("type",e.showConfirmPwd?"text":"password"),i.Ab(1),i.oc("ngClass",i.sc(7,aw,e.showConfirmPwd)),i.Ab(2),i.oc("disabled",t.invalid)}}function lw(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",29),i.Tb(1,"div",16),i.Tb(2,"div",17),i.Tb(3,"div",18),i.Tb(4,"h5",19),i.Kc(5," FORGOT PASSWORD"),i.Sb(),i.Sb(),i.Tb(6,"div",20),i.Tb(7,"p",30),i.Kc(8,"Please enter your registered mobile number & we will send you a verification code so that you can reset your password."),i.Sb(),i.Tb(9,"form",22,31),i.dc("submit",function(){i.Bc(t);const e=i.yc(10);return i.hc().onForgotPwd(e)}),i.Tb(11,"div",32),i.Tb(12,"label",3),i.Kc(13,"Phone No"),i.Sb(),i.Ob(14,"input",33),i.Sb(),i.Tb(15,"div",7),i.Tb(16,"button",34),i.dc("click",function(){return i.Bc(t),i.hc().backToLogin()}),i.Kc(17,"Back to Login"),i.Sb(),i.Tb(18,"button",8),i.Kc(19,"Get OTP"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.yc(10);i.Ab(18),i.oc("disabled",t.invalid)}}function uw(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",35),i.Tb(1,"div",16),i.Tb(2,"div",17),i.Tb(3,"div",18),i.Tb(4,"h5",19),i.Kc(5,"OTP VERIFICATION"),i.Sb(),i.Sb(),i.Tb(6,"div",20),i.Tb(7,"p",30),i.Kc(8,"Please enter the One Time Password received on your registered mobile number or email to verify your account. "),i.Sb(),i.Tb(9,"h6",30),i.Kc(10,"VERIFY YOUR ACCOUNT"),i.Sb(),i.Tb(11,"div",36),i.Tb(12,"input",37,38),i.dc("keyup",function(){i.Bc(t);const e=i.yc(13);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(13);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(14,"input",37,39),i.dc("keyup",function(){i.Bc(t);const e=i.yc(15);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(15);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(16,"input",37,40),i.dc("keyup",function(){i.Bc(t);const e=i.yc(17);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(17);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(18,"input",37,41),i.dc("keyup",function(){i.Bc(t);const e=i.yc(19);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(19);return i.hc().goToPrev(n,e)}),i.Sb(),i.Sb(),i.Tb(20,"button",42),i.dc("click",function(){i.Bc(t);const e=i.yc(13),n=i.yc(15),r=i.yc(17),s=i.yc(19);return i.hc().onVerifyOtp(e.value,n.value,r.value,s.value)}),i.Kc(21,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}}const hw=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let dw=(()=>{class t{constructor(t,e,n){this.authService=t,this.modalService=e,this.firebaseAuth=n,this.loading=!1,this.showForgotModal=!1,this.showPwd=!1,this.showConfirmPwd=!1,this.mobile=""}ngOnInit(){}onLogIn(t){this.loading=!0;let e=new FormData;e.append("mobile",t.value.phone),e.append("password",t.value.password),this.authService.login(e).subscribe(t=>{0==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,this.authService.storeUser(t.data))})}onForgotPwd(t){let e=new FormData;e.append("mobile",t.value.phone),this.mobile=t.value.phone,this.loading=!0,this.authService.forgotPwd(e).subscribe(t=>{"false"==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,this.modalRef.hide(),this.openModal(this.otpVerifyModal))})}backToLogin(){this.modalRef.hide()}goToNext(t){let e=t.nextSibling;e&&t.value.length>0&&e.focus()}goToPrev(t,e){let n=e.key,i=t.previousSibling;"Backspace"!==n&&"Delete"!==n||i&&""==t.value&&i.focus()}onVerifyOtp(t,e,n,i){let r=new FormData;r.append("mobile",this.mobile),r.append("otp",+(t+e+n+i)),this.loading=!0,this.authService.verifyOtp(r).subscribe(t=>{"false"==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,this.modalRef.hide(),this.openModal(this.resetPwdModal))})}onResetPwd(t){let e=new FormData;e.append("password",t.value.password),e.append("cpassword",t.value.cpassword),e.append("mobile",this.mobile),this.loading=!0,this.authService.resetPwd(e).subscribe(t=>{"false"==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,alert(t.msg),this.modalRef.hide())})}togglePwd(){this.showPwd=!this.showPwd}toggleConfirmPwd(){this.showConfirmPwd=!this.showConfirmPwd}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"tanito"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(nw),i.Nb(Pa),i.Nb(Rp))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-login-form"]],viewQuery:function(t,e){if(1&t&&(i.Oc(sw,!0),i.Oc(ow,!0)),2&t){let t;i.xc(t=i.ec())&&(e.otpVerifyModal=t.first),i.xc(t=i.ec())&&(e.resetPwdModal=t.first)}},decls:26,vars:4,consts:[[1,"registration-form",3,"submit"],["logInForm","ngForm"],[1,"form-group"],[1,"primary_color","spcllbl"],["type","tel","placeholder","XXXXXXXXXX","name","phone","pattern","^[0-9]*$","minlength","10","ngModel","","required","",1,"form-control"],["type","password","placeholder","********","name","password","ngModel","","required","",1,"form-control","password-field1"],[1,"fwdpass","primary_color","text-right","btn-block","mb-3",3,"click"],[1,"form-group","text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase",3,"disabled"],[1,"text-center","signnote","mb-4"],["routerLink","/register",1,"primary_color","text-uppercase"],["resetPwd",""],["forgotPwd",""],["otpVerify",""],[3,"show","config"],["id","resetmodal",1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"text-uppercase","text-center","mb-4"],[1,"registration-form","w-75","m-auto",3,"submit"],["resetPwdForm","ngForm"],["placeholder","**************","name","password","ngModel","","minlength","5","required","",1,"form-control","password-field1",3,"type"],[1,"fa","fa-fw","fa-eye","field-icon","toggle-password",3,"ngClass","click"],["placeholder","**************","name","cpassword","ngModel","","minlength","5","required","",1,"form-control","password-field1",3,"type"],[1,"form-group","mb-2","text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase","mr-3",3,"disabled"],["id","forgotpmodal",1,"modal_tanito"],[1,"mb-4"],["forgotPwdForm","ngForm"],[1,"form-group","mb-4"],["type","tel","placeholder","+876-9876543210","name","phone","pattern","^[0-9]*$","minlength","10","ngModel","","required","",1,"form-control"],["type","button",1,"btn","btn_primary","btn-sm","text-uppercase","mr-3",3,"click"],["id","signotpmodal",1,"modal_tanito"],[1,"form-group","verfOtp_box"],["type","text","placeholder","0","maxlength","1",1,"form-control","otp-number-input",3,"keyup","keydown"],["otpDigit1",""],["otpDigit2",""],["otpDigit3",""],["otpDigit4",""],["type","button",1,"btn","btn_primary","btn-sm","text-uppercase","mb-2",3,"click"]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"form",0,1),i.dc("submit",function(){i.Bc(t);const n=i.yc(1);return e.onLogIn(n)}),i.Tb(2,"div",2),i.Tb(3,"label",3),i.Kc(4,"Phone No"),i.Sb(),i.Ob(5,"input",4),i.Sb(),i.Tb(6,"div",2),i.Tb(7,"label",3),i.Kc(8,"Password*"),i.Sb(),i.Ob(9,"input",5),i.Sb(),i.Tb(10,"a",6),i.dc("click",function(){i.Bc(t);const n=i.yc(22);return e.openModal(n)}),i.Kc(11,"Forgot your password?"),i.Sb(),i.Tb(12,"div",7),i.Tb(13,"button",8),i.Kc(14,"Sign in"),i.Sb(),i.Sb(),i.Tb(15,"p",9),i.Kc(16," New to Tanito? "),i.Tb(17,"a",10),i.Kc(18,"Sign up"),i.Sb(),i.Sb(),i.Sb(),i.Ic(19,cw,24,9,"ng-template",null,11,i.Jc),i.Ic(21,lw,20,1,"ng-template",null,12,i.Jc),i.Ic(23,uw,22,0,"ng-template",null,13,i.Jc),i.Ob(25,"ngx-loading",14)}if(2&t){const t=i.yc(1);i.Ab(13),i.oc("disabled",t.invalid),i.Ab(12),i.oc("show",e.loading)("config",i.rc(3,hw))}},directives:[Bs,Yr,Fs,Er,to,Ys,Qr,Us,Ws,Ay,Oo,U],styles:[""]}),t})();const pw=function(){return{src:"assets/tanito_advertisement.mp4"}},fw=function(t){return[t]};let mw=(()=>{class t{constructor(t){this.userService=t,this.count=[]}ngOnInit(){this.userService.getTotalData().subscribe(t=>this.count=t.data)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-landing"]],decls:136,vars:8,consts:[["id","home",1,"hero-bg"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-xl-5","col-md-7","col-12"],[1,"banner_content"],[1,"hero-title","primary_color"],[1,"mb-4"],[1,"hide"],[1,"mshow","d-none","sign_arrow"],["src","assets/images/icons/sign_arrow-btm.svg","alt","banner",1,"img-fluid"],[1,"col-xl-7","col-md-5","col-12","d-none","d-md-block"],[1,"banner_img","hide"],["src","assets/images/banner/banner1.svg","alt","banner",1,"img-fluid"],[1,"section","position-relative","people_need","d-none","d-md-block"],[1,"container"],[1,"row","align-items-center","m_column-reverse"],[1,"col-lg-5","offset-lg-1"],[1,"pr-lg-5","mt-4"],[1,"mb-5","primary_color"],["routerLink","/feed",1,"text-purple","text-uppercase","btn_primary","btn-sm"],[1,"col-lg-6"],[1,"people_need-img","mt-4"],["src","assets/images/fing.svg","alt","find people",1,"img-fluid","mx-auto","d-block"],[1,"position-relative","limitless_learning","grey-scale"],[1,"col-lg-6","xsp-0"],[1,"people_need-img"],[1,"video",3,"plyrPlaysInline","plyrSources"],[1,"pr-lg-5","mt-4","pl-5","count-area"],[1,"mb-4","text-dark","d-none","d-md-block","head-title"],[1,"count-list"],[1,"counter-box"],[1,"counter"],["routerLink","/about-us",1,"btn-sm","btn_primary"],[1,"section","position-relative","people_need","d-none","mshow"],["href","student-home.php",1,"text-purple","text-uppercase","btn_primary","btn-sm"],["id","signotpmodal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"form-group","verfOtp_box"],["type","number","placeholder","0","maxlength","1","autocomplete","off",1,"form-control","otp-number-input"],["type","button",1,"btn","btn_primary","btn-sm","text-uppercase","mb-2"],["id","forgotpmodal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal_tanito"],[1,"registration-form","w-75","m-auto"],[1,"form-group","mb-4"],[1,"primary_color","spcllbl"],["type","email","placeholder","+876-9876543210",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase","mr-3"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase"],[1,"text-center","signnote","mt-4"],["href","register.php",1,"primary_color","text-uppercase"],["id","resetmodal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal_tanito"],[1,"text-uppercase","text-center","mb-4"],[1,"form-group"],["type","password","placeholder","**************",1,"form-control","password-field1"],["toggle",".password-field1",1,"fa","fa-fw","fa-eye","field-icon","toggle-password"],[1,"form-group","mb-2","text-center"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"h2",5),i.Kc(6,"Welcome to "),i.Tb(7,"span"),i.Kc(8," Tanito Platform "),i.Sb(),i.Sb(),i.Tb(9,"p",6),i.Tb(10,"span",7),i.Kc(11,"Tanito helps students and teachers connect and discuss any topic or questions. "),i.Sb(),i.Sb(),i.Ob(12,"app-login-form"),i.Tb(13,"div",8),i.Ob(14,"img",9),i.Sb(),i.Sb(),i.Sb(),i.Tb(15,"div",10),i.Tb(16,"div",11),i.Ob(17,"img",12),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(18,"section",13),i.Tb(19,"div",14),i.Tb(20,"div",15),i.Tb(21,"div",16),i.Tb(22,"div",17),i.Tb(23,"h3",18),i.Kc(24," Find the people you need "),i.Sb(),i.Tb(25,"a",19),i.Kc(26,"Get Started"),i.Sb(),i.Sb(),i.Sb(),i.Tb(27,"div",20),i.Tb(28,"div",21),i.Ob(29,"img",22),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(30,"section",23),i.Tb(31,"div",14),i.Tb(32,"div",2),i.Tb(33,"div",24),i.Tb(34,"div",25),i.Ob(35,"plyr",26),i.Sb(),i.Sb(),i.Tb(36,"div",20),i.Tb(37,"div",27),i.Tb(38,"h3",28),i.Kc(39," Get the limitless learning with more possibilities "),i.Sb(),i.Tb(40,"div",29),i.Tb(41,"div",30),i.Tb(42,"span",31),i.Kc(43),i.Sb(),i.Tb(44,"p"),i.Kc(45," Query Posted"),i.Sb(),i.Sb(),i.Tb(46,"div",30),i.Tb(47,"span",31),i.Kc(48),i.Sb(),i.Tb(49,"p"),i.Kc(50," Students Skilled"),i.Sb(),i.Sb(),i.Tb(51,"div",30),i.Tb(52,"span",31),i.Kc(53),i.Sb(),i.Tb(54,"p"),i.Kc(55," Skilled Instructors"),i.Sb(),i.Sb(),i.Sb(),i.Tb(56,"p",6),i.Kc(57,"We can help you reach out to many teachers and student, to know more about us you can go to read more."),i.Sb(),i.Tb(58,"a",32),i.Kc(59," Read More"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(60,"section",33),i.Tb(61,"div",14),i.Tb(62,"div",15),i.Tb(63,"div",16),i.Tb(64,"div",17),i.Tb(65,"h3",18),i.Kc(66," Find the people you need "),i.Sb(),i.Tb(67,"a",34),i.Kc(68,"Get Started"),i.Sb(),i.Sb(),i.Sb(),i.Tb(69,"div",20),i.Tb(70,"div",21),i.Ob(71,"img",22),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(72,"div",35),i.Tb(73,"div",36),i.Tb(74,"div",37),i.Tb(75,"div",38),i.Tb(76,"h5",39),i.Kc(77,"OTP VERIFICATION"),i.Sb(),i.Sb(),i.Tb(78,"div",40),i.Tb(79,"p",6),i.Kc(80,"Please enter the One Time Password received on your registered mobile number or email to verify your account. "),i.Sb(),i.Tb(81,"h6",6),i.Kc(82,"VERIFY YOUR ACCOUNT"),i.Sb(),i.Tb(83,"div",41),i.Ob(84,"input",42),i.Ob(85,"input",42),i.Ob(86,"input",42),i.Ob(87,"input",42),i.Sb(),i.Tb(88,"button",43),i.Kc(89,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(90,"div",44),i.Tb(91,"div",36),i.Tb(92,"div",37),i.Tb(93,"div",38),i.Tb(94,"h5",39),i.Kc(95," FORGOT PASSWORD"),i.Sb(),i.Sb(),i.Tb(96,"div",40),i.Tb(97,"p",6),i.Kc(98,"Please enter your registered mobile number & we will send you a verification code so that you can reset your password."),i.Sb(),i.Tb(99,"form",45),i.Tb(100,"div",46),i.Tb(101,"label",47),i.Kc(102,"Phone No"),i.Sb(),i.Ob(103,"input",48),i.Sb(),i.Tb(104,"div",49),i.Tb(105,"button",50),i.Kc(106,"Back to Login"),i.Sb(),i.Tb(107,"button",51),i.Kc(108,"Get OTP"),i.Sb(),i.Sb(),i.Sb(),i.Tb(109,"p",52),i.Kc(110," New to Tanito? "),i.Tb(111,"a",53),i.Kc(112," Sign up"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(113,"div",54),i.Tb(114,"div",36),i.Tb(115,"div",37),i.Tb(116,"div",38),i.Tb(117,"h5",39),i.Kc(118," Reset Password"),i.Sb(),i.Sb(),i.Tb(119,"div",40),i.Tb(120,"h6",55),i.Kc(121,"Kindly reset your password"),i.Sb(),i.Tb(122,"form",45),i.Tb(123,"div",56),i.Tb(124,"label",47),i.Kc(125,"Password*"),i.Sb(),i.Ob(126,"input",57),i.Ob(127,"span",58),i.Sb(),i.Tb(128,"div",56),i.Tb(129,"label",47),i.Kc(130,"Confirm password*"),i.Sb(),i.Ob(131,"input",57),i.Ob(132,"span",58),i.Sb(),i.Tb(133,"div",59),i.Tb(134,"button",50),i.Kc(135,"Done "),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(35),i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(6,fw,i.rc(5,pw))),i.Ab(8),i.Mc("",e.count.post," "),i.Ab(5),i.Mc("",e.count.student," "),i.Ab(5),i.Lc(e.count.teacher))},directives:[dw,Ay,Va,Bs,Yr,Fs],styles:[".plyr--video{height:100%}.video{height:420px}"],encapsulation:2}),t})(),gw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"container"],[1,"row","align-items-center"],[1,"col-lg-6","col-md-7","col-12"],[1,"register_tab_area","p-lg-5"],[1,"register_title","mb-4"],[1,"register_tab"],[1,"title","mb-4"],[1,"col-lg-6","col-md-5","col-12","d-none","d-md-block"],[1,"sign-img","p-lg-4"],["src","assets/images/sign_pic.svg","alt","Sign",1,"img-fluid"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"h4"),i.Kc(6,"Sign In"),i.Sb(),i.Tb(7,"p"),i.Kc(8,"Please continue with your credentials"),i.Sb(),i.Sb(),i.Tb(9,"div",5),i.Tb(10,"h4",6),i.Kc(11," Hello, "),i.Tb(12,"span"),i.Kc(13,"Welcome Back!"),i.Sb(),i.Sb(),i.Ob(14,"app-login-form"),i.Sb(),i.Sb(),i.Sb(),i.Tb(15,"div",7),i.Tb(16,"div",8),i.Ob(17,"img",9),i.Sb(),i.Sb(),i.Sb(),i.Sb())},directives:[dw],styles:[""]}),t})();n("MSNS"),n("4XzM"),n("n5rO");let bw=(()=>{class t{constructor(t){this.document=t}promptForVideo(){return new Promise((t,e)=>{const n=this.document.createElement("input");n.type="file",n.accept="video/*",n.setAttribute("capture","camera"),n.addEventListener("error",t=>{e(t.error)}),n.addEventListener("change",e=>{t(n.files[0])})})}generateThumbnail(t,e){const n=this.document.createElement("video"),i=this.document.createElement("canvas"),r=i.getContext("2d");return new Promise((s,o)=>{n.onloadedmetadata=function(){e?n.duration>180&&o("Upload video of less than 180 seconds!"):n.duration>30&&o("Upload video of less than 30 seconds!")},n.addEventListener("canplay",t=>{i.width=n.videoWidth,i.height=n.videoHeight,r.drawImage(n,0,0,n.videoWidth,n.videoHeight),s(i.toDataURL())}),t.type&&n.setAttribute("type",t.type),n.preload="auto",n.src=window.URL.createObjectURL(t),n.load()})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var yw=n("zp1y"),vw=n("32Ea");function _w(t){return null==t}function ww(t){return"function"==typeof t.set}function Sw(t,e){return ww(e)?e:t.ref(e)}function Cw(t,e){if("string"==typeof t)return e.stringCase();if(ww(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Tw(t,e,n="on",i=_p.b){return new Mi.a(r=>{let s=null;return s=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"===n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(Object(Vi.a)(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),Object(ud.a)())}function kw(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function xw(t,e){const{payload:n,prevKey:i,key:r}=e,s=kw(t,r),o=function(t,e){if(_w(e))return 0;{const n=kw(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(s>-1){const r=t[s-1];(r&&r.key||null)!==i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function Ew(t){return(_w(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ow(t,e,n){return function(t,e,n){return Tw(t,"value","once",n).pipe(Object(Ma.a)(i=>{const r=[Object(ji.a)(i)];return e.forEach(e=>r.push(Tw(t,e,"on",n))),Object(Fo.a)(...r).pipe(Object(wp.a)(xw,[]))}),Object(Fu.a)())}(t,e=Ew(e),n)}function Iw(t,e,n){const i=(e=Ew(e)).map(e=>Tw(t,e,"on",n));return Object(Fo.a)(...i)}function Aw(t,e){return function(n,i){return Cw(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Pw(t,e){return function(){return Tw(t,"value","on",e)}}n("NSPt");const Dw=new i.q("angularfire2.realtimeDatabaseURL"),Rw=new i.q("angularfire2.database.use-emulator");let Nw=(()=>{class t{constructor(t,e,n,i,r,s,o){this.schedulers=new vp.d(r),this.keepUnstableUntilFirst=Object(vp.h)(this.schedulers);const a=s,c=Object(vp.g)(t,r,e);!Tp.a.auth&&o&&Object(vp.j)(),this.database=Object(vp.f)(`${c.name}.database.${n}`,"AngularFireDatabase",c,()=>{const t=r.runOutsideAngular(()=>c.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Sw(this.database,t));let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Aw(i,"update"),set:Aw(i,"set"),push:t=>i.push(t),remove:(r=i,function(t){return t?Cw(t,{stringCase:()=>r.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):r.remove()}),snapshotChanges:i=>Ow(t,i,n).pipe(e.keepUnstableUntilFirst),stateChanges:i=>Iw(t,i,n).pipe(e.keepUnstableUntilFirst),auditTrail:i=>function(t,e,n){return function(t,e,n){return function(t,e){return Tw(t,"value","on",e).pipe(Object(Vi.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(Object(yw.a)(e),Object(Vi.a)(([t,e])=>{const n=t.lastKeyToLoad,i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),Object(vw.a)(t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad)),Object(Vi.a)(t=>t.actions))}(t,Iw(t,e).pipe(Object(wp.a)((t,e)=>[...t,e],[])),n)}(t,i,n).pipe(e.keepUnstableUntilFirst),valueChanges:(i,r)=>Ow(t,i,n).pipe(Object(Vi.a)(t=>t.map(t=>r&&r.idField?Object.assign(Object.assign({},t.payload.val()),{[r.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var r}(i,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>Sw(this.database,t));return i=this,{query:n=e,snapshotChanges:()=>Pw(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Pw(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,Object(Vi.a)(t=>t.payload.exists()?t.payload.val():null))};var n,i}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(i.ac(vp.c),i.ac(vp.b,8),i.ac(Dw,8),i.ac(i.B),i.ac(i.z),i.ac(Rw,8),i.ac(Ep,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(vp.c),Object(i.ac)(vp.b,8),Object(i.ac)(Dw,8),Object(i.ac)(i.B),Object(i.ac)(i.z),Object(i.ac)(Rw,8),Object(i.ac)(Ep,8))},token:t,providedIn:"any"}),t})(),Lw=(()=>{class t{constructor(t,e,n,i){this.db=t,this.authService=e,this.userService=n,this.http=i,this.url=s,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.authService.user.subscribe(t=>{this.loggedUser=t.data}),this.loggedUser=JSON.parse(this.userService.getUser())}sendNotification(t,e,n){const i=Date();this.getNotification(t).push({notification:n,userPic:this.profilePath+e,timestamp:i,isRead:!1})}getNotification(t){return this.db.list("/notifications/"+t)}readNotification(){let t=this.loggedUser.id,e=this.db;this.db.database.ref("/notifications/").once("value").then(function(n){let i=n.child(t).val();for(const r in i)e.list("/notifications/"+t).update(r,{isRead:!0})})}getAnnouncement(){return this.http.get(this.url+"/notification")}announcementUrlArr(t,e){let n=[];return t.forEach(t=>{let i=new FormData;i.append("user_id",e),i.append("noti_id",t),n.push(this.http.post(this.url+"/read_notification",i))}),n}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Nw),i.ac(nw),i.ac(iw),i.ac(rr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fw=(()=>{class t{constructor(t){this.userService=t,this.loggedUser=JSON.parse(this.userService.getUser()),this.currentPlan=this.loggedUser.plan_subcription[this.loggedUser.plan_subcription.length-1]}getCurrentPlan(){return this.currentPlan}isPlanExpired(){return new Date>new Date(this.currentPlan.end_date)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(iw))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jw=(()=>{class t{constructor(t,e){this.renderer=t,this.el=e}onClick(t){t.stopPropagation();let e=this.el.nativeElement.nextSibling;e.classList.contains("show")?this.renderer.removeClass(e,"show"):(document.querySelectorAll(".dropdown-menu").forEach(function(t){t.classList.remove("show")}),this.renderer.addClass(e,"show"))}clickOutside(){document.querySelectorAll(".dropdown-menu").forEach(function(t){t.classList.remove("show")})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.E),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","appShowMenu",""]],hostBindings:function(t,e){1&t&&i.dc("click",function(t){return e.onClick(t)})("click",function(){return e.clickOutside()},!1,i.zc)}}),t})(),Mw=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e}onClick(){let t=this.el.nativeElement.parentElement.querySelector(".content-body");t.classList.contains("clipped")?(this.renderer.removeClass(t,"clipped"),this.el.nativeElement.innerHTML="...Read Less"):(this.renderer.addClass(t,"clipped"),this.el.nativeElement.innerHTML="Read More...")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","appToggleContent",""]],hostBindings:function(t,e){1&t&&i.dc("click",function(){return e.onClick()})}}),t})(),Uw=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e}onClick(){let t=this.el.nativeElement.parentElement.parentElement.querySelector(".comment-box");t.classList.contains("show")?(this.renderer.removeClass(t,"show"),this.el.nativeElement.style.fill="#474747"):(this.renderer.addClass(t,"show"),this.el.nativeElement.style.fill="#514DC5")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","appShowCommentBox",""]],hostBindings:function(t,e){1&t&&i.dc("click",function(){return e.onClick()})}}),t})(),Bw=(()=>{class t{transform(t){return t.sort((t,e)=>new Date(e.created)-new Date(t.created))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"recentPost",type:t,pure:!0}),t})(),Vw=(()=>{class t{transform(t,...e){let n=new Date(t),i=n.getDate(),r=n.toLocaleString("default",{month:"short"}),s=n.getFullYear(),o=new Date,a=Math.abs(o-n),c=a/36e5,l=Math.floor(a/1e3/60);return 0==l?"Just now":c<1?1==l?l+" minute ago":l+" minutes ago":c<=24?1==l?l+" hour ago":c.toFixed(0)+" hours ago":i+" "+r+" "+s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"postCreated",type:t,pure:!0}),t})();const zw=["viewReactions"],qw=["postBlock"];function Hw(t,e){if(1&t&&(i.Tb(0,"li"),i.Kc(1),i.ic(2,"lowercase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc("#",i.jc(2,1,t),"")}}function Kw(t,e){if(1&t&&(i.Tb(0,"ul",57),i.Ic(1,Hw,3,3,"li",58),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.oc("ngForOf",t.tags.split(","))}}function Ww(t,e){if(1&t&&i.Ob(0,"img",59),2&t){const t=i.hc().$implicit,e=i.hc(2);i.oc("src",e.imageDirPath+t.image,i.Dc)}}const $w=function(t){return{src:t}},Gw=function(t){return[t]};function Qw(t,e){if(1&t&&i.Ob(0,"plyr",60),2&t){const t=i.hc().$implicit,e=i.hc(2);i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,Gw,i.sc(2,$w,e.videoDirPath+t.video)))}}function Yw(t,e){if(1&t&&(i.Tb(0,"span",61),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Mc(" \xa0 \xa0 | \xa0 \xa0 ",i.jc(2,1,t.subject),"")}}const Xw=function(t){return{liked:t}};function Jw(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",62),i.Tb(1,"div",63),i.Ob(2,"img",64),i.Tb(3,"div",65),i.Tb(4,"h6",66),i.Kc(5),i.Sb(),i.Tb(6,"p",67),i.Kc(7),i.Sb(),i.Sb(),i.Sb(),i.Tb(8,"div",25),i.Tb(9,"div",26),i.Tb(10,"button",27,28),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit,o=i.hc(2);return o.onLikeComment(s.id,n,o.getCommentLikeType(n.reactionType),r)}),i.Ob(12,"img",29),i.Sb(),i.Tb(13,"div",30),i.Tb(14,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,0,r)}),i.Ob(15,"img",32),i.Sb(),i.Tb(16,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,1,r)}),i.Ob(17,"img",33),i.Sb(),i.Tb(18,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,2,r)}),i.Ob(19,"img",34),i.Sb(),i.Tb(20,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,3,r)}),i.Ob(21,"img",35),i.Sb(),i.Sb(),i.Sb(),i.Tb(22,"span",36),i.Kc(23),i.Sb(),i.Tb(24,"span",40),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(3).onViewCommentReaction(n.commentID)}),i.Ob(25,"i",41),i.Sb(),i.Tb(26,"span",68),i.Kc(27),i.ic(28,"postCreated"),i.Sb(),i.Tb(29,"button",69),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(3).onDeleteComment(n)}),i.Ob(30,"i",70),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(3);i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id)("src",t.profile_img?n.profilePath+t.profile_img:n.userAvatar,i.Dc),i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id),i.Ab(1),i.Lc(t.username),i.Ab(2),i.Lc(t.comment),i.Ab(3),i.oc("ngClass",i.sc(12,Xw,n.isCommentLiked(t.reactionType))),i.Ab(2),i.oc("src",n.checkCommentLikeType(t.reactionType),i.Dc),i.Ab(11),i.Lc(t.reactionType.length),i.Ab(4),i.Mc("\xa0 \xa0 | \xa0 \xa0 ",i.jc(28,10,t.created),""),i.Ab(2),i.oc("hidden",t.user_id!==n.loggedUser.id)}}function Zw(t,e){1&t&&(i.Tb(0,"p",71),i.Kc(1,"Be the first to comment!"),i.Sb())}const tS=function(t){return{clipped:t}},eS=function(){return["facebook","twitter","linkedin","pinterest","reddit","copy"]};function nS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",6),i.Tb(1,"div",7),i.Tb(2,"div",8),i.Ob(3,"img",9),i.Sb(),i.Tb(4,"div",10),i.Tb(5,"div",11),i.Tb(6,"h3"),i.Kc(7),i.Sb(),i.Ob(8,"img",12),i.Sb(),i.Tb(9,"p"),i.Kc(10),i.ic(11,"postCreated"),i.Sb(),i.Sb(),i.Tb(12,"div",13),i.Tb(13,"button",14),i.Ob(14,"img",15),i.Sb(),i.Tb(15,"div",16),i.Tb(16,"ul"),i.Tb(17,"li"),i.Tb(18,"a",17),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onDeletePost(n.id)}),i.Kc(19,"Delete Post"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(20,"div",18),i.Tb(21,"p",19),i.Kc(22),i.Sb(),i.Tb(23,"a",20),i.Kc(24,"Read More..."),i.Sb(),i.Ic(25,Kw,2,1,"ul",21),i.Ic(26,Ww,1,1,"img",22),i.Ic(27,Qw,1,6,"plyr",23),i.Sb(),i.Tb(28,"p",24),i.Kc(29),i.ic(30,"titlecase"),i.Sb(),i.Tb(31,"div",25),i.Tb(32,"div",26),i.Tb(33,"button",27,28),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(34),s=i.hc(2);return s.onLikePost(n.id,s.getLikeType(n.likes),r)}),i.Ob(35,"img",29),i.Sb(),i.Tb(36,"div",30),i.Tb(37,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(34);return i.hc(2).onLikePost(n.id,0,r)}),i.Ob(38,"img",32),i.Sb(),i.Tb(39,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(34);return i.hc(2).onLikePost(n.id,1,r)}),i.Ob(40,"img",33),i.Sb(),i.Tb(41,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(34);return i.hc(2).onLikePost(n.id,2,r)}),i.Ob(42,"img",34),i.Sb(),i.Tb(43,"button",31),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(34);return i.hc(2).onLikePost(n.id,3,r)}),i.Ob(44,"img",35),i.Sb(),i.Sb(),i.Sb(),i.Tb(45,"span",36),i.Kc(46),i.Sb(),i.gc(),i.Tb(47,"svg",37),i.Tb(48,"g"),i.Tb(49,"g",38),i.Tb(50,"g"),i.Ob(51,"path",39),i.Sb(),i.Sb(),i.Sb(),i.Ob(52,"g"),i.Ob(53,"g"),i.Ob(54,"g"),i.Ob(55,"g"),i.Ob(56,"g"),i.Ob(57,"g"),i.Ob(58,"g"),i.Ob(59,"g"),i.Ob(60,"g"),i.Ob(61,"g"),i.Ob(62,"g"),i.Ob(63,"g"),i.Ob(64,"g"),i.Ob(65,"g"),i.Ob(66,"g"),i.Sb(),i.fc(),i.Tb(67,"span",36),i.Kc(68),i.Sb(),i.Tb(69,"span",40),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onViewReaction(n.id)}),i.Ob(70,"i",41),i.Sb(),i.Ic(71,Yw,3,3,"span",42),i.Tb(72,"div",43),i.Ob(73,"share-buttons",44),i.Tb(74,"button",45,46),i.dc("click",function(){i.Bc(t);const e=i.yc(75);return i.hc(2).toggleShareGroup(e)}),i.Ob(76,"img",47),i.Sb(),i.Sb(),i.Sb(),i.Tb(77,"div",48),i.Tb(78,"div",49),i.Ic(79,Jw,31,14,"div",50),i.Sb(),i.Ic(80,Zw,2,0,"p",51),i.Tb(81,"form",52,53),i.dc("submit",function(){i.Bc(t);const n=e.$implicit,r=i.yc(82);return i.hc(2).onCommentOnPost(n.id,r)}),i.Ob(83,"input",54),i.Tb(84,"button",55),i.Ob(85,"i",56),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.yc(82),r=i.hc(2);i.Ab(3),i.oc("src",r.myData.profile_img.length>0?r.profilePath+r.myData.profile_img:r.userAvatar,i.Dc),i.Ab(4),i.Lc(r.myData.username),i.Ab(1),i.oc("src",3==r.myData.usertype?r.studentIcon:r.teacherIcon,i.Dc),i.Ab(2),i.Nc("",(3==r.myData.usertype?"Student at ":"Teacher at ")+r.myData.university," \xa0 | \xa0 ",i.jc(11,24,t.created),""),i.Ab(11),i.oc("ngClass",i.sc(28,tS,t.body.length>500)),i.Ab(1),i.Mc(" ",t.body," "),i.Ab(1),i.oc("hidden",t.body.length<500),i.Ab(2),i.oc("ngIf",null!==t.tags?t.tags.length>0:null!==t.tags),i.Ab(1),i.oc("ngIf",t.image.length>0),i.Ab(1),i.oc("ngIf",t.video.length>0),i.Ab(1),i.oc("hidden",0==t.subject.length),i.Ab(1),i.Mc(" ",i.jc(30,26,t.subject),""),i.Ab(4),i.oc("ngClass",i.sc(30,Xw,r.isPostLiked(t.likes))),i.Ab(2),i.oc("src",r.checkLikeType(t.likes),i.Dc),i.Ab(11),i.Lc(t.likes.length),i.Ab(22),i.Lc(t.comment.length),i.Ab(3),i.oc("ngIf",t.subject.length>0),i.Ab(2),i.oc("show",5)("include",i.rc(32,eS))("url",r.baseurl+"/#/post/"+t.id),i.Ab(6),i.oc("ngForOf",t.comment),i.Ab(1),i.oc("ngIf",0==t.comment.length),i.Ab(4),i.oc("disabled",!n.valid)}}function iS(t,e){if(1&t&&(i.Tb(0,"div"),i.Ic(1,nS,86,33,"div",5),i.ic(2,"recentPost"),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.oc("ngForOf",i.jc(2,1,t.myData.user_post_data))}}function rS(t,e){1&t&&(i.Tb(0,"div",6),i.Tb(1,"h5"),i.Kc(2,"You did not post anything yet!"),i.Sb(),i.Sb())}function sS(t,e){if(1&t&&(i.Tb(0,"span",79),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.totalUserReaction.length)}}function oS(t,e){if(1&t&&(i.Kc(0," All "),i.Ic(1,sS,2,1,"span",78)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function aS(t,e){if(1&t&&(i.Tb(0,"div",80),i.Tb(1,"span",81),i.Ob(2,"img",82),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function cS(t,e){if(1&t&&(i.Tb(0,"span",85),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.okUserReaction.length)}}function lS(t,e){if(1&t&&(i.Ob(0,"img",83),i.Ic(1,cS,2,1,"span",84)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function uS(t,e){if(1&t&&(i.Tb(0,"div",80),i.Tb(1,"span",81),i.Ob(2,"img",82),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function hS(t,e){if(1&t&&(i.Tb(0,"span",79),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.innUserReaction.length)}}function dS(t,e){if(1&t&&(i.Ob(0,"img",86),i.Ic(1,hS,2,1,"span",78)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function pS(t,e){if(1&t&&(i.Tb(0,"div",80),i.Tb(1,"span",81),i.Ob(2,"img",82),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function fS(t,e){if(1&t&&(i.Tb(0,"span",79),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.clapUserReaction.length)}}function mS(t,e){if(1&t&&(i.Ob(0,"img",87),i.Ic(1,fS,2,1,"span",78)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function gS(t,e){if(1&t&&(i.Tb(0,"div",80),i.Tb(1,"span",81),i.Ob(2,"img",82),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function bS(t,e){if(1&t&&(i.Tb(0,"span",79),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.goodUserReaction.length)}}function yS(t,e){if(1&t&&(i.Ob(0,"img",88),i.Ic(1,bS,2,1,"span",78)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function vS(t,e){if(1&t&&(i.Tb(0,"div",80),i.Tb(1,"span",81),i.Ob(2,"img",82),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function _S(t,e){if(1&t&&(i.Tb(0,"div",72),i.Tb(1,"div",73),i.Tb(2,"div",74),i.Tb(3,"div",75),i.Tb(4,"h5"),i.Kc(5),i.Sb(),i.Sb(),i.Tb(6,"mat-tab-group"),i.Tb(7,"mat-tab"),i.Ic(8,oS,2,1,"ng-template",76),i.Ic(9,aS,5,3,"div",77),i.Sb(),i.Tb(10,"mat-tab"),i.Ic(11,lS,2,1,"ng-template",76),i.Ic(12,uS,5,3,"div",77),i.Sb(),i.Tb(13,"mat-tab"),i.Ic(14,dS,2,1,"ng-template",76),i.Ic(15,pS,5,3,"div",77),i.Sb(),i.Tb(16,"mat-tab"),i.Ic(17,mS,2,1,"ng-template",76),i.Ic(18,gS,5,3,"div",77),i.Sb(),i.Tb(19,"mat-tab"),i.Ic(20,yS,2,1,"ng-template",76),i.Ic(21,vS,5,3,"div",77),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(5),i.Lc(t.reactionModalTitle),i.Ab(4),i.oc("ngForOf",t.totalUserReaction),i.Ab(3),i.oc("ngForOf",t.okUserReaction),i.Ab(3),i.oc("ngForOf",t.innUserReaction),i.Ab(3),i.oc("ngForOf",t.clapUserReaction),i.Ab(3),i.oc("ngForOf",t.goodUserReaction)}}const wS=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let SS=(()=>{class t{constructor(t,e,n,i){this.userService=t,this.modalService=e,this.notificationService=n,this.myPlanService=i,this.loading=!1,this.reactionFetched=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.imageDirPath="https://tanito.in/admin/assets/user-post-media/image/",this.videoDirPath="https://tanito.in/admin/assets/user-post-media/video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png"}ngOnInit(){this.loggedUser=JSON.parse(this.userService.getUser()),this.userService.updateUser(),this.userService.storeUpdatedUser().subscribe(t=>{this.myData.user_post_data=t.user_post_data,localStorage.setItem("user",JSON.stringify(this.myData))}),this.baseurl=window.location.origin,this.myPlanService.getCurrentPlan()&&!this.myPlanService.isPlanExpired()&&(this.isPlanActive=!0)}onDeletePost(t){let e=new FormData;e.append("user_id",this.myData.id),e.append("post_id",t),1==confirm("Do you want to delete this post?")&&(this.loading=!0,this.userService.deletePost(e).subscribe(t=>{this.loading=!1,this.userService.updateUser(),this.postBlock.nativeElement.scrollIntoView({behavior:"smooth"})}))}onLikePost(t,e,n){let i=new FormData;i.append("user_id",this.loggedUser.id),i.append("post_id",t),i.append("like_type",e),this.userService.likePost(i).subscribe(t=>{let i=n.parentElement,r=null==i?void 0:i.nextSibling,s=+r.innerHTML,o=n.firstChild;switch(e){case 1:o.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:o.setAttribute("src","assets/images/icons/clap.png");break;case 3:o.setAttribute("src","assets/images/icons/like.png");break;default:o.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(n.classList.add("liked"),s+=1,r.innerHTML=s):0==t.likeStatus&&(n.classList.remove("liked"),s-=1,r.innerHTML=s,o.setAttribute("src","assets/images/icons/like_icon.png")),this.userService.updateUser()})}onViewReaction(t){let e=new FormData;e.append("post_id",t),this.openModal(this.viewReactions),this.userService.viewReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.like_type),this.innUserReaction=e.filter(t=>1==t.like_type),this.clapUserReaction=e.filter(t=>2==t.like_type),this.goodUserReaction=e.filter(t=>3==t.like_type)})}isPostLiked(t){return t.some(t=>t.user_id==this.loggedUser.id)}checkLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?1==e.like_type?"assets/images/icons/lightbulb.png":2==e.like_type?"assets/images/icons/clap.png":3==e.like_type?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?e.like_type:0}changeTabs(t){document.getElementsByClassName("reactions").classList.remove("active"),t.classList.add("active")}onCommentOnPost(t,e){let n=new FormData;n.append("from_id",this.loggedUser.id),n.append("post_id",t),n.append("comment",e.value.comment);let i=this.myData.user_post_data.find(e=>e.id==t),r=new FormData;r.append("id",this.loggedUser.id),this.userService.userComments(r).subscribe(t=>{this.isPlanActive||t.data<5?(this.loading=!0,this.userService.commentOnPost(n).subscribe(t=>{this.loading=!1,i.comment.push(t.data),e.reset()})):alert("Comment limit on one post has reached, Subscribe to our plans to comment further!")})}onDeleteComment(t){let e=new FormData;e.append("comment_id",t.commentID);let n=this.myData.user_post_data.find(e=>e.id==t.post_id);1==confirm("Do you want to delete this comment?")&&(this.loading=!0,this.userService.deleteComment(e).subscribe(e=>{this.loading=!1,n.comment.splice(n.comment.findIndex(e=>e.commentID==t.commentID),1)}))}isCommentLiked(t){return t.some(t=>t.from_id==this.loggedUser.id)}checkCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?1==e.reactionType?"assets/images/icons/lightbulb.png":2==e.reactionType?"assets/images/icons/clap.png":3==e.reactionType?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?+e.reactionType:0}onLikeComment(t,e,n,i){let r=new FormData;r.append("from_id",this.loggedUser.id),r.append("post_id",t),r.append("comment_id",e.commentID),r.append("reactionType",n),this.userService.likeComment(r).subscribe(t=>{let r=i.parentElement,s=null==r?void 0:r.nextSibling,o=+s.innerHTML,a=i.firstChild;switch(n){case 1:a.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:a.setAttribute("src","assets/images/icons/clap.png");break;case 3:a.setAttribute("src","assets/images/icons/like.png");break;default:a.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(i.classList.add("liked"),o+=1,s.innerHTML=o,e.user_id!==this.loggedUser.id&&this.notificationService.sendNotification(e.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has liked your comment: "+e.comment)):0==t.likeStatus&&(i.classList.remove("liked"),o-=1,s.innerHTML=o,a.setAttribute("src","assets/images/icons/like_icon.png")),this.userService.updateUser()})}onViewCommentReaction(t){let e=new FormData;e.append("comment_id",t),this.openModal(this.viewReactions),this.userService.viewCommentReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Comment Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.reactionType),this.innUserReaction=e.filter(t=>1==t.reactionType),this.clapUserReaction=e.filter(t=>2==t.reactionType),this.goodUserReaction=e.filter(t=>3==t.reactionType)})}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"reaction_modal"}))}toggleShareGroup(t){let e=t.previousSibling;e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(Pa),i.Nb(Lw),i.Nb(Fw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-timeline"]],viewQuery:function(t,e){if(1&t&&(i.Oc(zw,!0),i.Gc(qw,!0)),2&t){let t;i.xc(t=i.ec())&&(e.viewReactions=t.first),i.xc(t=i.ec())&&(e.postBlock=t.first)}},inputs:{myData:"myData"},decls:7,vars:5,consts:[["postBlock",""],[4,"ngIf"],["class","custom_card custom_crd_padd",4,"ngIf"],["viewReactions",""],[3,"show","config"],["class","custom_card custom_crd_padd",4,"ngFor","ngForOf"],[1,"custom_card","custom_crd_padd"],[1,"follow_top","d-flex","align-items-center"],[1,"follow_lft","profile-pic"],["alt","profile image",3,"src"],[1,"follow_rht"],[1,"d-flex","align-items-center"],["alt","user type",1,"user-type",3,"src"],[1,"option"],["type","button","appShowMenu","",1,"dots_btn"],["src","assets/images/icons/dots.png","alt","dots"],[1,"dropdown-menu","report","my_account_dropmenu"],[3,"click"],[1,"follow_bdy"],[1,"content-body",3,"ngClass"],["appToggleContent","",1,"read-more-link",3,"hidden"],["class","hashtags",4,"ngIf"],["class","post-img",3,"src",4,"ngIf"],["style","display: block; max-width: 640px;","plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources",4,"ngIf"],[1,"subject","d-block","d-sm-none",3,"hidden"],[1,"follow_ftr"],[1,"action-btn"],["type","button",1,"post-action-btn",3,"ngClass","click"],["likeBtn",""],["alt","icon",3,"src"],[1,"follow_ftr","react-btn-grp"],["type","button",3,"click"],["src","assets/images/icons/like_icon.png","alt","icon"],["src","assets/images/icons/lightbulb.png","alt","icon"],["src","assets/images/icons/clap.png","alt","icon"],["src","assets/images/icons/like.png","alt","icon"],[1,"likes"],["version","1.1","fill","#474747","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","612px","height","612px","viewBox","0 0 612 612",0,"xml","space","preserve","appShowCommentBox","",1,"comment",2,"enable-background","new 0 0 612 612"],["id","_x32__26_"],["d","M401.625,325.125h-191.25c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h191.25\n        c10.557,0,19.125-8.568,19.125-19.125S412.182,325.125,401.625,325.125z M439.875,210.375h-267.75\n        c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h267.75c10.557,0,19.125-8.568,19.125-19.125\n        S450.432,210.375,439.875,210.375z M306,0C137.012,0,0,119.875,0,267.75c0,84.514,44.848,159.751,114.75,208.826V612\n        l134.047-81.339c18.552,3.061,37.638,4.839,57.203,4.839c169.008,0,306-119.875,306-267.75C612,119.875,475.008,0,306,0z\n        M306,497.25c-22.338,0-43.911-2.601-64.643-7.019l-90.041,54.123l1.205-88.701C83.5,414.133,38.25,345.513,38.25,267.75\n        c0-126.741,119.875-229.5,267.75-229.5c147.875,0,267.75,102.759,267.75,229.5S453.875,497.25,306,497.25z"],[1,"view",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["class","subjects d-none d-sm-block",4,"ngIf"],[1,"share-post"],[3,"show","include","url"],["type","button","data-toggle","modal","data-target","#report_mdl",1,"post-action-btn","share-btn",3,"click"],["shareBtn",""],["src","assets/images/icons/share_icon.png","alt","icon"],[1,"comment-box"],[1,"inner-box"],["class","comment-row",4,"ngFor","ngForOf"],["class","no-comment",4,"ngIf"],[1,"write-comment",3,"submit"],["cmntForm","ngForm"],["placeholder","Write your comment here...","type","text","name","comment","required","","ngModel",""],["type","submit",3,"disabled"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"hashtags"],[4,"ngFor","ngForOf"],[1,"post-img",3,"src"],["plyrTitle","Video 1",2,"display","block","max-width","640px",3,"plyrPlaysInline","plyrSources"],[1,"subjects","d-none","d-sm-block"],[1,"comment-row"],[1,"user"],["alt","user",3,"routerLink","src"],[1,"name"],[3,"routerLink"],[1,"comment"],[1,"date"],[1,"dlt-btn",3,"hidden","click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"no-comment"],[1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal_body_top"],["mat-tab-label",""],["class","d-flex align-items-center mb-4",4,"ngFor","ngForOf"],["class","badge badge-primary",4,"ngIf"],[1,"badge","badge-primary"],[1,"d-flex","align-items-center","mb-4"],[1,"profile_dp"],[3,"src","alt"],["src","assets/images/icons/ok.png","alt","reaction"],["class","badge badge-primary ml-",4,"ngIf"],[1,"badge","badge-primary","ml-"],["src","assets/images/icons/lightbulb.png","alt","reaction"],["src","assets/images/icons/clap.png","alt","reaction"],["src","assets/images/icons/like.png","alt","reaction"]],template:function(t,e){1&t&&(i.Ob(0,"div",null,0),i.Ic(2,iS,3,3,"div",1),i.Ic(3,rS,3,0,"div",2),i.Ic(4,_S,22,6,"ng-template",null,3,i.Jc),i.Ob(6,"ngx-loading",4)),2&t&&(i.Ab(2),i.oc("ngIf",e.myData.user_post_data),i.Ab(1),i.oc("ngIf",!e.myData.user_post_data||0==e.myData.user_post_data.length),i.Ab(3),i.oc("show",e.loading)("config",i.rc(4,wS)))},directives:[q,Oo,V,jw,U,Mw,Uw,X_,Bs,Yr,Fs,Er,Ws,Qr,Us,Va,Iy,up,Zd,Gd],pipes:[Bw,Vw,ot,rt],styles:[".hashtags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;color:#007bff}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%}.share-post[_ngcontent-%COMP%]{position:relative;margin-left:auto}.share-post[_ngcontent-%COMP%]   share-buttons[_ngcontent-%COMP%]{position:absolute;bottom:45px;right:-3px;display:none}.share-post[_ngcontent-%COMP%]   share-buttons.show[_ngcontent-%COMP%]{display:block}.subject[_ngcontent-%COMP%]{font-size:14px}"]}),t})(),CS=(()=>{class t{transform(t,...e){return t.slice(0,t.indexOf(" "))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"datefilter",type:t,pure:!0}),t})();const TS=["timeline"],kS=["createPost"],xS=["tagInput"];function ES(t,e){if(1&t){const t=i.Ub();i.Tb(0,"a",72),i.dc("click",function(){i.Bc(t);const e=i.hc();return e.showFullText=!e.showFullText}),i.Kc(1),i.Sb()}if(2&t){const t=i.hc();i.oc("hidden",t.user.description.length<480),i.Ab(1),i.Mc(" ",t.showFullText?"..Read Less":"Read More.."," ")}}const OS=function(t){return{src:t}},IS=function(t){return[t]};function AS(t,e){if(1&t&&(i.Tb(0,"div",41),i.Tb(1,"h4"),i.Ob(2,"img",42),i.Kc(3," Intro Video"),i.Sb(),i.Ob(4,"plyr",73),i.Sb()),2&t){const t=i.hc();i.Ab(4),i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,IS,i.sc(2,OS,t.teacherVideoPath+t.user.video)))}}function PS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",111),i.Ob(1,"img",112),i.Tb(2,"i",113),i.dc("click",function(){return i.Bc(t),i.hc(3).removeImg()}),i.Sb(),i.Sb()}if(2&t){const t=i.hc(3);i.Ab(1),i.oc("src",t.imgThumb,i.Dc)}}function DS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",114),i.Ob(1,"img",112),i.Tb(2,"i",113),i.dc("click",function(){return i.Bc(t),i.hc(3).removeVideo()}),i.Sb(),i.Sb()}if(2&t){const t=i.hc(3);i.Ab(1),i.oc("src",t.videoThumb,i.Dc)}}function RS(t,e){if(1&t&&(i.Tb(0,"div",108),i.Ic(1,PS,3,1,"div",109),i.Ic(2,DS,3,1,"div",110),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.imgThumb.length>0),i.Ab(1),i.oc("ngIf",t.videoThumb.length>0)}}function NS(t,e){if(1&t&&(i.Tb(0,"option",115),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=e.$implicit;i.pc("value",t),i.Ab(1),i.Lc(i.jc(2,2,t))}}function LS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"mat-icon",118),i.dc("click",function(){i.Bc(t);const e=i.hc().$implicit;return i.hc(2).removeTag(e)}),i.Kc(1,"cancel"),i.Sb()}}function FS(t,e){if(1&t&&(i.Tb(0,"mat-chip",116),i.Kc(1),i.ic(2,"titlecase"),i.Ic(3,LS,2,0,"mat-icon",117),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.oc("selectable",n.selectable)("removable",n.removable),i.Ab(1),i.Mc(" ",i.jc(2,4,t)," "),i.Ab(2),i.oc("ngIf",n.removable)}}function jS(t,e){if(1&t&&(i.Tb(0,"mat-option"),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc(" ",i.jc(2,1,t)," ")}}function MS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",74),i.Tb(1,"div",75),i.Tb(2,"div",76),i.Tb(3,"div",77),i.Tb(4,"h5",78),i.Kc(5,"Create Post"),i.Sb(),i.Sb(),i.Tb(6,"div",79),i.Tb(7,"div",80),i.Tb(8,"div",81),i.Ob(9,"img",9),i.Sb(),i.Tb(10,"div",82),i.Tb(11,"h6"),i.Tb(12,"span"),i.Kc(13),i.Sb(),i.Ob(14,"img",83),i.Sb(),i.Tb(15,"p"),i.Kc(16),i.Sb(),i.Sb(),i.Sb(),i.Tb(17,"form",84,85),i.dc("submit",function(){i.Bc(t);const e=i.yc(18);return i.hc().onCreatePost(e)}),i.Tb(19,"div",86),i.Tb(20,"textarea",87),i.Kc(21,"              "),i.Sb(),i.Tb(22,"div",88),i.Tb(23,"div",89),i.Tb(24,"input",90),i.dc("change",function(e){return i.Bc(t),i.hc().onSelectImage(e)}),i.Sb(),i.Tb(25,"p"),i.Ob(26,"i",91),i.Kc(27," Add picture"),i.Sb(),i.Sb(),i.Tb(28,"div",89),i.Tb(29,"input",92),i.dc("change",function(e){return i.Bc(t),i.hc().onSelectVideo(e)}),i.Sb(),i.Tb(30,"p"),i.Ob(31,"i",93),i.Kc(32," Add video (Should not be more than 100 mb)"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Ic(33,RS,3,2,"div",94),i.Tb(34,"div",95),i.Tb(35,"label",96),i.Kc(36,"Select Subjects"),i.Sb(),i.Tb(37,"select",97),i.Ic(38,NS,3,4,"option",98),i.Sb(),i.Sb(),i.Tb(39,"div",95),i.Tb(40,"label",96),i.Kc(41,"Select Tags"),i.Sb(),i.Tb(42,"mat-form-field",99),i.Tb(43,"mat-chip-list",null,100),i.Ic(45,FS,4,6,"mat-chip",101),i.Ob(46,"input",102,103),i.Sb(),i.Tb(48,"mat-autocomplete",104,105),i.dc("optionSelected",function(e){return i.Bc(t),i.hc().selectedTag(e)}),i.Ic(50,jS,3,3,"mat-option",106),i.ic(51,"async"),i.Sb(),i.Sb(),i.Sb(),i.Tb(52,"button",107),i.Kc(53,"Post"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.yc(18),e=i.yc(44),n=i.yc(49),r=i.hc();i.Ab(9),i.oc("src",r.user.profile_img.length>0?r.profilePath+r.user.profile_img:r.userAvatar,i.Dc),i.Ab(4),i.Lc(r.user.username),i.Ab(1),i.oc("src",3==r.user.usertype?r.studentIcon:r.teacherIcon,i.Dc),i.Ab(2),i.Lc((3==r.user.usertype?"Student at ":"Teacher at ")+r.user.university),i.Ab(17),i.oc("ngIf",r.imgThumb.length>0||r.videoThumb.length>0),i.Ab(5),i.oc("ngForOf",r.subjects),i.Ab(7),i.oc("ngForOf",r.selectedTags),i.Ab(1),i.oc("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",r.separatorKeysCodes)("matChipInputAddOnBlur",r.addOnBlur),i.Ab(4),i.oc("ngForOf",i.jc(51,13,r.filteredTags)),i.Ab(2),i.oc("disabled",t.invalid)}}const US=function(t){return{"text-full":t}},BS=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};var VS=new(n("n5rO"));let zS=(()=>{class t{constructor(t,e,n,i,r){this.userService=t,this.route=e,this.modalService=n,this.videoService=i,this.router=r,this.imgThumb="",this.videoThumb="",this.loading=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.teacherVideoPath="https://tanito.in/admin/assets/teacher-video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.showFullText=!1,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.separatorKeysCodes=[uc,188],this.subjectCtrl=new Ps,this.subjects=[],this.selectedTags=[],this.allTags=[],this.userService.storeUpdatedUser().subscribe(t=>{this.user.user_post_data=t.user_post_data,localStorage.setItem("user",JSON.stringify(this.user))}),this.userService.getSubjects().subscribe(t=>{t.data.subjects.forEach(t=>{this.subjects.push(t.subject)})}),this.userService.getTags().subscribe(t=>{t.data.tags.forEach(t=>{this.allTags.push(t.tags)}),this.filteredTags=this.subjectCtrl.valueChanges.startWith(null).map(t=>t?this.filterTag(t):this.allTags.slice())})}removeTag(t){let e=this.selectedTags.indexOf(t);e>=0&&this.selectedTags.splice(e,1)}filterTag(t){return this.allTags.filter(e=>0===e.toLowerCase().indexOf(t.toLowerCase()))}selectedTag(t){if(this.selectedTags.some(e=>e==t.option.viewValue))return alert("This tag is already selected!"),!1;this.selectedTags.push(t.option.viewValue)}get inbox(){return localStorage.getItem("inbox")}ngOnInit(){this.user=JSON.parse(this.userService.getUser()),this.route.snapshot.queryParams.post&&this.openModal(this.createPost),this.myInbox=JSON.parse(this.inbox)}ngAfterContentChecked(){this.myInbox=this.inbox?JSON.parse(this.inbox):{defaultChatroom:0,newMsgs:0}}onSelectImage(t){if(this.selectedImg=t.target.files[0],this.selectedImg.type.includes("image")){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.imgThumb=t.target.result}}}else alert("File type not supported!")}removeImg(){this.selectedImg=null,this.imgThumb=""}removeVideo(){this.selectedVideo=null,this.videoThumb=""}onSelectVideo(t){this.selectedVideo=t.target.files[0],this.videoService.generateThumbnail(this.selectedVideo,!0).then(t=>{this.videoThumb=t}).catch(t=>{alert(t)})}onCreatePost(t){if(VS.isProfane(t.value.body))alert("The post content contains offensive words!");else{let e=new FormData;e.append("user_id",this.user.id),e.append("body",t.value.body),e.append("image",this.selectedImg),e.append("video",this.selectedVideo),e.append("subject",t.value.subject),e.append("tags",this.selectedTags.toString()),this.loading=!0,this.userService.createPost(e).subscribe(e=>{"false"==e.status?(this.loading=!1,alert(e.msg)):(this.loading=!1,t.reset(),this.imgThumb="",this.videoThumb="",this.userService.updateUser(),this.router.navigate(["/myProfile"]),this.modalRef.hide(),this.timelineBlock.nativeElement.scrollIntoView({behavior:"smooth"}))})}}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"tanito"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(sb),i.Nb(Pa),i.Nb(bw),i.Nb(Oy))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-my-profile"]],viewQuery:function(t,e){if(1&t&&(i.Gc(TS,!0),i.Gc(kS,!0),i.Oc(xS,!0)),2&t){let t;i.xc(t=i.ec())&&(e.timelineBlock=t.first),i.xc(t=i.ec())&&(e.createPost=t.first),i.xc(t=i.ec())&&(e.tagInput=t.first)}},decls:124,vars:35,consts:[[1,"student_timeline","student_sec"],[1,"container"],[1,"student_inr"],[1,"user_info_banner","custom_card"],[1,"user_info_top"],[1,"user_info_btm","pb-0"],[1,"row","border_btm"],[1,"col-md-2"],[1,"profile_img"],["alt","user image",3,"src"],[1,"col-md-10","pl-0"],[1,"tag_img"],["alt","user type",1,"user-type",3,"src"],[1,"row","mt-0","mt-sm-3"],[1,"col-md-6"],[1,"user_contact_info"],["href","#"],[3,"ngClass"],[3,"hidden","click",4,"ngIf"],[1,"users_followrs_dt"],[1,"dropdown","text-right"],["type","button","routerLink","/profile-setup","data-toggle","dropdown",1,"purple_btn"],["type","button","routerLink","/feed/my-plans",1,"purple_btn","more_btn"],[1,"user_info_ftr"],[1,"row"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","border_right"],["src","assets/images/icons/users_gray.png","alt","user"],[1,"col-md-6","d-flex","align-items-center","justify-content-center"],["src","assets/images/icons/user_check.png","alt","user"],[1,"col-md-4","col-lg-3"],[1,"student_lft"],[1,"custom_card","sideMenu_box"],["href","#","routerLink","/feed"],["src","assets/images/icons/home.png","alt","home"],["href","#","routerLink","/feed/network"],["src","assets/images/icons/users.png","alt","user"],["routerLinkActive","active",3,"routerLink"],["src","assets/images/icons/message.png","alt","message"],[1,"badge","badge-danger",3,"hidden"],["routerLink","/feed/my-plans"],["src","assets/images/icons/premium.svg","alt","plans"],[1,"custom_card","intro_box"],["src","assets/images/icons/earth-globe.png","alt","icon"],["src","assets/images/icons/graduated.png","alt","graduate"],["src","assets/images/icons/graduation-hat.png","alt","graduation hat"],[3,"hidden"],["src","assets/images/icons/work.svg","alt","work"],["src","assets/images/icons/clock.png","alt","clock"],["src","assets/images/icons/gender.png","alt","gender"],["class","custom_card intro_box",4,"ngIf"],[1,"col-md-8","col-lg-9"],[1,"student_rht","pr-0"],[1,"custom_card","media_card",3,"click"],["timeline",""],[1,"tabs_wraper"],["data-item","write-something",1,"active"],["src","assets/images/icons/edit_icon.png","alt","edit"],["id","write-something",1,"text_box"],["placeholder","Write Something..","id","writeSomething"],["id","upload-img",1,"upload_media","media_box"],["type","file","id","upload_img",1,"d-none"],["for","upload_img"],["src","assets/images/icons/uploadImg.png","alt","image"],["id","upload-video",1,"upload_media","media_box"],["type","file","id","upload_vid",1,"d-none"],["for","upload_vid"],["src","assets/images/icons/upload_video.png","alt","video",1,"mb-2"],[1,"custom_card_ftr"],["id","charCount"],[3,"myData"],["createPost",""],[3,"show","config"],[3,"hidden","click"],["plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources"],[1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"user"],[1,"user-img"],[1,"user-info"],["alt","user type",3,"src"],["action","#",1,"registration-form",3,"submit"],["createPostForm","ngForm"],[1,"post-body"],["name","body","placeholder","Write Something...","ngModel","","required",""],[1,"upload-media"],[1,"upload"],["type","file","name","image","accept","image/*","multiple","",3,"change"],["aria-hidden","true",1,"fa","fa-picture-o"],["type","file","name","video","accept","video/mp4",3,"change"],["aria-hidden","true",1,"fa","fa-video-camera"],["class","media-row",4,"ngIf"],[1,"form-group"],[1,"primary_color","spcllbl"],["name","subject","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"demo-chip-list",2,"width","100%"],["chipList",""],[3,"selectable","removable",4,"ngFor","ngForOf"],["matInput","",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["tagInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","purple_btn",3,"disabled"],[1,"media-row"],["class","cover",4,"ngIf"],["class","cover video",4,"ngIf"],[1,"cover"],["alt","",3,"src"],["aria-hidden","true",1,"remove","fa","fa-times",3,"click"],[1,"cover","video"],[3,"value"],[3,"selectable","removable"],["matChipRemove","",3,"click",4,"ngIf"],["matChipRemove","",3,"click"]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Ob(4,"div",4),i.Tb(5,"div",5),i.Tb(6,"div",6),i.Tb(7,"div",7),i.Tb(8,"div",8),i.Ob(9,"img",9),i.Sb(),i.Sb(),i.Tb(10,"div",10),i.Tb(11,"h2"),i.Kc(12),i.Tb(13,"span",11),i.Ob(14,"img",12),i.Sb(),i.Sb(),i.Tb(15,"div",13),i.Tb(16,"div",14),i.Tb(17,"div",15),i.Tb(18,"a",16),i.Kc(19),i.Sb(),i.Tb(20,"p",17),i.Kc(21),i.Sb(),i.Ic(22,ES,2,2,"a",18),i.Sb(),i.Sb(),i.Tb(23,"div",14),i.Tb(24,"div",19),i.Tb(25,"div",20),i.Tb(26,"button",21),i.Kc(27," Edit Profile "),i.Sb(),i.Tb(28,"button",22),i.Kc(29,"More"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(30,"div",23),i.Tb(31,"div",24),i.Tb(32,"div",25),i.Ob(33,"img",26),i.Tb(34,"span"),i.Kc(35),i.Sb(),i.Sb(),i.Tb(36,"div",27),i.Ob(37,"img",28),i.Tb(38,"span"),i.Kc(39),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(40,"div",24),i.Tb(41,"div",29),i.Tb(42,"div",30),i.Tb(43,"div",31),i.Tb(44,"ul"),i.Tb(45,"li"),i.Tb(46,"a",32),i.Ob(47,"img",33),i.Kc(48," Home "),i.Sb(),i.Sb(),i.Tb(49,"li"),i.Tb(50,"a",34),i.Ob(51,"img",35),i.Kc(52," My Network "),i.Sb(),i.Sb(),i.Tb(53,"li"),i.Tb(54,"a",36),i.Ob(55,"img",37),i.Kc(56," Messages "),i.Tb(57,"span",38),i.Kc(58),i.Sb(),i.Sb(),i.Sb(),i.Tb(59,"li"),i.Tb(60,"a",39),i.Ob(61,"img",40),i.Kc(62," My Plans "),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(63,"div",41),i.Tb(64,"h4"),i.Ob(65,"img",42),i.Kc(66," Intro"),i.Sb(),i.Tb(67,"ul"),i.Tb(68,"li"),i.Ob(69,"img",43),i.Kc(70),i.ic(71,"uppercase"),i.Sb(),i.Tb(72,"li"),i.Ob(73,"img",44),i.Kc(74),i.ic(75,"titlecase"),i.Sb(),i.Tb(76,"li",45),i.Ob(77,"img",46),i.Kc(78),i.ic(79,"titlecase"),i.Sb(),i.Tb(80,"li"),i.Ob(81,"img",47),i.Kc(82),i.ic(83,"datefilter"),i.Sb(),i.Tb(84,"li"),i.Ob(85,"img",48),i.Kc(86),i.ic(87,"titlecase"),i.Sb(),i.Sb(),i.Sb(),i.Ic(88,AS,5,6,"div",49),i.Sb(),i.Sb(),i.Tb(89,"div",50),i.Tb(90,"div",51),i.Tb(91,"div",52,53),i.dc("click",function(){i.Bc(t);const n=i.yc(122);return e.openModal(n)}),i.Tb(93,"div",54),i.Tb(94,"ul"),i.Tb(95,"li",55),i.Ob(96,"img",56),i.Kc(97,"Write a post"),i.Sb(),i.Sb(),i.Sb(),i.Tb(98,"div",57),i.Ob(99,"textarea",58),i.Sb(),i.Tb(100,"div",59),i.Ob(101,"input",60),i.Tb(102,"label",61),i.Ob(103,"img",62),i.Kc(104," Upload image "),i.Sb(),i.Sb(),i.Tb(105,"div",63),i.Ob(106,"input",64),i.Tb(107,"label",65),i.Ob(108,"img",66),i.Kc(109," Upload video "),i.Sb(),i.Sb(),i.Tb(110,"div",67),i.Tb(111,"p"),i.Tb(112,"span"),i.Kc(113,"Put a Question or Post"),i.Sb(),i.Kc(114," on tanito"),i.Sb(),i.Tb(115,"p"),i.Tb(116,"span",68),i.Kc(117,"0"),i.Sb(),i.Kc(118,"/2000"),i.Sb(),i.Sb(),i.Sb(),i.Ob(119,"router-outlet"),i.Ob(120,"app-timeline",69),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Ic(121,MS,54,15,"ng-template",null,70,i.Jc),i.Ob(123,"ngx-loading",71)}2&t&&(i.Ab(9),i.oc("src",e.user.profile_img.length>0?e.profilePath+e.user.profile_img:e.userAvatar,i.Dc),i.Ab(3),i.Mc(" ",e.user.username," "),i.Ab(2),i.oc("src",3==e.user.usertype?e.studentIcon:e.teacherIcon,i.Dc),i.Ab(5),i.Lc(e.user.email),i.Ab(1),i.oc("ngClass",i.sc(32,US,e.showFullText)),i.Ab(1),i.Lc(e.user.description),i.Ab(1),i.oc("ngIf",e.user.description),i.Ab(13),i.Lc(e.user.count_follower),i.Ab(4),i.Lc(e.user.count_following),i.Ab(15),i.oc("routerLink",0==e.myInbox.defaultChatroom?"/feed/inbox":"/feed/inbox/"+e.myInbox.defaultChatroom),i.Ab(3),i.oc("hidden",0==e.myInbox.newMsgs),i.Ab(1),i.Lc(e.myInbox.newMsgs),i.Ab(12),i.Lc(i.jc(71,22,e.user.qualification)),i.Ab(4),i.Lc(i.jc(75,24,e.user.university)),i.Ab(2),i.oc("hidden",3==e.user.usertype),i.Ab(2),i.Lc(i.jc(79,26,e.user.experience+" Year")),i.Ab(4),i.Mc("Joined on ",i.jc(83,28,e.user.created),""),i.Ab(4),i.Lc(i.jc(87,30,e.user.gender)),i.Ab(2),i.oc("ngIf",2==e.user.usertype),i.Ab(32),i.oc("myData",e.user),i.Ab(3),i.oc("show",e.loading)("config",i.rc(34,BS)))},directives:[U,q,Iy,Ay,Dy,Ry,SS,Oo,Va,Bs,Yr,Fs,Er,Qr,Us,Ws,os,V,mu,Au,sd,$h,Du,Vh,as,hs,Cu,kd,Tu,Ll],pipes:[at,ot,CS,it],styles:['@charset "UTF-8";.modal-body .user{display:flex;align-items:center}.modal-body .user .user-img{width:55px;height:55px}.modal-body .user .user-img img{width:100%;height:100%;object-fit:cover;border-radius:50%}.modal-body .user .user-info{text-align:left;margin-left:10px}.modal-body .user .user-info h6{margin-bottom:7px;position:relative;display:inline-block}.modal-body .user .user-info h6 img{position:absolute;top:-7px;right:-45px;width:30px;height:30px}.modal-body .user .user-info p{margin-bottom:0}.modal-body .post-body{margin-bottom:30px}.modal-body .post-body textarea{width:100%;height:130px;outline:none;border:1px solid hsla(0,0%,80%,.8);resize:none;font-size:16px;margin:30px 0 20px;padding:10px}.modal-body .post-body textarea::placeholder{font-size:16px}.modal-body .post-body .upload-media{display:flex;border-bottom:1px solid rgba(0,0,0,.3)}.modal-body .post-body .upload-media .upload{position:relative;margin-right:30px}.modal-body .post-body .upload-media .upload p{margin-bottom:0;font-weight:500;color:rgba(0,0,0,.5)}.modal-body .post-body .upload-media .upload p i{margin-right:3px}.modal-body .post-body .upload-media .upload input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.modal-body .media-row{text-align:left;display:flex;margin-top:25px}.modal-body .media-row .cover{position:relative;margin-right:15px}.modal-body .media-row .cover:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.3)}.modal-body .media-row .cover img{width:150px;height:150px;object-fit:cover}.modal-body .media-row .cover.video:before{background:rgba(0,0,0,.5)}.modal-body .media-row .cover.video:after{position:absolute;content:"\uf144";font:normal normal normal 35px/1 FontAwesome;color:#fff;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.modal-body .media-row .cover .remove{position:absolute;top:7px;right:7px;font-size:24px;color:#fff}.modal-body .form-group{margin:15px 0}.modal-body button{min-width:120px;border-radius:25px;color:#fff}.modal-body .mat-form-field-infix{box-shadow:0 3px 3px rgba(125,59,138,.1411764705882353);border:2px solid #514dc5;border-radius:12px;padding:15px 10px!important}.modal-body .ng-tns-c59-0.ng-star-inserted{opacity:0}.mat-tab-body-content{height:450px!important;overflow:scroll;padding:25px}.mat-tab-label-content .badge{margin-left:5px;background:#514dc5}.mat-tab-label-content img{height:28px}.cdk-overlay-container{z-index:1100}'],encapsulation:2}),t})(),qS=(()=>{class t{constructor(t){this.http=t,this.url=s}aboutUsContent(){return this.http.get(this.url+"/aboutus")}privacyPolicyContent(){return this.http.get(this.url+"/privacypolicy")}termsAndConditionContent(){return this.http.get(this.url+"/termcondition")}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HS=(()=>{class t{constructor(t){this.contentService=t}ngOnInit(){this.contentService.privacyPolicyContent().subscribe(t=>this.body=t.data.result[0].privacypolicy)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(qS))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-privacy-policy"]],decls:6,vars:1,consts:[[1,"info-box"],[1,"form-title"],[1,"inner-wrap"],[1,"text-wrap",3,"innerHtml"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"h5"),i.Kc(3,"Privacy Policy"),i.Sb(),i.Sb(),i.Tb(4,"div",2),i.Ob(5,"div",3),i.Sb(),i.Sb()),2&t&&(i.Ab(5),i.oc("innerHtml",e.body,i.Cc))},styles:[".info-box[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;min-height:535px;border-radius:20px;box-shadow:0 10px 20px rgba(196,200,208,.4);overflow:hidden}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{background:#514dc5;padding:20px 0}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;color:#fff}.info-box[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{overflow-y:scroll;max-height:603px;padding:30px 40px}"]}),t})();const KS=["subjectInput"];function WS(t,e){if(1&t&&(i.Tb(0,"div",20),i.Tb(1,"label",14),i.Kc(2,"Total Experience (in years)"),i.Sb(),i.Ob(3,"input",42),i.Sb()),2&t){const t=i.hc();i.Ab(3),i.oc("ngModel",t.user?t.user.experience:"")}}function $S(t,e){if(1&t){const t=i.Ub();i.Tb(0,"mat-icon",45),i.dc("click",function(){i.Bc(t);const e=i.hc().$implicit;return i.hc().remove(e)}),i.Kc(1,"cancel"),i.Sb()}}function GS(t,e){if(1&t&&(i.Tb(0,"mat-chip",43),i.Kc(1),i.ic(2,"titlecase"),i.Ic(3,$S,2,0,"mat-icon",44),i.Sb()),2&t){const t=e.$implicit,n=i.hc();i.oc("selectable",n.selectable)("removable",n.removable),i.Ab(1),i.Mc(" ",i.jc(2,4,t.name)," "),i.Ab(2),i.oc("ngIf",n.removable)}}function QS(t,e){if(1&t&&(i.Tb(0,"mat-option"),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc(" ",i.jc(2,1,t)," ")}}function YS(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",46),i.Tb(1,"div",47),i.Tb(2,"div",48),i.Tb(3,"div",49),i.Tb(4,"h5",50),i.Kc(5,"Confirmation Pending"),i.Sb(),i.Sb(),i.Tb(6,"div",51),i.Tb(7,"p",52),i.Kc(8,"Hi, your profile is pending and we have received your detail. We will let you know once your profile is approved!"),i.Sb(),i.Tb(9,"button",53),i.dc("click",function(){return i.Bc(t),i.hc().goToHomepage()}),i.Kc(10,"Go to homepage"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}}const XS=function(t){return{"col-md-6":t}},JS=function(){return{backdropBorderRadius:"3px"}};let ZS=(()=>{class t{constructor(t,e,n,i,r){this.authService=t,this.userService=e,this.router=n,this.videoService=i,this.modalService=r,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.loading=!1,this.separatorKeysCodes=[uc,188],this.subjectCtrl=new Ps,this.subjects=[],this.selectedImg=new File([],"",void 0),this.selectedVideo=new File([],"",void 0),this.imgSrc="assets/images/svg/file-upload.svg",this.profilePath="https://tanito.in/admin/assets/user-profile/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.allsubjects=[],this.userService.getSubjects().subscribe(t=>{t.data.subjects.forEach(t=>{this.allsubjects.push(t.subject)}),this.filteredsubjects=this.subjectCtrl.valueChanges.startWith(null).map(t=>t?this.filter(t):this.allsubjects.slice())})}remove(t){let e=this.subjects.indexOf(t);e>=0&&this.subjects.splice(e,1)}filter(t){return this.allsubjects.filter(e=>0===e.toLowerCase().indexOf(t.toLowerCase()))}selected(t){if(this.subjects.some(e=>e.name==t.option.viewValue))return alert("This subject is already selected!"),this.subjectInput.nativeElement.blur(),!1;this.subjects.push({name:t.option.viewValue}),this.subjectInput.nativeElement.blur(),this.subjectInput.nativeElement.value=""}ngOnInit(){if(this.user=JSON.parse(this.userService.getUser()),this.user){this.imgSrc=this.user.profile_img.length>0?this.profilePath+this.user.profile_img:"assets/images/svg/file-upload.svg",this.mobile=this.user.mobile,this.userType=this.user.usertype;let t=[];this.user.subjects.split(",").forEach(function(e,n){t.push({name:e})}),this.subjects=t}else this.mobile=JSON.parse(this.authService.getVerifiedUser()).mobile,this.userType=JSON.parse(this.authService.getVerifiedUser()).userType,this.user={usertype:this.userType}}onSelectProfile(t){if(this.selectedImg=t.target.files[0],t.target.files&&t.target.files[0]){var e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.imgSrc=t.target.result}}}onSelectVideo(t,e){this.selectedVideo=t.target.files[0],this.videoService.generateThumbnail(this.selectedVideo,!1).then(t=>{}).catch(t=>{alert(t),e.value=""})}onDetailSave(t){if("assets/images/svg/file-upload.svg"==this.imgSrc)return alert("Please choose your profile picture!"),!1;if(t.value.experience<0)return alert("Experience filed can't have negative value!"),!1;let e=[];this.subjects.forEach(function(t){e.push(t.name)});let n=new FormData;n.append("qualification",t.value.qualification),n.append("experience",t.value.experience),n.append("university",t.value.university),n.append("gender",t.value.gender),n.append("description",t.value.description),n.append("subjects",e.toString()),n.append("profile",this.selectedImg),n.append("mobile",this.mobile),n.append("video",this.selectedVideo),this.loading=!0,this.authService.saveUserInfo(n).subscribe(t=>{"false"==t.status?(this.loading=!1,alert(t.msg)):1==confirm("Do you want to save?")?(this.loading=!1,this.authService.storeUser(t.data),this.router.navigate(["/feed"])):this.loading=!1})}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"tanito"}))}goToHomepage(){this.modalRef.hide(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(nw),i.Nb(iw),i.Nb(Oy),i.Nb(bw),i.Nb(Pa))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-profile-setup"]],viewQuery:function(t,e){if(1&t&&i.Oc(KS,!0),2&t){let t;i.xc(t=i.ec())&&(e.subjectInput=t.first)}},decls:69,vars:23,consts:[[1,"container","setup_profile"],[1,"registration-form",3,"submit"],["profileSetupForm","ngForm"],[1,"row","align-items-center"],[1,"col-12","px-5","py-3"],[1,"jumbotron","text-center"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"upload_media_file"],[1,"user-dp"],["alt","upload",1,"btn-block","file_img","img-fluid",3,"src"],["type","file","accept","image/jpeg, image/png","name","userPic","ngModel","",1,"pic-upload",3,"change"],[1,"form-group","row","mb-4"],[1,"col-12",3,"ngClass"],[1,"primary_color","spcllbl"],["type","text","placeholder","Enter your qualification","name","qualification","required","",1,"form-control",3,"ngModel"],["class","col-md-6 col-12",4,"ngIf"],[1,"form-group","row","mb-3"],[1,"col-md-6","col-12","mb-4","mb-sm-0"],["type","text","placeholder","Your University Name","name","university","required","",1,"form-control",3,"ngModel"],[1,"col-md-6","col-12"],["name","gender","value","select","required","",1,"form-control",3,"ngModel"],["value","male"],["value","female"],[1,"form-group","row","mb-0"],[1,"col-12"],[1,"demo-chip-list",2,"width","100%"],["chipList",""],[3,"selectable","removable",4,"ngFor","ngForOf"],["matInput","",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["subjectInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],["type","text","placeholder","Write about yourself","name","description","maxlength","500",1,"form-control",3,"ngModel"],[1,"form-group","row","mb-3",3,"hidden"],["type","file","accept","video/mp4",1,"form-control","video-upload",3,"change"],["video",""],[1,"col-12","text-center"],["type","submit",1,"btn","btn_primary","text-center","btn-lg",3,"disabled"],["signUpAlert",""],[3,"show","config"],["type","number","placeholder","Enter your experience","name","experience","min","0","required","",1,"form-control",3,"ngModel"],[3,"selectable","removable"],["matChipRemove","",3,"click",4,"ngIf"],["matChipRemove","",3,"click"],["id","signotpmodal",1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"mb-4"],["type","button",1,"text-purple","btn_primary","btn-sm",3,"click"]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",0),i.Tb(1,"form",1,2),i.dc("submit",function(){i.Bc(t);const n=i.yc(2);return e.onDetailSave(n)}),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"div",5),i.Tb(6,"div",6),i.Tb(7,"div",7),i.Tb(8,"h2"),i.Kc(9,"Set Up Your Profile"),i.Sb(),i.Sb(),i.Sb(),i.Ob(10,"hr"),i.Tb(11,"div",8),i.Tb(12,"div",9),i.Ob(13,"img",10),i.Sb(),i.Tb(14,"label"),i.Tb(15,"input",11),i.dc("change",function(t){return e.onSelectProfile(t)}),i.Sb(),i.Kc(16),i.Sb(),i.Sb(),i.Sb(),i.Tb(17,"div",12),i.Tb(18,"div",13),i.Tb(19,"label",14),i.Kc(20,"Qualification "),i.Sb(),i.Ob(21,"input",15),i.Sb(),i.Ic(22,WS,4,1,"div",16),i.Sb(),i.Tb(23,"div",17),i.Tb(24,"div",18),i.Tb(25,"label",14),i.Kc(26,"School / College / Universtiy "),i.Sb(),i.Ob(27,"input",19),i.Sb(),i.Tb(28,"div",20),i.Tb(29,"label",14),i.Kc(30,"Gender"),i.Sb(),i.Tb(31,"select",21),i.Tb(32,"option",22),i.Kc(33,"Male"),i.Sb(),i.Tb(34,"option",23),i.Kc(35,"Female"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(36,"div",24),i.Tb(37,"div",25),i.Tb(38,"label",14),i.Kc(39,"Select Subjects"),i.Sb(),i.Tb(40,"mat-form-field",26),i.Tb(41,"mat-chip-list",null,27),i.Ic(43,GS,4,6,"mat-chip",28),i.Ob(44,"input",29,30),i.Sb(),i.Tb(46,"mat-autocomplete",31,32),i.dc("optionSelected",function(t){return e.selected(t)}),i.Ic(48,QS,3,3,"mat-option",33),i.ic(49,"async"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(50,"div",17),i.Tb(51,"div",25),i.Tb(52,"label",14),i.Kc(53,"Description (500 words)"),i.Sb(),i.Tb(54,"textarea",34),i.Kc(55,"              "),i.Sb(),i.Sb(),i.Sb(),i.Tb(56,"div",35),i.Tb(57,"div",25),i.Tb(58,"label",14),i.Kc(59,"Upload 30 Second Video"),i.Sb(),i.Tb(60,"input",36,37),i.dc("change",function(n){i.Bc(t);const r=i.yc(61);return e.onSelectVideo(n,r)}),i.Sb(),i.Sb(),i.Sb(),i.Tb(62,"div",17),i.Tb(63,"div",38),i.Tb(64,"button",39),i.Kc(65,"Submit "),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Ic(66,YS,11,0,"ng-template",null,40,i.Jc),i.Ob(68,"ngx-loading",41)}if(2&t){const t=i.yc(2),n=i.yc(42),r=i.yc(47);i.Ab(13),i.oc("src",e.imgSrc,i.Dc),i.Ab(3),i.Mc(" ",e.user?"Change Profile Picture":"Upload Profile Picture"," "),i.Ab(2),i.oc("ngClass",i.sc(20,XS,2==e.user.usertype)),i.Ab(3),i.oc("ngModel",e.user?e.user.qualification:""),i.Ab(1),i.oc("ngIf",2==e.user.usertype),i.Ab(5),i.oc("ngModel",e.user?e.user.university:""),i.Ab(4),i.oc("ngModel",e.user?e.user.gender:"male"),i.Ab(12),i.oc("ngForOf",e.subjects),i.Ab(1),i.oc("matAutocomplete",r)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlur),i.Ab(4),i.oc("ngForOf",i.jc(49,18,e.filteredsubjects)),i.Ab(6),i.oc("ngModel",e.user?e.user.description:""),i.Ab(2),i.oc("hidden",3==e.userType),i.Ab(8),i.oc("disabled",t.invalid),i.Ab(4),i.oc("show",e.loading)("config",i.rc(22,JS))}},directives:[Bs,Yr,Fs,Er,Qr,Us,U,Ws,q,os,as,hs,mu,Au,V,sd,$h,Du,Vh,Js,Oo,Jr,Cu,kd,Tu,Ll],pipes:[it,ot],styles:[".select-sub-input{position:relative}.select-sub-input .btn_primary{position:absolute;top:15px;right:15px}.select-sub-input .list-group{width:400px;height:200px;overflow-y:scroll;position:absolute;top:100%;z-index:1}.mat-form-field-infix{box-shadow:0 3px 3px rgba(125,59,138,.1411764705882353);border:2px solid #514dc5;border-radius:12px;padding:15px 10px!important}.ng-tns-c59-0.ng-star-inserted{opacity:0}.upload_media_file{position:relative;display:inline-block}.upload_media_file .pic-upload{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.upload_media_file .user-dp{position:relative;max-width:80px;height:80px;margin:0 auto 15px;object-fit:cover}.upload_media_file .user-dp img{width:100%;height:100%;object-fit:cover;border-radius:50%}.upload_media_file .user-dp .cross{position:absolute;top:0;right:0;width:25px;height:25px;background:url(reset.824b518f916a8cfb610e.svg) no-repeat;background-size:cover;cursor:pointer;z-index:1}.upload_media_file label{color:#514dc5;font-weight:500;position:relative;cursor:pointer}.video-upload{padding:17px}"],encapsulation:2}),t})();const tC=["otpVerify"];function eC(t,e){1&t&&(i.Tb(0,"div",39),i.Kc(1," Please enter name! "),i.Sb())}function nC(t,e){1&t&&(i.Tb(0,"div"),i.Kc(1," Please enter valid phone number! "),i.Sb())}function iC(t,e){1&t&&i.Kc(0," Please enter phone number! ")}function rC(t,e){if(1&t&&(i.Tb(0,"div",39),i.Ic(1,nC,2,0,"div",40),i.Ic(2,iC,1,0,"ng-template",null,41,i.Jc),i.Sb()),2&t){const t=i.yc(3);i.hc();const e=i.yc(31);i.Ab(1),i.oc("ngIf",(null==e.errors?null:e.errors.pattern)||(null==e.errors?null:e.errors.minlength))("ngIfElse",t)}}function sC(t,e){1&t&&(i.Tb(0,"div"),i.Kc(1," Please enter email! "),i.Sb())}function oC(t,e){1&t&&i.Kc(0," Please enter valid email! ")}function aC(t,e){if(1&t&&(i.Tb(0,"div",39),i.Ic(1,sC,2,0,"div",40),i.Ic(2,oC,1,0,"ng-template",null,42,i.Jc),i.Sb()),2&t){const t=i.yc(3);i.hc();const e=i.yc(31);i.Ab(1),i.oc("ngIf",null==e.errors?null:e.errors.pattern)("ngIfElse",t)}}function cC(t,e){1&t&&(i.Tb(0,"div",39),i.Kc(1," Please enter password! "),i.Sb())}function lC(t,e){1&t&&(i.Tb(0,"div",39),i.Kc(1," Passwords don't match! "),i.Sb())}function uC(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",43),i.Tb(1,"div",44),i.Tb(2,"div",45),i.Tb(3,"div",46),i.Tb(4,"h5",47),i.Kc(5,"OTP VERIFICATION"),i.Sb(),i.Sb(),i.Tb(6,"div",48),i.Tb(7,"p",49),i.Kc(8,"Please enter the One Time Password received on your registered mobile number or email to verify your account. "),i.Sb(),i.Tb(9,"h6",49),i.Kc(10,"VERIFY YOUR ACCOUNT"),i.Sb(),i.Tb(11,"div",50),i.Tb(12,"input",51,52),i.dc("keyup",function(){i.Bc(t);const e=i.yc(13);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(13);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(14,"input",51,53),i.dc("keyup",function(){i.Bc(t);const e=i.yc(15);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(15);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(16,"input",51,54),i.dc("keyup",function(){i.Bc(t);const e=i.yc(17);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(17);return i.hc().goToPrev(n,e)}),i.Sb(),i.Tb(18,"input",51,55),i.dc("keyup",function(){i.Bc(t);const e=i.yc(19);return i.hc().goToNext(e)})("keydown",function(e){i.Bc(t);const n=i.yc(19);return i.hc().goToPrev(n,e)}),i.Sb(),i.Sb(),i.Tb(20,"button",56),i.dc("click",function(){i.Bc(t);const e=i.yc(13),n=i.yc(15),r=i.yc(17),s=i.yc(19);return i.hc().onVerifyOtp(e.value,n.value,r.value,s.value)}),i.Kc(21,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}}const hC=function(t){return{active:t}},dC=function(){return{backdropBorderRadius:"3px"}};let pC=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.router=e,this.modalService=n,this.firebaseAuth=i,this.userType=2,this.loading=!1,this.username="",this.mobile=""}ngOnInit(){}toggleUserType(t){this.userType=t}onSignUp(t){let e=new FormData;e.append("username",t.value.name),e.append("mobile",t.value.phone),e.append("email",t.value.email),e.append("password",t.value.password),e.append("cpassword",t.value.confirmPwd),e.append("usertype",this.userType),this.username=t.value.name,this.mobile=t.value.phone,this.loading=!0,this.authService.register(e).subscribe(t=>{0==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,this.openModal(this.otpVerifyModal))},t=>{console.log(t)})}goToNext(t){let e=t.nextSibling;e&&t.value.length>0&&e.focus()}goToPrev(t,e){let n=e.key,i=t.previousSibling;"Backspace"!==n&&"Delete"!==n||i&&""==t.value&&i.focus()}onVerifyOtp(t,e,n,i){let r=new FormData;r.append("mobile",this.mobile),r.append("otp",+(t+e+n+i)),this.loading=!0,this.authService.verifyOtp(r).subscribe(t=>{"false"==t.status?(this.loading=!1,alert(t.msg)):(this.loading=!1,this.otpVerifyModal.hide(),this.authService.sendVerifiedUser(this.mobile,this.userType),this.router.navigate(["/profile-setup"]))})}openModal(t){this.otpVerifyModal=this.modalService.show(t,Object.assign({},{class:"tanito"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(nw),i.Nb(Oy),i.Nb(Pa),i.Nb(Rp))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-register"]],viewQuery:function(t,e){if(1&t&&i.Oc(tC,!0),2&t){let t;i.xc(t=i.ec())&&(e.otpVerifyModal=t.first)}},decls:72,vars:15,consts:[[1,"container"],[1,"row","align-items-center"],[1,"col-lg-6","col-md-7","col-12"],[1,"register_tab_area","p-lg-5"],[1,"register_title","mb-5"],[1,"register_tab"],["role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"],[1,"tab-content"],["id","tabs-1","role","tabpanel",1,"tab-pane","active"],[1,"registration-form",3,"submit"],["signUpForm","ngForm"],[1,"form-group"],[1,"primary_color","spcllbl"],["type","text","placeholder","Joe Smith","name","name","ngModel","","required","",1,"form-control"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","tel","placeholder","XXXXXXXXXX","name","phone","ngModel","","pattern","^[0-9]*$","minlength","10","required","",1,"form-control"],["phone","ngModel"],["type","email","placeholder","john@gmail.com","name","email","ngModel","","pattern","^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$","required","",1,"form-control"],["email","ngModel"],["type","password","placeholder","Password","name","password","ngModel","","required","",1,"form-control","password-field1"],["password","ngModel"],["type","password","placeholder","Confirm Password","name","confirmPwd","ngModel","","required","",1,"form-control","password-field2"],["confirmPwd","ngModel"],[1,"text-muted"],["type","checkbox","name","terms&Condition","ngModel","","required","",1,"mr-2"],["target","_blank","routerLink","/terms-and-condition"],["target","_blank","routerLink","/privacy-policy"],[1,"form-group","text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase",3,"disabled"],[1,"text-center","signnote"],["routerLink","/login",1,"primary_color"],[1,"col-lg-6","col-md-5","col-12","d-none","d-md-block"],[1,"sign-img","p-lg-4"],["src","assets/images/sign_pic.svg","alt","Sign",1,"img-fluid"],["otpVerify",""],[3,"show","config"],[1,"invalid-feedback"],[4,"ngIf","ngIfElse"],["invalidPhone",""],["invalidEmail",""],["id","signotpmodal",1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"mb-4"],[1,"form-group","verfOtp_box"],["type","text","placeholder","0","maxlength","1",1,"form-control","otp-number-input",3,"keyup","keydown"],["otpDigit1",""],["otpDigit2",""],["otpDigit3",""],["otpDigit4",""],["type","button",1,"btn","btn_primary","btn-sm","text-uppercase","mb-2",3,"click"]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"h4"),i.Kc(6,"Register with us"),i.Sb(),i.Tb(7,"p"),i.Kc(8,"Please continue with your credentials"),i.Sb(),i.Sb(),i.Tb(9,"div",5),i.Tb(10,"ul",6),i.Tb(11,"li",7),i.Tb(12,"a",8),i.dc("click",function(){return e.toggleUserType(2)}),i.Kc(13,"I am a Teacher"),i.Sb(),i.Sb(),i.Tb(14,"li",7),i.Tb(15,"a",8),i.dc("click",function(){return e.toggleUserType(3)}),i.Kc(16,"I am a Student"),i.Sb(),i.Sb(),i.Sb(),i.Tb(17,"div",9),i.Tb(18,"div",10),i.Tb(19,"form",11,12),i.dc("submit",function(){i.Bc(t);const n=i.yc(20);return e.onSignUp(n)}),i.Tb(21,"div",13),i.Tb(22,"label",14),i.Kc(23,"Full Name"),i.Sb(),i.Ob(24,"input",15,16),i.Ic(26,eC,2,0,"div",17),i.Sb(),i.Tb(27,"div",13),i.Tb(28,"label",14),i.Kc(29,"Phone No"),i.Sb(),i.Ob(30,"input",18,19),i.Ic(32,rC,4,2,"div",17),i.Sb(),i.Tb(33,"div",13),i.Tb(34,"label",14),i.Kc(35,"Email"),i.Sb(),i.Ob(36,"input",20,21),i.Ic(38,aC,4,2,"div",17),i.Sb(),i.Tb(39,"div",13),i.Tb(40,"label",14),i.Kc(41,"Password*"),i.Sb(),i.Ob(42,"input",22,23),i.Ic(44,cC,2,0,"div",17),i.Sb(),i.Tb(45,"div",13),i.Tb(46,"label",14),i.Kc(47,"Confirm password"),i.Sb(),i.Ob(48,"input",24,25),i.Ic(50,lC,2,0,"div",17),i.Sb(),i.Tb(51,"label",26),i.Ob(52,"input",27),i.Kc(53," I accept the "),i.Tb(54,"a",28),i.Kc(55,"Terms and Conditions"),i.Sb(),i.Kc(56," and "),i.Tb(57,"a",29),i.Kc(58,"Privacy Policy"),i.Sb(),i.Sb(),i.Tb(59,"div",30),i.Tb(60,"button",31),i.Kc(61,"Sign Up"),i.Sb(),i.Tb(62,"p",32),i.Kc(63," Already have an account? "),i.Tb(64,"a",33),i.Kc(65,"SIGN IN"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(66,"div",34),i.Tb(67,"div",35),i.Ob(68,"img",36),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Ic(69,uC,22,0,"ng-template",null,37,i.Jc),i.Ob(71,"ngx-loading",38)}if(2&t){const t=i.yc(20),n=i.yc(25),r=i.yc(31),s=i.yc(37),o=i.yc(43),a=i.yc(49);i.Ab(12),i.oc("ngClass",i.sc(10,hC,2==e.userType)),i.Ab(3),i.oc("ngClass",i.sc(12,hC,3==e.userType)),i.Ab(11),i.oc("ngIf",n.invalid&&(n.dirty||n.touched)),i.Ab(6),i.oc("ngIf",r.invalid&&(r.dirty||r.touched)),i.Ab(6),i.oc("ngIf",s.invalid&&(s.dirty||s.touched)),i.Ab(6),i.oc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Ab(6),i.oc("ngIf",o.value!==a.value&&a.dirty),i.Ab(10),i.oc("disabled",o.value!==a.value||t.invalid),i.Ab(11),i.oc("show",e.loading)("config",i.rc(14,dC))}},directives:[U,Bs,Yr,Fs,Er,Qr,Us,Ws,q,to,Ys,Tr,$s,Ay,Oo],styles:[".register_tab[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.text-muted[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}"]}),t})(),fC=(()=>{class t{constructor(t){this.contentService=t}ngOnInit(){this.contentService.termsAndConditionContent().subscribe(t=>this.body=t.data.result[0].termcondition)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(qS))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-terms-and-condition"]],decls:6,vars:1,consts:[[1,"info-box"],[1,"form-title"],[1,"inner-wrap"],[1,"text-wrap",3,"innerHtml"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"h5"),i.Kc(3,"Terms and Conditions"),i.Sb(),i.Sb(),i.Tb(4,"div",2),i.Ob(5,"div",3),i.Sb(),i.Sb()),2&t&&(i.Ab(5),i.oc("innerHtml",e.body,i.Cc))},styles:[".info-box[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;min-height:535px;border-radius:20px;box-shadow:0 10px 20px rgba(196,200,208,.4);overflow:hidden}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{background:#514dc5;padding:20px 0}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;color:#fff}.info-box[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{overflow-y:scroll;max-height:603px;padding:30px 40px}"]}),t})();const mC=["viewReactions"];function gC(t,e){if(1&t&&(i.Tb(0,"li"),i.Kc(1),i.ic(2,"lowercase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc("#",i.jc(2,1,t),"")}}function bC(t,e){if(1&t&&(i.Tb(0,"ul",51),i.Ic(1,gC,3,3,"li",52),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.oc("ngForOf",t.tags.split(","))}}function yC(t,e){if(1&t&&i.Ob(0,"img",53),2&t){const t=i.hc().$implicit,e=i.hc(2);i.oc("src",e.imageDirPath+t.image,i.Dc)}}const vC=function(t){return{src:t}},_C=function(t){return[t]};function wC(t,e){if(1&t&&i.Ob(0,"plyr",54),2&t){const t=i.hc().$implicit,e=i.hc(2);i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,_C,i.sc(2,vC,e.videoDirPath+t.video)))}}function SC(t,e){if(1&t&&(i.Tb(0,"span",55),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Mc(" \xa0 \xa0 | \xa0 \xa0 ",i.jc(2,1,t.subject),"")}}const CC=function(t){return{liked:t}};function TC(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",56),i.Tb(1,"div",57),i.Ob(2,"img",58),i.Tb(3,"div",59),i.Tb(4,"h6",60),i.Kc(5),i.Sb(),i.Tb(6,"p",61),i.Kc(7),i.Sb(),i.Sb(),i.Sb(),i.Tb(8,"div",19),i.Tb(9,"div",20),i.Tb(10,"button",21,22),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit,o=i.hc(2);return o.onLikeComment(s.id,n,o.commentLikeType?o.commentLikeType:o.getCommentLikeType(n.reactionType),r)}),i.Ob(12,"img",23),i.Sb(),i.Tb(13,"div",24),i.Tb(14,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,0,r)}),i.Ob(15,"img",26),i.Sb(),i.Tb(16,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,1,r)}),i.Ob(17,"img",27),i.Sb(),i.Tb(18,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,2,r)}),i.Ob(19,"img",28),i.Sb(),i.Tb(20,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc(2).onLikeComment(s.id,n,3,r)}),i.Ob(21,"img",29),i.Sb(),i.Sb(),i.Sb(),i.Tb(22,"span",30),i.Kc(23),i.Sb(),i.Tb(24,"span",34),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(3).onViewCommentReaction(n.commentID)}),i.Ob(25,"i",35),i.Sb(),i.Tb(26,"span",62),i.Kc(27),i.ic(28,"postCreated"),i.Sb(),i.Tb(29,"button",63),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(3).onDeleteComment(n)}),i.Ob(30,"i",64),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(3);i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id)("src",t.profile_img?n.profilePath+t.profile_img:n.userAvatar,i.Dc),i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id),i.Ab(1),i.Lc(t.username),i.Ab(2),i.Lc(t.comment),i.Ab(3),i.oc("ngClass",i.sc(12,CC,n.isCommentLiked(t.reactionType))),i.Ab(2),i.oc("src",n.checkCommentLikeType(t.reactionType),i.Dc),i.Ab(11),i.Lc(t.reactionType.length),i.Ab(4),i.Mc("\xa0 \xa0 | \xa0 \xa0 ",i.jc(28,10,t.created),""),i.Ab(2),i.oc("hidden",t.user_id!==n.loggedUser.id)}}function kC(t,e){1&t&&(i.Tb(0,"p",65),i.Kc(1,"Be the first to comment!"),i.Sb())}const xC=function(t){return{clipped:t}},EC=function(){return["facebook","twitter","linkedin","pinterest","reddit","copy"]};function OC(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",5),i.Tb(1,"div",6),i.Tb(2,"div",7),i.Ob(3,"img",8),i.Sb(),i.Tb(4,"div",9),i.Tb(5,"div",10),i.Tb(6,"h3"),i.Kc(7),i.Sb(),i.Ob(8,"img",11),i.Sb(),i.Tb(9,"p"),i.Kc(10),i.ic(11,"postCreated"),i.Sb(),i.Sb(),i.Sb(),i.Tb(12,"div",12),i.Tb(13,"p",13),i.Kc(14),i.Sb(),i.Tb(15,"a",14),i.Kc(16,"Read More..."),i.Sb(),i.Ic(17,bC,2,1,"ul",15),i.Ic(18,yC,1,1,"img",16),i.Ic(19,wC,1,6,"plyr",17),i.Sb(),i.Tb(20,"p",18),i.Kc(21),i.ic(22,"titlecase"),i.Sb(),i.Tb(23,"div",19),i.Tb(24,"div",20),i.Tb(25,"button",21,22),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(26),s=i.hc(2);return s.onLikePost(n.id,s.likeType?s.likeType:s.getLikeType(n.likes),r,n)}),i.Ob(27,"img",23),i.Sb(),i.Tb(28,"div",24),i.Tb(29,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(26);return i.hc(2).onLikePost(n.id,0,r,n)}),i.Ob(30,"img",26),i.Sb(),i.Tb(31,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(26);return i.hc(2).onLikePost(n.id,1,r,n)}),i.Ob(32,"img",27),i.Sb(),i.Tb(33,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(26);return i.hc(2).onLikePost(n.id,2,r,n)}),i.Ob(34,"img",28),i.Sb(),i.Tb(35,"button",25),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(26);return i.hc(2).onLikePost(n.id,3,r,n)}),i.Ob(36,"img",29),i.Sb(),i.Sb(),i.Sb(),i.Tb(37,"span",30),i.Kc(38),i.Sb(),i.gc(),i.Tb(39,"svg",31),i.Tb(40,"g"),i.Tb(41,"g",32),i.Tb(42,"g"),i.Ob(43,"path",33),i.Sb(),i.Sb(),i.Sb(),i.Ob(44,"g"),i.Ob(45,"g"),i.Ob(46,"g"),i.Ob(47,"g"),i.Ob(48,"g"),i.Ob(49,"g"),i.Ob(50,"g"),i.Ob(51,"g"),i.Ob(52,"g"),i.Ob(53,"g"),i.Ob(54,"g"),i.Ob(55,"g"),i.Ob(56,"g"),i.Ob(57,"g"),i.Ob(58,"g"),i.Sb(),i.fc(),i.Tb(59,"span",30),i.Kc(60),i.Sb(),i.Tb(61,"span",34),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onViewReaction(n.id)}),i.Ob(62,"i",35),i.Sb(),i.Ic(63,SC,3,3,"span",36),i.Tb(64,"div",37),i.Ob(65,"share-buttons",38),i.Tb(66,"button",39,40),i.dc("click",function(){i.Bc(t);const e=i.yc(67);return i.hc(2).toggleShareGroup(e)}),i.Ob(68,"img",41),i.Sb(),i.Sb(),i.Sb(),i.Tb(69,"div",42),i.Tb(70,"div",43),i.Ic(71,TC,31,14,"div",44),i.Sb(),i.Ic(72,kC,2,0,"p",45),i.Tb(73,"form",46,47),i.dc("submit",function(){i.Bc(t);const n=e.$implicit,r=i.yc(74);return i.hc(2).onCommentOnPost(n,r)}),i.Ob(75,"input",48),i.Tb(76,"button",49),i.Ob(77,"i",50),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.yc(74),r=i.hc(2);i.Ab(3),i.oc("src",r.profilePath+r.userData.data.results.profile_img,i.Dc)("alt",r.userData.data.results.username),i.Ab(4),i.Lc(r.userData.data.results.username),i.Ab(1),i.oc("src",3==r.userData.data.results.usertype?r.studentIcon:r.teacherIcon,i.Dc),i.Ab(2),i.Nc("",(3==r.userData.data.results.usertype?"Student at ":"Teacher at ")+r.userData.data.results.university," \xa0 | \xa0 ",i.jc(11,25,t.created),""),i.Ab(3),i.oc("ngClass",i.sc(29,xC,t.body.length>500)),i.Ab(1),i.Mc(" ",t.body," "),i.Ab(1),i.oc("hidden",t.body.length<500),i.Ab(2),i.oc("ngIf",t.tags),i.Ab(1),i.oc("ngIf",t.image.length>0),i.Ab(1),i.oc("ngIf",t.video.length>0),i.Ab(1),i.oc("hidden",!t.subject),i.Ab(1),i.Mc(" ",i.jc(22,27,t.subject),""),i.Ab(4),i.oc("ngClass",i.sc(31,CC,r.isPostLiked(t.likes))),i.Ab(2),i.oc("src",r.checkLikeType(t.likes),i.Dc),i.Ab(11),i.Lc(t.likes.length),i.Ab(22),i.Lc(t.comment.length),i.Ab(3),i.oc("ngIf",t.subject),i.Ab(2),i.oc("show",5)("include",i.rc(33,EC))("url",r.baseurl+"/#/post/"+t.id),i.Ab(6),i.oc("ngForOf",t.comment),i.Ab(1),i.oc("ngIf",0==t.comment.length),i.Ab(4),i.oc("disabled",!n.valid)}}function IC(t,e){if(1&t&&(i.Tb(0,"div"),i.Ic(1,OC,78,34,"div",4),i.ic(2,"recentPost"),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.oc("ngForOf",i.jc(2,1,t.userData.data.user_post_data))}}function AC(t,e){if(1&t&&(i.Tb(0,"span",73),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.totalUserReaction.length)}}function PC(t,e){if(1&t&&(i.Kc(0," All "),i.Ic(1,AC,2,1,"span",72)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function DC(t,e){if(1&t&&(i.Tb(0,"div",74),i.Tb(1,"span",75),i.Ob(2,"img",76),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function RC(t,e){if(1&t&&(i.Tb(0,"span",79),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.okUserReaction.length)}}function NC(t,e){if(1&t&&(i.Ob(0,"img",77),i.Ic(1,RC,2,1,"span",78)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function LC(t,e){if(1&t&&(i.Tb(0,"div",74),i.Tb(1,"span",75),i.Ob(2,"img",76),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function FC(t,e){if(1&t&&(i.Tb(0,"span",73),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.innUserReaction.length)}}function jC(t,e){if(1&t&&(i.Ob(0,"img",80),i.Ic(1,FC,2,1,"span",72)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function MC(t,e){if(1&t&&(i.Tb(0,"div",74),i.Tb(1,"span",75),i.Ob(2,"img",76),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function UC(t,e){if(1&t&&(i.Tb(0,"span",73),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.clapUserReaction.length)}}function BC(t,e){if(1&t&&(i.Ob(0,"img",81),i.Ic(1,UC,2,1,"span",72)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function VC(t,e){if(1&t&&(i.Tb(0,"div",74),i.Tb(1,"span",75),i.Ob(2,"img",76),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function zC(t,e){if(1&t&&(i.Tb(0,"span",73),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.goodUserReaction.length)}}function qC(t,e){if(1&t&&(i.Ob(0,"img",82),i.Ic(1,zC,2,1,"span",72)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function HC(t,e){if(1&t&&(i.Tb(0,"div",74),i.Tb(1,"span",75),i.Ob(2,"img",76),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function KC(t,e){if(1&t&&(i.Tb(0,"div",66),i.Tb(1,"div",67),i.Tb(2,"div",68),i.Tb(3,"div",69),i.Tb(4,"h5"),i.Kc(5),i.Sb(),i.Sb(),i.Tb(6,"mat-tab-group"),i.Tb(7,"mat-tab"),i.Ic(8,PC,2,1,"ng-template",70),i.Ic(9,DC,5,3,"div",71),i.Sb(),i.Tb(10,"mat-tab"),i.Ic(11,NC,2,1,"ng-template",70),i.Ic(12,LC,5,3,"div",71),i.Sb(),i.Tb(13,"mat-tab"),i.Ic(14,jC,2,1,"ng-template",70),i.Ic(15,MC,5,3,"div",71),i.Sb(),i.Tb(16,"mat-tab"),i.Ic(17,BC,2,1,"ng-template",70),i.Ic(18,VC,5,3,"div",71),i.Sb(),i.Tb(19,"mat-tab"),i.Ic(20,qC,2,1,"ng-template",70),i.Ic(21,HC,5,3,"div",71),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(5),i.Lc(t.reactionModalTitle),i.Ab(4),i.oc("ngForOf",t.totalUserReaction),i.Ab(3),i.oc("ngForOf",t.okUserReaction),i.Ab(3),i.oc("ngForOf",t.innUserReaction),i.Ab(3),i.oc("ngForOf",t.clapUserReaction),i.Ab(3),i.oc("ngForOf",t.goodUserReaction)}}function WC(t,e){if(1&t&&(i.Tb(0,"div",5),i.Tb(1,"h5"),i.Kc(2),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(2),i.Mc("",t.userData.data.results.username," did not post anything yet!")}}const $C=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let GC=(()=>{class t{constructor(t,e,n,i){this.userService=t,this.modalService=e,this.notificationService=n,this.myPlanService=i,this.likeType=0,this.commentLikeType=0,this.reactionFetched=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.imageDirPath="https://tanito.in/admin/assets/user-post-media/image/",this.videoDirPath="https://tanito.in/admin/assets/user-post-media/video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png"}ngOnInit(){this.loggedUser=JSON.parse(this.userService.getUser()),this.baseurl=window.location.origin,this.myPlanService.getCurrentPlan()&&!this.myPlanService.isPlanExpired()&&(this.isPlanActive=!0)}onLikePost(t,e,n,i){let r=new FormData;r.append("user_id",this.loggedUser.id),r.append("post_id",t),r.append("like_type",e),this.userService.likePost(r).subscribe(t=>{let r=n.parentElement,s=null==r?void 0:r.nextSibling,o=+s.innerHTML,a=n.firstChild;switch(e){case 1:a.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:a.setAttribute("src","assets/images/icons/clap.png");break;case 3:a.setAttribute("src","assets/images/icons/like.png");break;default:a.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(n.classList.add("liked"),o+=1,s.innerHTML=o,this.likeType=e,this.notificationService.sendNotification(this.userData.data.results.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has liked your post: "+i.body)):0==t.likeStatus?(n.classList.remove("liked"),o-=1,s.innerHTML=o,a.setAttribute("src","assets/images/icons/like_icon.png"),this.likeType=0):this.likeType=e})}onViewReaction(t){let e=new FormData;e.append("post_id",t),this.openModal(this.viewReactions),this.userService.viewReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.like_type),this.innUserReaction=e.filter(t=>1==t.like_type),this.clapUserReaction=e.filter(t=>2==t.like_type),this.goodUserReaction=e.filter(t=>3==t.like_type)})}isPostLiked(t){return t.some(t=>t.user_id==this.loggedUser.id)}checkLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?1==e.like_type?"assets/images/icons/lightbulb.png":2==e.like_type?"assets/images/icons/clap.png":3==e.like_type?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?e.like_type:0}onCommentOnPost(t,e){let n=new FormData;n.append("from_id",this.loggedUser.id),n.append("post_id",t.id),n.append("comment",e.value.comment);let i=this.userData.data.user_post_data.find(e=>e.id==t.id),r=new FormData;r.append("id",this.loggedUser.id),this.userService.userComments(r).subscribe(r=>{this.isPlanActive||r.data<5?(this.loading=!0,this.userService.commentOnPost(n).subscribe(n=>{this.loading=!1,i.comment.push(n.data),this.notificationService.sendNotification(this.userData.data.results.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has commented on your post: "+t.body),e.reset()})):alert("Comment limit on one post has reached, Subscribe to our plans to comment further!")})}onDeleteComment(t){let e=new FormData;e.append("comment_id",t.commentID);let n=this.userData.data.user_post_data.find(e=>e.id==t.post_id);1==confirm("Do you want to delete this comment?")&&(this.loading=!0,this.userService.deleteComment(e).subscribe(e=>{this.loading=!1,n.comment.splice(n.comment.findIndex(e=>e.commentID==t.commentID),1)}))}isCommentLiked(t){return t.some(t=>t.from_id==this.loggedUser.id)}checkCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?1==e.reactionType?"assets/images/icons/lightbulb.png":2==e.reactionType?"assets/images/icons/clap.png":3==e.reactionType?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?+e.reactionType:0}onLikeComment(t,e,n,i){let r=new FormData;r.append("from_id",this.loggedUser.id),r.append("post_id",t),r.append("comment_id",e.commentId),r.append("reactionType",n),this.userService.likeComment(r).subscribe(t=>{let r=i.parentElement,s=null==r?void 0:r.nextSibling,o=+s.innerHTML,a=i.firstChild;switch(n){case 1:a.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:a.setAttribute("src","assets/images/icons/clap.png");break;case 3:a.setAttribute("src","assets/images/icons/like.png");break;default:a.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(i.classList.add("liked"),o+=1,s.innerHTML=o,this.commentLikeType=n,e.user_id!==this.loggedUser.id&&this.notificationService.sendNotification(e.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has liked your comment: "+e.comment)):0==t.likeStatus?(i.classList.remove("liked"),o-=1,s.innerHTML=o,a.setAttribute("src","assets/images/icons/like_icon.png"),this.commentLikeType=0):this.commentLikeType=n})}onViewCommentReaction(t){let e=new FormData;e.append("comment_id",t),this.openModal(this.viewReactions),this.userService.viewCommentReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Comment Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.reactionType),this.innUserReaction=e.filter(t=>1==t.reactionType),this.clapUserReaction=e.filter(t=>2==t.reactionType),this.goodUserReaction=e.filter(t=>3==t.reactionType)})}changeTabs(t){document.getElementsByClassName("reactions").classList.remove("active"),t.classList.add("active")}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"reaction_modal"}))}toggleShareGroup(t){let e=t.previousSibling;e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(Pa),i.Nb(Lw),i.Nb(Fw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-user-timeline"]],viewQuery:function(t,e){if(1&t&&i.Oc(mC,!0),2&t){let t;i.xc(t=i.ec())&&(e.viewReactions=t.first)}},inputs:{userData:"userData"},decls:5,vars:5,consts:[[4,"ngIf"],["viewReactions",""],["class","custom_card custom_crd_padd",4,"ngIf"],[3,"show","config"],["class","custom_card custom_crd_padd",4,"ngFor","ngForOf"],[1,"custom_card","custom_crd_padd"],[1,"follow_top","d-flex","align-items-center"],[1,"follow_lft"],[1,"profile-img",3,"src","alt"],[1,"follow_rht"],[1,"d-flex","align-items-center"],["alt","user type",1,"user-type",3,"src"],[1,"follow_bdy"],[1,"content-body",3,"ngClass"],["appToggleContent","",1,"read-more-link",3,"hidden"],["class","hashtags",4,"ngIf"],["class","post-img",3,"src",4,"ngIf"],["style","display: block; max-width: 640px;","plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources",4,"ngIf"],[1,"subject","d-block","d-sm-none",3,"hidden"],[1,"follow_ftr"],[1,"action-btn"],["type","button",1,"post-action-btn",3,"ngClass","click"],["likeBtn",""],["alt","icon",3,"src"],[1,"follow_ftr","react-btn-grp"],["type","button",3,"click"],["src","assets/images/icons/like_icon.png","alt","icon"],["src","assets/images/icons/lightbulb.png","alt","icon"],["src","assets/images/icons/clap.png","alt","icon"],["src","assets/images/icons/like.png","alt","icon"],[1,"likes"],["version","1.1","fill","#474747","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","612px","height","612px","viewBox","0 0 612 612",0,"xml","space","preserve","appShowCommentBox","",1,"comment",2,"enable-background","new 0 0 612 612"],["id","_x32__26_"],["d","M401.625,325.125h-191.25c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h191.25\n                c10.557,0,19.125-8.568,19.125-19.125S412.182,325.125,401.625,325.125z M439.875,210.375h-267.75\n                c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h267.75c10.557,0,19.125-8.568,19.125-19.125\n                S450.432,210.375,439.875,210.375z M306,0C137.012,0,0,119.875,0,267.75c0,84.514,44.848,159.751,114.75,208.826V612\n                l134.047-81.339c18.552,3.061,37.638,4.839,57.203,4.839c169.008,0,306-119.875,306-267.75C612,119.875,475.008,0,306,0z\n                M306,497.25c-22.338,0-43.911-2.601-64.643-7.019l-90.041,54.123l1.205-88.701C83.5,414.133,38.25,345.513,38.25,267.75\n                c0-126.741,119.875-229.5,267.75-229.5c147.875,0,267.75,102.759,267.75,229.5S453.875,497.25,306,497.25z"],[1,"view",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["class","subjects d-none d-sm-block",4,"ngIf"],[1,"share-post"],[3,"show","include","url"],["type","button","data-toggle","modal","data-target","#report_mdl",1,"post-action-btn","share-btn",3,"click"],["shareBtn",""],["src","assets/images/icons/share_icon.png","alt","icon"],[1,"comment-box"],[1,"inner-box"],["class","comment-row",4,"ngFor","ngForOf"],["class","no-comment",4,"ngIf"],[1,"write-comment",3,"submit"],["cmntForm","ngForm"],["placeholder","Write your comment here...","type","text","name","comment","required","","ngModel",""],["type","submit",3,"disabled"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"hashtags"],[4,"ngFor","ngForOf"],[1,"post-img",3,"src"],["plyrTitle","Video 1",2,"display","block","max-width","640px",3,"plyrPlaysInline","plyrSources"],[1,"subjects","d-none","d-sm-block"],[1,"comment-row"],[1,"user"],["alt","user",3,"routerLink","src"],[1,"name"],[3,"routerLink"],[1,"comment"],[1,"date"],[1,"dlt-btn",3,"hidden","click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"no-comment"],[1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal_body_top"],["mat-tab-label",""],["class","d-flex align-items-center mb-4",4,"ngFor","ngForOf"],["class","badge badge-primary",4,"ngIf"],[1,"badge","badge-primary"],[1,"d-flex","align-items-center","mb-4"],[1,"profile_dp"],[3,"src","alt"],["src","assets/images/icons/ok.png","alt","reaction"],["class","badge badge-primary ml-",4,"ngIf"],[1,"badge","badge-primary","ml-"],["src","assets/images/icons/lightbulb.png","alt","reaction"],["src","assets/images/icons/clap.png","alt","reaction"],["src","assets/images/icons/like.png","alt","reaction"]],template:function(t,e){1&t&&(i.Ic(0,IC,3,3,"div",0),i.Ic(1,KC,22,6,"ng-template",null,1,i.Jc),i.Ic(3,WC,3,1,"div",2),i.Ob(4,"ngx-loading",3)),2&t&&(i.oc("ngIf",e.userData.data.user_post_data.length>0),i.Ab(3),i.oc("ngIf",0==e.userData.data.user_post_data.length),i.Ab(1),i.oc("show",e.loading)("config",i.rc(4,$C)))},directives:[q,Oo,V,U,Mw,Uw,X_,Bs,Yr,Fs,Er,Ws,Qr,Us,Va,Iy,up,Zd,Gd],pipes:[Bw,Vw,ot,rt],styles:[""]}),t})();const QC=["reportProfile"],YC=function(t){return{src:t}},XC=function(t){return[t]};function JC(t,e){if(1&t&&(i.Tb(0,"div",39),i.Tb(1,"h4"),i.Ob(2,"img",40),i.Kc(3," Intro Video"),i.Sb(),i.Ob(4,"plyr",51),i.Sb()),2&t){const t=i.hc(2);i.Ab(4),i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,XC,i.sc(2,YC,t.teacherVideoPath+t.user.data.results.video)))}}const ZC=function(t){return{"text-full":t}};function tT(t,e){if(1&t){const t=i.Ub();i.Tb(0,"section",3),i.Tb(1,"div",4),i.Tb(2,"div",5),i.Tb(3,"div",6),i.Ob(4,"div",7),i.Tb(5,"div",8),i.Tb(6,"div",9),i.Tb(7,"div",10),i.Tb(8,"div",11),i.Ob(9,"img",12),i.Sb(),i.Sb(),i.Tb(10,"div",13),i.Tb(11,"h2"),i.Kc(12),i.Tb(13,"span",14),i.Ob(14,"img",15),i.Sb(),i.Sb(),i.Tb(15,"div",16),i.Tb(16,"div",17),i.Tb(17,"div",18),i.Tb(18,"a"),i.Kc(19),i.Sb(),i.Tb(20,"p",19),i.Kc(21),i.Sb(),i.Tb(22,"a",20),i.dc("click",function(){i.Bc(t);const e=i.hc();return e.showFullText=!e.showFullText}),i.Kc(23),i.Sb(),i.Sb(),i.Sb(),i.Tb(24,"div",17),i.Tb(25,"div",21),i.Tb(26,"ul",22),i.Tb(27,"li"),i.Ob(28,"img",23),i.Kc(29),i.Sb(),i.Tb(30,"li"),i.Ob(31,"img",24),i.Kc(32),i.Sb(),i.Sb(),i.Tb(33,"button",25),i.dc("click",function(){return i.Bc(t),i.hc().goToRoom()}),i.Kc(34,"Message"),i.Sb(),i.Tb(35,"button",26),i.dc("click",function(){return i.Bc(t),i.hc().onFollowUser()}),i.Kc(36),i.Sb(),i.Tb(37,"button",27),i.dc("click",function(){return i.Bc(t),i.hc().reportModal()}),i.Kc(38,"Report Profile"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(39,"div",28),i.Tb(40,"div",29),i.Tb(41,"div",30),i.Tb(42,"div",31),i.Tb(43,"ul"),i.Tb(44,"li"),i.Tb(45,"a",32),i.Ob(46,"img",33),i.Kc(47," Home "),i.Sb(),i.Sb(),i.Tb(48,"li"),i.Tb(49,"a",34),i.Ob(50,"img",35),i.Kc(51," My Network "),i.Sb(),i.Sb(),i.Tb(52,"li"),i.Tb(53,"a",36),i.Ob(54,"img",37),i.Kc(55," Messages "),i.Tb(56,"span",38),i.Kc(57),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(58,"div",39),i.Tb(59,"h4"),i.Ob(60,"img",40),i.Kc(61," Intro"),i.Sb(),i.Tb(62,"ul"),i.Tb(63,"li"),i.Ob(64,"img",41),i.Kc(65),i.ic(66,"uppercase"),i.Sb(),i.Tb(67,"li"),i.Ob(68,"img",42),i.Kc(69),i.ic(70,"titlecase"),i.Sb(),i.Tb(71,"li",43),i.Ob(72,"img",44),i.Kc(73),i.ic(74,"titlecase"),i.Sb(),i.Tb(75,"li"),i.Ob(76,"img",45),i.Kc(77),i.ic(78,"datefilter"),i.Sb(),i.Tb(79,"li"),i.Ob(80,"img",46),i.Kc(81),i.ic(82,"titlecase"),i.Sb(),i.Sb(),i.Sb(),i.Ic(83,JC,5,6,"div",47),i.Sb(),i.Sb(),i.Tb(84,"div",48),i.Tb(85,"div",49),i.Ob(86,"app-user-timeline",50),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(9),i.oc("src",t.user.data.results.profile_img?t.profilePath+t.user.data.results.profile_img:t.userAvatar,i.Dc)("alt",t.user.data.results.username),i.Ab(3),i.Mc(" ",t.user.data.results.username," "),i.Ab(2),i.oc("src",3==t.user.data.results.usertype?t.studentIcon:t.teacherIcon,i.Dc),i.Ab(5),i.Lc(t.user.data.results.email),i.Ab(1),i.oc("ngClass",i.sc(34,ZC,t.showFullText)),i.Ab(1),i.Lc(t.user.data.results.description),i.Ab(1),i.oc("hidden",t.user.data.results.description.length<200),i.Ab(1),i.Mc(" ",t.showFullText?"..Read Less":"Read More.."," "),i.Ab(6),i.Mc(" ",t.user.data.count_follower,""),i.Ab(3),i.Mc(" ",t.user.data.count_following,""),i.Ab(1),i.oc("hidden",0==t.user.data.results.usertype),i.Ab(3),i.Lc(1==t.followed?"Unfollow":"Follow"),i.Ab(17),i.oc("routerLink",0==t.myInbox.defaultChatroom?"/feed/inbox":"/feed/inbox/"+t.myInbox.defaultChatroom),i.Ab(3),i.oc("hidden",0==t.myInbox.newMsgs),i.Ab(1),i.Lc(t.myInbox.newMsgs),i.Ab(8),i.Lc(i.jc(66,24,t.user.data.results.qualification)),i.Ab(4),i.Lc(i.jc(70,26,t.user.data.results.university)),i.Ab(2),i.oc("hidden",3==t.user.data.results.usertype),i.Ab(2),i.Lc(i.jc(74,28,t.user.data.results.experience+" Year")),i.Ab(4),i.Mc("Joined on ",i.jc(78,30,t.user.data.results.created),""),i.Ab(4),i.Lc(i.jc(82,32,t.user.data.results.gender)),i.Ab(2),i.oc("ngIf",t.user.data.results.video.length>0),i.Ab(3),i.oc("userData",t.user)}}function eT(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",63),i.Tb(1,"input",64),i.dc("change",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).selectedReason=n}),i.Sb(),i.Tb(2,"label",65),i.Tb(3,"h6"),i.Kc(4),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=e.index;i.Ab(1),i.pc("id","reason"+-+n),i.Ab(1),i.pc("for","reason"+-+n),i.Ab(2),i.Lc(t)}}function nT(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",52),i.Tb(1,"div",53),i.Tb(2,"div",54),i.Tb(3,"div",55),i.Tb(4,"h5",56),i.Kc(5,"Report Profile"),i.Sb(),i.Sb(),i.Tb(6,"div",57),i.Tb(7,"form"),i.Ic(8,eT,5,3,"div",58),i.Tb(9,"textarea",59),i.dc("ngModelChange",function(e){return i.Bc(t),i.hc().specifiedReason=e}),i.Sb(),i.Tb(10,"p"),i.Kc(11,"lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, "),i.Sb(),i.Tb(12,"div",60),i.Tb(13,"a",61),i.Kc(14,"Back to Home"),i.Sb(),i.Tb(15,"button",62),i.dc("click",function(){return i.Bc(t),i.hc().onReportProfile()}),i.Kc(16,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(8),i.oc("ngForOf",t.reportReason),i.Ab(1),i.oc("ngModel",t.specifiedReason)}}const iT=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let rT=(()=>{class t{constructor(t,e,n,i,r){this.userService=t,this.route=e,this.router=n,this.modalService=i,this.notificationService=r,this.loading=!1,this.reportReason=["Pretending to be someone","Fake account","Posting inappropriate things","Harassment or bullying","Something else, specify in comment"],this.selectedReason="",this.specifiedReason="",this.profilePath="https://tanito.in/admin/assets/user-profile/",this.teacherVideoPath="https://tanito.in/admin/assets/teacher-video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.showFullText=!1,this.loggedUser=JSON.parse(this.userService.getUser()),this.userService.storeUpdatedUser().subscribe(t=>{this.loggedUser.count_following=t.count_following,this.loggedUser.following_id=t.following_id,localStorage.setItem("user",JSON.stringify(this.loggedUser)),this.getUserProfile()})}onFollowUser(){let t=new FormData;t.append("user_id",this.userService.loggedUserId()),t.append("follow_id",this.id),this.userService.followUser(t).subscribe(t=>{this.userService.updateUser(),"true"==t.followed&&this.notificationService.sendNotification(this.id,this.loggedUser.profile_img,this.loggedUser.username+" has started following you!")})}getUserProfile(){let t=new FormData;this.id=this.route.snapshot.params.id,t.append("id",this.id),this.loading=!0,this.userService.getUserById(t).subscribe(t=>{this.loading=!1,this.user=t,this.followed=this.loggedUser.following_id.some(t=>t.follower==this.id)})}goToRoom(){this.router.navigate(["/feed/inbox/"+this.user.data.results.user_id])}get inbox(){return localStorage.getItem("inbox")}ngOnInit(){this.getUserProfile(),this.myInbox=JSON.parse(this.inbox)}ngAfterContentChecked(){this.myInbox=this.inbox?JSON.parse(this.inbox):{defaultChatroom:0,newMsgs:0}}reportModal(){this.openModal(this.reportProfile)}onReportProfile(){if(this.selectedReason=this.selectedReason==this.reportReason[this.reportReason.length-1]?this.specifiedReason:this.selectedReason,this.selectedReason.length>0){let t=new FormData;t.append("from_id",this.loggedUser.id),t.append("to_id",this.id),t.append("reason",this.selectedReason),this.userService.reportUser(t).subscribe(t=>{0==t.status&&alert(t.msg),alert(t.msg),this.modalRef.hide()})}else 0==this.specifiedReason.length?alert("Please specify in comment!"):alert("Please select a reason!")}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"tanito"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(sb),i.Nb(Oy),i.Nb(Pa),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-user-profile"]],viewQuery:function(t,e){if(1&t&&i.Oc(QC,!0),2&t){let t;i.xc(t=i.ec())&&(e.reportProfile=t.first)}},decls:4,vars:4,consts:[["class","student_timeline student_sec",4,"ngIf"],["reportProfile",""],[3,"show","config"],[1,"student_timeline","student_sec"],[1,"container"],[1,"student_inr"],[1,"user_info_banner","custom_card"],[1,"user_info_top"],[1,"user_info_btm"],[1,"row","border_btm"],[1,"col-md-2"],[1,"profile_img"],[3,"src","alt"],[1,"col-md-10","pl-0"],[1,"tag_img"],["alt","user type",1,"user-type",3,"src"],[1,"row","mt-0","mt-sm-3"],[1,"col-md-6"],[1,"user_contact_info"],[3,"ngClass"],[3,"hidden","click"],[1,"users_followrs_dt"],[1,"d-flex","align-items-center"],["src","assets/images/icons/users_gray.png","alt","user"],["src","assets/images/icons/user_check.png","alt","user"],["type","button",1,"message_btn","purple_btn",3,"hidden","click"],["type","button",1,"follow_btn","purple_btn",3,"click"],["type","button",1,"report_btn","purple_btn",3,"click"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"student_lft"],[1,"custom_card","sideMenu_box"],["href","#","routerLink","/feed"],["src","assets/images/icons/home.png","alt","home"],["href","#","routerLink","/feed/network"],["src","assets/images/icons/users.png","alt","user"],["routerLinkActive","active",3,"routerLink"],["src","assets/images/icons/message.png","alt","message"],[1,"badge","badge-danger",3,"hidden"],[1,"custom_card","intro_box"],["src","assets/images/icons/earth-globe.png","alt","icon"],["src","assets/images/icons/graduated.png","alt","graduate"],["src","assets/images/icons/graduation-hat.png","alt","graduation hat"],[3,"hidden"],["src","assets/images/icons/work.svg","alt","work"],["src","assets/images/icons/clock.png","alt","clock"],["src","assets/images/icons/gender.png","alt","gender"],["class","custom_card intro_box",4,"ngIf"],[1,"col-md-8","col-lg-9"],[1,"student_rht","pr-0"],[3,"userData"],["plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources"],[1,"modal_tanito","report_modal"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],["name","message","placeholder","Type your message..",3,"ngModel","ngModelChange"],[1,"button_box","d-flex","align-items-center","justify-content-center"],["href","index.php",1,"back_to_home_btn","mr-2"],["type","button",1,"ml-2",3,"click"],[1,"form-check"],["type","radio","name","reason",1,"form-check-input",3,"id","change"],[1,"form-check-label",3,"for"]],template:function(t,e){1&t&&(i.Ic(0,tT,87,36,"section",0),i.Ic(1,nT,17,2,"ng-template",null,1,i.Jc),i.Ob(3,"ngx-loading",2)),2&t&&(i.oc("ngIf",e.user),i.Ab(3),i.oc("show",e.loading)("config",i.rc(3,iT)))},directives:[q,Oo,U,Ay,Dy,GC,Va,Bs,Yr,Fs,V,Er,Qr,Us],pipes:[at,ot,CS],styles:[".users_followrs_dt{white-space:nowrap}@media screen and (max-width:1199px){.users_followrs_dt{white-space:normal}}"],encapsulation:2}),t})(),sT=(()=>{class t{constructor(t,e){this.userService=t,this.db=e,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.sender=JSON.parse(this.userService.getUser()),this.senderId=this.sender.id}sendMessage(t,e,n){let i=[];i=this.getMessages(n),this.lastMsg=t,i.push({message:t,attachment:e,timeSent:Date(),senderPic:this.profilePath+this.sender.profile_img,senderType:this.sender.usertype,senderId:this.senderId})}getMessages(t){return this.chatId=t,this.db.list("/chats/"+this.chatId)}getRooms(t){return this.db.list("/members/"+t)}createRoom(t){let e=this.sender,n=t.user_id,i=this.chatId,r=this.lastMsg,s=this.db;this.db.database.ref("/members/").once("value").then(function(o){let a=[],c=o.child(e.id).val(),l=o.child(n).val();for(const t in c)a.push(c[t]);if(a.some(t=>t.memberId==n)){for(const t in c)if(c[t].memberId==n){s.list("/members/"+e.id).update(t,{lastMsg:"You: "+(r.length>0?r:"File"),msgSeen:!0});break}for(const t in l)if(l[t].memberId==e.id){s.list("/members/"+n).update(t,{lastMsg:e.username.slice(0,e.username.indexOf(" "))+": "+(r.length>0?r:"File"),newMsg:1,msgSeen:!1});break}}else s.list("/members/"+e.id).push({chatId:i,memberId:n,memberName:t.username,profileImg:t.profile_img,lastMsg:"You: "+(r.length>0?r:"File"),msgSeen:!0}),s.list("/members/"+n).push({chatId:i,memberId:e.id,memberName:e.username,profileImg:e.profile_img.slice(e.profile_img.lastIndexOf("/")+1),lastMsg:e.username.slice(0,e.username.indexOf(" "))+": "+(r.length>0?r:"File"),newMsg:1,msgSeen:!1})})}readNewMsg(t){let e=this.sender,n=t,i=this.db;this.db.database.ref("/members/").once("value").then(function(t){let r=t.child(e.id).val();for(const s in r)if(r[s].memberId==n){i.list("/members/"+e.id).update(s,{msgSeen:!0});break}})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(iw),i.ac(Nw))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oT=(()=>{class t{transform(t){const e=new Date(t);return e.toLocaleDateString()+" | "+e.getHours()+":"+e.getMinutes()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"chatTime",type:t,pure:!0}),t})();function aT(t,e){if(1&t&&i.Ob(0,"img",13),2&t){const t=i.hc().$implicit;i.oc("src",t.attachment,i.Dc)}}function cT(t,e){if(1&t&&(i.Tb(0,"video",14),i.Ob(1,"source",15),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.oc("src",t.attachment,i.Dc)}}const lT=function(t){return{"own-msg":t}};function uT(t,e){if(1&t&&(i.Tb(0,"div",3),i.Tb(1,"div",4),i.Tb(2,"div",5),i.Tb(3,"span",6),i.Ob(4,"img",7),i.Sb(),i.Sb(),i.Tb(5,"div",8),i.Tb(6,"h4"),i.Kc(7),i.Ob(8,"img",9),i.Tb(9,"span"),i.Kc(10),i.ic(11,"chatTime"),i.Sb(),i.Sb(),i.Tb(12,"div",10),i.Tb(13,"p"),i.Kc(14),i.Sb(),i.Sb(),i.Ic(15,aT,1,1,"img",11),i.Ic(16,cT,2,1,"video",12),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc();i.oc("ngClass",i.sc(11,lT,t.senderId==n.loggedUserId)),i.Ab(4),i.oc("src",t.senderPic,i.Dc),i.Ab(3),i.Mc("",t.username," "),i.Ab(1),i.oc("src",3==t.senderType?n.studentIcon:n.teacherIcon,i.Dc),i.Ab(2),i.Lc(i.jc(11,9,t.timeSent)),i.Ab(2),i.oc("hidden",0==t.message.length),i.Ab(2),i.Lc(t.message),i.Ab(1),i.oc("ngIf",-1!==t.attachment.search(n.imgRegex)),i.Ab(1),i.oc("ngIf",-1!==t.attachment.search(n.vdoRegex))}}let hT=(()=>{class t{constructor(t){this.userService=t,this.imgRegex=new RegExp(/\.(gif|jpe?g|tiff?|png|webp|bmp)/g),this.vdoRegex=new RegExp(/\.(mp4|avi|mov|wmv|webm|mkv|flv)/g),this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.loggedUserId=JSON.parse(this.userService.getUser()).id}ngOnInit(){}scrollToBottom(){}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-chatroom"]],inputs:{chatFeeds:"chatFeeds",events:"events"},decls:3,vars:1,consts:[[1,"chatBox_msg_body"],[1,"inner-wrap"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"message",3,"ngClass"],[1,"row"],[1,"col-md-1"],[1,"dp_box"],["alt","profile",3,"src"],[1,"col-md-11","msg-body-col"],["alt","teacher",1,"ml-3",3,"src"],[1,"msg_body","msg_body_blue_bg",3,"hidden"],["class","attachment",3,"src",4,"ngIf"],["class","attachment","controls","",4,"ngIf"],[1,"attachment",3,"src"],["controls","",1,"attachment"],["type","video/mp4",3,"src"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Ic(2,uT,17,13,"div",2),i.Sb(),i.Sb()),2&t&&(i.Ab(2),i.oc("ngForOf",e.chatFeeds))},directives:[V,U,q],pipes:[oT],styles:[".message[_ngcontent-%COMP%]{margin:25px 0}.message[_ngcontent-%COMP%]   .msg-body-col[_ngcontent-%COMP%]{padding-left:0}.message[_ngcontent-%COMP%]   .msg-body-col[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]{float:right;margin:8px 0;max-width:100%;max-height:450px}.message[_ngcontent-%COMP%]   .dp_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;border-radius:50%}.message.own-msg[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:row-reverse}.message.own-msg[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.message.own-msg[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{order:2}.message.own-msg[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .msg-body-col[_ngcontent-%COMP%]{padding-right:0;padding-left:15px}.message.own-msg[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .msg-body-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all}"]}),t})();var dT=n("Nv8m"),pT=n("5yfJ"),fT=n("1uah"),mT=n("0Pi8");const gT=["*"],bT=["dialog"];function yT(t,e){1&t&&i.Kc(0),2&t&&i.Lc(100===e.fill?"\u2605":"\u2606")}function vT(t,e){}function _T(t,e){if(1&t){const t=i.Ub();i.Tb(0,"span",2),i.Kc(1),i.Sb(),i.Tb(2,"span",3),i.dc("mouseenter",function(){i.Bc(t);const n=e.index;return i.hc().enter(n+1)})("click",function(){i.Bc(t);const n=e.index;return i.hc().handleClick(n+1)}),i.Ic(3,vT,0,0,"ng-template",4),i.Sb()}if(2&t){const t=e.index,n=i.hc(),r=i.yc(1);i.Ab(1),i.Mc("(",t<n.nextRate?"*":" ",")"),i.Ab(1),i.Hc("cursor",n.isInteractive()?"pointer":"default"),i.Ab(1),i.oc("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||r)("ngTemplateOutletContext",n.contexts[t])}}function wT(t,e,n=0){return Math.max(Math.min(t,e),n)}function ST(t){return null!=t}function CT(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const TT={animation:!0,transitionTimerDelayMs:5};let kT=(()=>{class t{constructor(){this.animation=TT.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const xT=()=>{},{transitionTimerDelayMs:ET}=TT,OT=new Map,IT=(t,e,n,i)=>{let r=i.context||{};const s=OT.get(e);if(s)switch(i.runningTransition){case"continue":return Yh.a;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),OT.delete(e)}const o=n(e,i.animation,r)||xT;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(ji.a)(void 0).pipe(function(t){return e=>new Mi.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Lo.a,c=new Lo.a,l=a.pipe(Object(mT.a)(!0));OT.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Object(jo.a)(e,"transitionend").pipe(Object(jl.a)(l),Object(Bi.a)(({target:t})=>t===e)),i=Object(Ed.a)(u+ET).pipe(Object(jl.a)(l));Object(dT.a)(i,n,c).pipe(Object(jl.a)(l)).subscribe(()=>{OT.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let AT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),PT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),DT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),RT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),NT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();var LT=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const FT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jT(t){const e=Array.from(t.querySelectorAll(FT)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(i=this.offset(e,!1)),i.top+=e.clientTop,i.left+=e.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,i){const[r="top",s="center"]=n.split("-"),o=i?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),l=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(r){case"top":d=o.top-(e.offsetHeight+c+l);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+u+h);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===r||"bottom"===r?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,b=window.innerWidth||m.clientWidth;return f.left>=0&&f.top>=0&&f.right<=b&&f.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let MT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut,io]]}),t})(),UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["",8,"navbar"]]}),t})(),BT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),VT=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(i.ac(kT))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(kT))},token:t,providedIn:"root"}),t})();class zT{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const qT=()=>{};let HT=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):qT}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=i+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),KT=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(fc.a)(1)).subscribe(()=>{IT(this._zone,this._el.nativeElement,(t,e)=>{e&&CT(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return IT(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.z))},t.\u0275cmp=i.Hb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),i.Fb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class WT{close(t){}dismiss(t){}}class $T{constructor(t,e,n,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=i,this._closed=new Lo.a,this._dismissed=new Lo.a,this._hidden=new Lo.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(jl.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(jl.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(ji.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Object(fT.b)(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var GT=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let QT=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Lo.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.n,this.shown=new Lo.a,this.hidden=new Lo.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=IT(this._zone,t,()=>t.classList.remove("show"),e),i=IT(this._zone,this._dialogEl.nativeElement,()=>{},e),r=Object(fT.b)(n,i);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){const t={animation:this.animation,runningTransition:"continue"},e=IT(this._zone,this._elRef.nativeElement,(t,e)=>{e&&CT(t),t.classList.add("show")},t),n=IT(this._zone,this._dialogEl.nativeElement,()=>{},t);Object(fT.b)(e,n).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Object(jo.a)(t,"keydown").pipe(Object(jl.a)(this._closed$),Object(Bi.a)(t=>t.which===LT.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(GT.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Object(jo.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(jl.a)(this._closed$),Object(Ha.a)(()=>e=!1),Object(Ma.a)(()=>Object(jo.a)(t,"mouseup").pipe(Object(jl.a)(this._closed$),Object(fc.a)(1))),Object(Bi.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Object(jo.a)(t,"click").pipe(Object(jl.a)(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(GT.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=jT(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&IT(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(c),i.Nb(i.l),i.Nb(i.z))},t.\u0275cmp=i.Hb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&i.Gc(bT,!0),2&t){let t;i.xc(t=i.ec())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),i.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),i.Fb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:gT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(i.nc(),i.Tb(0,"div",0,1),i.Tb(2,"div",2),i.mc(3),i.Sb(),i.Sb()),2&t&&i.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),YT=(()=>{class t{constructor(t,e,n,r,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Lo.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new i.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Object(jo.a)(e,"focusin").pipe(Object(jl.a)(n),Object(Vi.a)(t=>t.target));Object(jo.a)(e,"keydown").pipe(Object(jl.a)(n),Object(Bi.a)(t=>t.which===LT.Tab),Object(yw.a)(t)).subscribe(([t,n])=>{const[i,r]=jT(e);n!==i&&n!==e||!t.shiftKey||(r.focus(),t.preventDefault()),n!==r||t.shiftKey||(i.focus(),t.preventDefault())}),i&&Object(jo.a)(e,"click").pipe(Object(jl.a)(n),Object(yw.a)(t),Object(Vi.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,i){const r=i.container instanceof HTMLElement?i.container:ST(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const c=new WT,l=this._getContentRef(t,i.injector||e,n,c,i);let u=!1!==i.backdrop?this._attachBackdrop(t,r):void 0,h=this._attachWindowComponent(t,r,l),d=new $T(h,l,u,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,i),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(KT).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let i=t.resolveComponentFactory(QT).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{ST(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{ST(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,s){return n?n instanceof i.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,s):new zT([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new zT([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new zT([[e]])}_createFromComponent(t,e,n,r,s){const o=t.resolveComponentFactory(n),a=i.r.create({providers:[{provide:WT,useValue:r}],parent:e}),c=o.create(a),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new zT([[l]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.g),i.ac(i.r),i.ac(c),i.ac(HT),i.ac(i.F),i.ac(i.z))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.g),Object(i.ac)(i.o),Object(i.ac)(c),Object(i.ac)(HT),Object(i.ac)(i.F),Object(i.ac)(i.z))},token:t,providedIn:"root"}),t})(),XT=(()=>{class t{constructor(t,e,n,i){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=i}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.j),i.ac(i.r),i.ac(YT),i.ac(VT))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.j),Object(i.ac)(i.o),Object(i.ac)(YT),Object(i.ac)(VT))},token:t,providedIn:"root"}),t})(),JT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[XT]}),t})(),ZT=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),tk=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),ek=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),nk=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),ik=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rk=(()=>{class t{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new i.n,this.leave=new i.n,this.rateChange=new i.n(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case LT.ArrowDown:case LT.ArrowLeft:this.update(this.rate-1);break;case LT.ArrowUp:case LT.ArrowRight:this.update(this.rate+1);break;case LT.Home:this.update(0);break;case LT.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const n=wT(t,this.max,0);this.isInteractive()&&this.rate!==n&&(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((e,n)=>e.fill=Math.round(100*wT(t-n,1,0)))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(ik),i.Nb(i.h))},t.\u0275cmp=i.Hb({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,i.L,!0),2&t){let t;i.xc(t=i.ec())&&(e.starTemplateFromContent=t.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&i.dc("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)})("mouseleave",function(){return e.reset()}),2&t&&(i.Wb("tabindex",e.disabled?-1:0),i.Bb("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.zb([{provide:Sr,useExisting:Object(i.U)(()=>t),multi:!0}]),i.yb],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(i.Ic(0,yT,1,1,"ng-template",null,0,i.Jc),i.Ic(2,_T,4,5,"ng-template",1)),2&t&&(i.Ab(2),i.oc("ngForOf",e.contexts))},directives:[V,X],encapsulation:2,changeDetection:0}),t})(),sk=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),ok=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),ak=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})(),ck=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})();new i.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});let lk=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[ut]]}),t})();const uk=[AT,PT,DT,RT,NT,MT,BT,JT,ZT,tk,ek,nk,sk,ok,ak,ck,lk];let hk=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[uk,AT,PT,DT,RT,NT,MT,BT,JT,ZT,tk,ek,nk,sk,ok,ak,ck,lk]}),t})();const dk=["buyPremium"],pk=["rateTeacher"],fk=["chatBox"],mk=["fileInput"];function gk(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",26),i.Tb(1,"div",27),i.Tb(2,"span",28),i.Ob(3,"img",29),i.Sb(),i.Tb(4,"h4",30),i.Kc(5),i.Tb(6,"span"),i.Kc(7),i.Ob(8,"img",31),i.Sb(),i.Sb(),i.Sb(),i.Tb(9,"div",32),i.Tb(10,"h4"),i.Kc(11,"Messages"),i.Sb(),i.Tb(12,"button",33),i.dc("click",function(){return i.Bc(t),i.hc(2).toggleRooms()}),i.Ob(13,"img",34),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc(2);i.Ab(3),i.oc("src",t.profilePath+t.receiver.profile_img,i.Dc)("routerLink","/user/"+t.receiver.user_id),i.Ab(1),i.oc("routerLink","/user/"+t.receiver.user_id),i.Ab(1),i.Mc(" ",t.receiver.username," "),i.Ab(2),i.Mc("",(3==t.receiver.usertype?"Student at ":"Teacher at ")+t.receiver.university," "),i.Ab(1),i.oc("src",3==t.receiver.usertype?t.studentIcon:t.teacherIcon,i.Dc)}}function bk(t,e){if(1&t&&(i.Tb(0,"span",35),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Lc(t.file.name)}}function yk(t,e){1&t&&(i.Tb(0,"span",43),i.Kc(1,"1"),i.Sb())}function vk(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",36),i.Tb(1,"div",37),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onMsgRead(n.memberId)}),i.Tb(2,"div",38),i.Tb(3,"span"),i.Ob(4,"img",39),i.Sb(),i.Sb(),i.Tb(5,"div",40),i.Tb(6,"div",41),i.Tb(7,"h3"),i.Kc(8),i.Ic(9,yk,2,0,"span",42),i.Sb(),i.Tb(10,"span"),i.Kc(11,"Jan 4"),i.Sb(),i.Sb(),i.Tb(12,"p"),i.Kc(13),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(2);i.oc("routerLink","/feed/inbox/"+t.memberId),i.Ab(4),i.oc("src",n.profilePath+t.profileImg,i.Dc),i.Ab(4),i.Mc("",t.memberName," "),i.Ab(1),i.oc("ngIf",!t.msgSeen),i.Ab(4),i.Lc(t.lastMsg)}}const _k=function(t){return{show:t}};function wk(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",6),i.Tb(1,"div",7),i.Ic(2,gk,14,6,"div",8),i.Tb(3,"div",9),i.Ob(4,"app-chatroom",10),i.Sb(),i.Tb(5,"div",11),i.Tb(6,"textarea",12),i.dc("ngModelChange",function(e){return i.Bc(t),i.hc().message=e})("keyup.enter",function(){return i.Bc(t),i.hc().onSendMsg()}),i.Sb(),i.Tb(7,"div",13),i.Tb(8,"div",14),i.Ic(9,bk,2,1,"span",15),i.Tb(10,"input",16,17),i.dc("change",function(e){return i.Bc(t),i.hc().onSelectFile(e)}),i.Sb(),i.Tb(12,"label",18),i.Ob(13,"img",19),i.Sb(),i.Sb(),i.Tb(14,"i",20),i.dc("click",function(){return i.Bc(t),i.hc().fileReset()}),i.Sb(),i.Tb(15,"button",21),i.Tb(16,"img",22),i.dc("click",function(){return i.Bc(t),i.hc().onSendMsg()}),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(17,"div",23),i.Tb(18,"div",24),i.Ic(19,vk,14,5,"div",25),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(2),i.oc("ngIf",t.isFetched&&t.receiver),i.Ab(2),i.oc("chatFeeds",t.feeds),i.Ab(2),i.oc("ngModel",t.message),i.Ab(3),i.oc("ngIf",t.file),i.Ab(5),i.oc("hidden",!t.file),i.Ab(3),i.oc("ngClass",i.sc(7,_k,t.showRooms)),i.Ab(2),i.oc("ngForOf",t.chatRooms)}}function Sk(t,e){1&t&&(i.Tb(0,"div",44),i.Tb(1,"h5"),i.Kc(2,"You have no message!"),i.Sb(),i.Sb())}function Ck(t,e){1&t&&(i.Tb(0,"div",45),i.Tb(1,"div",46),i.Tb(2,"div",47),i.Tb(3,"div",48),i.Tb(4,"h5",49),i.Kc(5,"Buy Premium"),i.Sb(),i.Sb(),i.Tb(6,"div",50),i.Tb(7,"p",51),i.Kc(8,"Hey, You have used your free message credit limit. Now explore our premium plans!"),i.Sb(),i.Tb(9,"a",52),i.Kc(10,"Try Tanito Premium"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb())}function Tk(t,e){if(1&t&&(i.Tb(0,"span",59),i.Kc(1,"\u2605"),i.Sb()),2&t){const t=e.index;i.Fb("filled",100===e.fill)("bad",t<3)}}function kk(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",53),i.Tb(1,"div",46),i.Tb(2,"div",47),i.Tb(3,"div",48),i.Tb(4,"h5",49),i.Kc(5,"Rate Teacher"),i.Sb(),i.Sb(),i.Tb(6,"div",50),i.Tb(7,"div",54),i.Tb(8,"ngb-rating",55),i.dc("rateChange",function(e){return i.Bc(t),i.hc().currentRate=e}),i.Ic(9,Tk,2,4,"ng-template"),i.Sb(),i.Ob(10,"hr"),i.Tb(11,"p"),i.Kc(12),i.Sb(),i.Sb(),i.Tb(13,"div",56),i.Tb(14,"a",57),i.dc("click",function(){return i.Bc(t),i.hc().modalService.hide()}),i.Kc(15,"Back to Home"),i.Sb(),i.Tb(16,"button",58),i.dc("click",function(){return i.Bc(t),i.hc().onRateTeacher()}),i.Kc(17,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(8),i.oc("rate",t.currentRate)("max",5),i.Ab(4),i.Mc("Share your experience by give rating to ",t.receiver.username,"")}}const xk=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Ek=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.chatService=t,this.userService=e,this.storage=n,this.videoService=i,this.myPlanService=r,this.route=s,this.modalService=o,this.router=a,this.feeds=[],this.message="",this.chatRooms=[],this.isFetched=!1,this.loading=!1,this.showRooms=!1,this.currentRate=0,this.fileUrl="",this.vdoRegex=new RegExp(/\.(mp4|avi|mov|wmv|webm|mkv|flv)/g),this.isPlanActive=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.loggedUserId=JSON.parse(this.userService.getUser()).id,this.route.params.subscribe(t=>{let e;if(this.showRooms=!1,e=t.id,e){let t=new FormData;t.append("id",e),this.userService.getUserById(t).subscribe(t=>{this.isFetched=!0,this.receiver=t.data.results,this.receiver?(this.loading=!0,this.onMsgRead(e),this.chatService.getRooms(this.loggedUserId).valueChanges().subscribe(t=>{if(this.chatRooms=t,this.isRoomFound=this.chatRooms.some(t=>t.memberId==e),this.isRoomFound){let t=this.chatRooms.find(t=>t.memberId==e);this.chatRoomId=t.chatId}else this.chatRoomId=e+"&"+this.loggedUserId;this.getFeeds()})):(this.loading=!1,alert("The user you had conversation with does'nt exist now!"),this.router.navigate(["/feed/inbox/"+this.chatRooms[0].memberId]))})}})}ngOnInit(){this.myPlanService.getCurrentPlan()&&!this.myPlanService.isPlanExpired()&&(this.isPlanActive=!0),setTimeout(()=>{if(this.feeds.length>0&&2==this.receiver.usertype){let t=new FormData;t.append("id",this.loggedUserId),this.userService.getRating(t).subscribe(t=>{if(!t.data.result.some(t=>t.to_id==this.receiver.user_id)){let t=this.feeds[this.feeds.length-1];if(t.senderId==this.loggedUserId){let e=new Date(t.timeSent),n=new Date,i=Math.abs(n-e);Math.ceil(i/864e5)>3&&this.openModal(this.rateTeacher)}}})}},3e3)}onRateTeacher(){let t=new FormData;t.append("from_id",this.loggedUserId),t.append("to_id",this.receiver.user_id),t.append("remarks",this.currentRate.toString()),this.loading=!0,this.userService.rateTeacher(t).subscribe(t=>{this.loading=!1,alert("Rating Submitted!"),this.modalService.hide()})}onMsgRead(t){this.chatService.readNewMsg(t)}getFeeds(){this.chatService.getMessages(this.chatRoomId).valueChanges().subscribe(t=>{this.loading=!1,this.feeds=t,this.scrollToBottom()})}onSendMsg(){this.isPlanActive||this.chatRooms.length<5||this.isRoomFound?(this.message.length>0||this.fileUrl.length>0)&&(this.chatService.sendMessage(this.message,this.fileUrl,this.chatRoomId),this.chatService.createRoom(this.receiver),this.message="",this.fileReset()):this.openModal(this.buyPremium)}scrollToBottom(){let t=this.chatBox.nativeElement.querySelector(".chat_box_body"),e=t.querySelector(".inner-wrap");t.scrollTop=e.offsetHeight}openModal(t){this.modalService.show(t,Object.assign({},{class:"tanito"}))}toggleRooms(){this.showRooms=!this.showRooms}onSelectFile(t){this.file=t.target.files[0],-1!==this.file.name.search(this.vdoRegex)?this.videoService.generateThumbnail(this.file,!1).then(t=>{this.loading=!0,this.storage.upload(this.file.name,this.file).then(t=>{t.ref.getDownloadURL().then(t=>{this.loading=!1,this.fileUrl=t})})}).catch(t=>{alert(t),this.fileReset()}):(this.loading=!0,this.storage.upload(this.file.name.toLowerCase(),this.file).then(t=>{t.ref.getDownloadURL().then(t=>{this.loading=!1,this.fileUrl=t})}))}fileReset(){this.file=null,this.fileInput.nativeElement.value="",this.fileUrl=""}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(sT),i.Nb(iw),i.Nb(Km),i.Nb(bw),i.Nb(Fw),i.Nb(sb),i.Nb(Pa),i.Nb(Oy))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-inbox"]],viewQuery:function(t,e){if(1&t&&(i.Oc(dk,!0),i.Oc(pk,!0),i.Gc(fk,!0),i.Oc(mk,!0)),2&t){let t;i.xc(t=i.ec())&&(e.buyPremium=t.first),i.xc(t=i.ec())&&(e.rateTeacher=t.first),i.xc(t=i.ec())&&(e.chatBox=t.first),i.xc(t=i.ec())&&(e.fileInput=t.first)}},decls:9,vars:5,consts:[["chatBox",""],["class","student_rht chat_box_rht",4,"ngIf"],["class","student_rht chat_box_rht no-msg",4,"ngIf"],["buyPremium",""],["rateTeacher",""],[3,"show","config"],[1,"student_rht","chat_box_rht"],[1,"chat_box"],["class","chat_box_top d-flex align-items-center",4,"ngIf"],[1,"chat_box_body","width_body"],[3,"chatFeeds"],[1,"chat_box_ftr","d-flex","align-items-center","width_body"],["placeholder","Write a message..",3,"ngModel","ngModelChange","keyup.enter"],[1,"btns","d-flex","align-items-center","pl-2"],[1,"d-flex"],["class","filename",4,"ngIf"],["type","file","id","attach",1,"d-none",3,"change"],["fileInput",""],["for","attach",1,"m-0"],["src","assets/images/icons/attached.svg","width","25","alt","attach icon",2,"cursor","pointer"],["aria-hidden","true",1,"fa","fa-trash",3,"hidden","click"],["type","submit"],["src","assets/images/icons/send_icon.png","alt","send",3,"click"],[1,"msg_panel",3,"ngClass"],[1,"msg_panel_inr"],["class","indvsl_msg_box","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"chat_box_top","d-flex","align-items-center"],[1,"chatBoxTop_lft","d-flex","align-items-center"],[1,"dp_box"],["alt","profile",3,"src","routerLink"],[3,"routerLink"],["alt","user type",1,"user-type",3,"src"],[1,"chatBoxTop_rht","d-flex","align-items-center","justify-content-between"],["type","button",1,"message_tgle",3,"click"],["src","assets/images/icons/three_dots.png","alt","icon"],[1,"filename"],["routerLinkActive","active",1,"indvsl_msg_box",3,"routerLink"],[1,"row",3,"click"],[1,"col-md-2"],["alt","images",3,"src"],[1,"col-md-10"],[1,"d-flex","align-items-center","justify-content-between"],["class","msg_badge",4,"ngIf"],[1,"msg_badge"],[1,"student_rht","chat_box_rht","no-msg"],["id","signotpmodal",1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"mb-4"],["href","#","type","button","routerLink","/plans",1,"text-purple","btn_primary","btn-sm"],[1,"modal_tanito","report_modal"],[1,"rating"],[3,"rate","max","rateChange"],[1,"button_box","d-flex","align-items-center","justify-content-center"],[1,"back_to_home_btn","mr-2",3,"click"],["type","button",1,"ml-2",3,"click"],[1,"star"]],template:function(t,e){1&t&&(i.Tb(0,"div",null,0),i.Ic(2,wk,20,9,"div",1),i.Sb(),i.Ic(3,Sk,3,0,"div",2),i.Ic(4,Ck,11,0,"ng-template",null,3,i.Jc),i.Ic(6,kk,18,3,"ng-template",null,4,i.Jc),i.Ob(8,"ngx-loading",5)),2&t&&(i.Ab(2),i.oc("ngIf",e.isFetched||e.chatRooms.length>0),i.Ab(1),i.oc("ngIf",!e.isFetched&&0==e.chatRooms.length),i.Ab(5),i.oc("show",e.loading)("config",i.rc(4,xk)))},directives:[q,Oo,hT,Er,Qr,Us,U,V,Iy,Dy,Ay,rk],styles:[".indvsl_msg_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:cover;border-radius:50%}.chat_box_rht.no-msg[_ngcontent-%COMP%]{background:#fff;border-radius:30px;padding:30px}.filename[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;font-size:14px;color:#9d9d9d}.fa-trash[_ngcontent-%COMP%]{font-size:20px;margin-left:20px;color:#9d9d9d}.rating[_ngcontent-%COMP%]{display:block!important;text-align:center}.rating[_ngcontent-%COMP%]   ngb-rating[_ngcontent-%COMP%]{outline:none}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:50px;color:#b0c4de}.rating[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#514dc5}"]}),t})();function Ok(t,e){if(1&t&&(i.Tb(0,"div",4),i.Tb(1,"div",5),i.Ob(2,"img",6),i.Tb(3,"h5",7),i.Kc(4),i.Sb(),i.Tb(5,"p",8),i.Kc(6),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc();i.oc("routerLink","/user/"+t.user_id),i.Ab(2),i.oc("src",n.path+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Mc("",t.username," \xa0"),i.Ab(2),i.Lc((3==t.usertype?"Student at ":"Teacher at ")+t.university)}}function Ik(t,e){1&t&&(i.Tb(0,"h5"),i.Kc(1,"You don't have any follower!"),i.Sb())}const Ak=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Pk=(()=>{class t{constructor(t){this.userService=t,this.followers=[],this.loading=!1}ngOnInit(){let t=JSON.parse(this.userService.getUser()),e=new FormData;e.append("user_id",t.id),this.loading=!0,this.userService.getFollowers(e).subscribe(t=>{this.loading=!1,this.path=t.data.urlkey,this.followers=t.data.follower})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-followers"]],decls:4,vars:5,consts:[[1,"row"],["class","col-sm-6 col-xl-3 card-wrap",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"show","config"],[1,"col-sm-6","col-xl-3","card-wrap",3,"routerLink"],[1,"testi-content","text-center"],[1,"img-fluid","mx-auto","d-block","rounded-circle","user-img",3,"src","alt"],[1,"mt-4","mb-4"],[1,"mb-4"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Ic(1,Ok,7,5,"div",1),i.Ic(2,Ik,2,0,"h5",2),i.Ob(3,"ngx-loading",3),i.Sb()),2&t&&(i.Ab(1),i.oc("ngForOf",e.followers),i.Ab(1),i.oc("ngIf",0==e.followers.length&&!e.loading),i.Ab(1),i.oc("show",e.loading)("config",i.rc(4,Ak)))},directives:[V,q,Oo,Iy],styles:[".card-wrap[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function Dk(t,e){if(1&t&&(i.Tb(0,"div",4),i.Tb(1,"div",5),i.Ob(2,"img",6),i.Tb(3,"h5",7),i.Kc(4),i.Sb(),i.Tb(5,"p",8),i.Kc(6),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc();i.oc("routerLink","/user/"+t.follower),i.Ab(2),i.oc("src",n.path+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Mc("",t.username," \xa0"),i.Ab(2),i.Lc((3==t.usertype?"Student at ":"Teacher at ")+t.university)}}function Rk(t,e){1&t&&(i.Tb(0,"h5"),i.Kc(1,"You are not following anyone!"),i.Sb())}const Nk=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Lk=(()=>{class t{constructor(t){this.userService=t,this.following=[],this.loading=!1}ngOnInit(){let t=JSON.parse(this.userService.getUser()),e=new FormData;e.append("user_id",t.id),this.loading=!0,this.userService.getFollowing(e).subscribe(t=>{this.loading=!1,this.path=t.data.urlkey,this.following=t.data.following})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-following"]],decls:4,vars:5,consts:[[1,"row"],["class","col-sm-6 col-xl-3 card-wrap",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"show","config"],[1,"col-sm-6","col-xl-3","card-wrap",3,"routerLink"],[1,"testi-content","text-center"],[1,"img-fluid","mx-auto","d-block","rounded-circle","user-img",3,"src","alt"],[1,"mt-4","mb-4"],[1,"mb-4"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Ic(1,Dk,7,5,"div",1),i.Ic(2,Rk,2,0,"h5",2),i.Ob(3,"ngx-loading",3),i.Sb()),2&t&&(i.Ab(1),i.oc("ngForOf",e.following),i.Ab(1),i.oc("ngIf",0==e.following.length&&!e.loading),i.Ab(1),i.oc("show",e.loading)("config",i.rc(4,Nk)))},directives:[V,q,Oo,Iy],styles:[".card-wrap[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();const Fk=function(){return{exact:!0}};let jk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-network"]],decls:9,vars:4,consts:[[1,"student_rht","network_rht"],[1,"custom_card"],[1,"tabs_wrpr"],[1,"tabs_follow"],["routerLink","/feed/network","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","followers","routerLinkActive","active",3,"routerLinkActiveOptions"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"ul",3),i.Tb(4,"li",4),i.Kc(5,"Your Tanito Following"),i.Sb(),i.Tb(6,"li",5),i.Kc(7,"Your Tanito Followers"),i.Sb(),i.Sb(),i.Sb(),i.Ob(8,"router-outlet"),i.Sb(),i.Sb()),2&t&&(i.Ab(4),i.oc("routerLinkActiveOptions",i.rc(2,Fk)),i.Ab(2),i.oc("routerLinkActiveOptions",i.rc(3,Fk)))},directives:[Iy,Dy,Ry],styles:[""]}),t})();function Mk(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",7),i.Tb(1,"div",8),i.Tb(2,"span",9),i.Ob(3,"img",10),i.Ob(4,"img",11),i.Sb(),i.Tb(5,"div",12),i.Tb(6,"h4",9),i.Kc(7),i.Sb(),i.Tb(8,"span"),i.Kc(9),i.Sb(),i.Sb(),i.Sb(),i.Tb(10,"div",13),i.Tb(11,"button",14),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=e.index;return i.hc().onFollowUser(n.data.id,n.data.profile_img,r)}),i.Kc(12),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc();i.Ab(2),i.oc("routerLink","/user/"+t.data.id),i.Ab(1),i.oc("src",t.data.profile_img.length>0?n.path+t.data.profile_img:n.userAvatar,i.Dc)("alt",t.data.username),i.Ab(1),i.oc("src",3==t.data.usertype?n.studentIcon:n.teacherIcon,i.Dc),i.Ab(2),i.oc("routerLink","/user/"+t.data.id),i.Ab(1),i.Lc(t.data.username),i.Ab(2),i.Lc((3==t.data.usertype?"Teacher at ":"Student at ")+t.data.university),i.Ab(3),i.Lc(1==t.followed?"Unfollow":"Follow")}}const Uk=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Bk=(()=>{class t{constructor(t,e){this.userService=t,this.notificationService=e,this.loading=!1,this.isFollowed=!1,this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.loggedUser=JSON.parse(this.userService.getUser()),this.userService.fetchAllUser().subscribe(t=>{this.users=t.users,this.path=t.urlkey})}onFollowUser(t,e,n){this.loading=!0;let i=new FormData;i.append("user_id",this.userService.loggedUserId()),i.append("follow_id",t),this.userService.followUser(i).subscribe(e=>{this.loading=!1,this.userService.updateUser(),this.users[n].followed=!this.users[n].followed,"true"==e.followed&&this.notificationService.sendNotification(t,this.loggedUser.profile_img,this.loggedUser.username+" has started following you!")})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-users"]],decls:9,vars:4,consts:[[1,"student_rht"],[1,"custom_card","networks_people"],[1,"network_top"],["src","assets/images/icons/down-arrow.png","alt","arrow down"],[1,"network_btm"],["class","connection d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],[3,"show","config"],[1,"connection","d-flex","align-items-center","justify-content-between"],[1,"connection_lft","d-flex","align-items-center"],[3,"routerLink"],[3,"src","alt"],["alt","user type",1,"user-type",3,"src"],[1,"ml-4"],[1,"connection_rht"],["type","button",1,"follow_btn",3,"click"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"h3"),i.Kc(4,"People "),i.Ob(5,"img",3),i.Sb(),i.Sb(),i.Tb(6,"div",4),i.Ic(7,Mk,13,8,"div",5),i.Sb(),i.Sb(),i.Sb(),i.Ob(8,"ngx-loading",6)),2&t&&(i.Ab(7),i.oc("ngForOf",e.users),i.Ab(1),i.oc("show",e.loading)("config",i.rc(3,Uk)))},directives:[V,Oo,Iy],styles:[""]}),t})();const Vk=["reportPost"],zk=["viewReactions"],qk=["feedBlock"],Hk=["comment"];function Kk(t,e){1&t&&(i.Tb(0,"div",25),i.Tb(1,"h5"),i.Kc(2,"No Post Found!"),i.Sb(),i.Sb())}function Wk(t,e){if(1&t&&(i.Tb(0,"p"),i.Kc(1,"Promoted Post | "),i.Tb(2,"span"),i.Kc(3),i.ic(4,"postCreated"),i.Sb(),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(3),i.Lc(i.jc(4,1,t.created))}}function $k(t,e){if(1&t&&(i.Tb(0,"p"),i.Kc(1),i.Tb(2,"span"),i.Kc(3),i.ic(4,"postCreated"),i.Sb(),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Mc("",(3==t.usertype?"Student at ":"Teacher at ")+t.university," \xa0 | "),i.Ab(2),i.Lc(i.jc(4,2,t.created))}}function Gk(t,e){if(1&t&&(i.Tb(0,"li"),i.Kc(1),i.ic(2,"lowercase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc("#",i.jc(2,1,t),"")}}function Qk(t,e){if(1&t&&(i.Tb(0,"ul",78),i.Ic(1,Gk,3,3,"li",79),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.oc("ngForOf",t.tags.split(","))}}function Yk(t,e){if(1&t&&i.Ob(0,"img",80),2&t){const t=i.hc().$implicit,e=i.hc();i.oc("src",e.imageDirPath+t.image,i.Dc)}}const Xk=function(t){return{src:t}},Jk=function(t){return[t]};function Zk(t,e){if(1&t&&i.Ob(0,"plyr",81),2&t){const t=i.hc().$implicit,e=i.hc();i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,Jk,i.sc(2,Xk,e.videoDirPath+t.video)))}}function tx(t,e){if(1&t&&(i.Tb(0,"p",82),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Mc(" ",i.jc(2,1,t.subject),"")}}function ex(t,e){if(1&t&&(i.Tb(0,"span",83),i.Kc(1),i.ic(2,"titlecase"),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Mc(" \xa0 \xa0 | \xa0 \xa0 ",i.jc(2,1,t.subject),"")}}const nx=function(t){return{liked:t}};function ix(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",84),i.Tb(1,"div",85),i.Ob(2,"img",86),i.Tb(3,"div",87),i.Tb(4,"h6",32),i.Kc(5),i.Sb(),i.Tb(6,"p",88),i.Kc(7),i.Sb(),i.Sb(),i.Sb(),i.Tb(8,"div",46),i.Tb(9,"div",47),i.Tb(10,"button",48,49),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit,o=i.hc();return o.onLikeComment(s.id,n,o.commentLikeType?o.commentLikeType:o.getCommentLikeType(n.reactionType),r)}),i.Ob(12,"img",50),i.Sb(),i.Tb(13,"div",51),i.Tb(14,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc().onLikeComment(s.id,n,0,r)}),i.Ob(15,"img",53),i.Sb(),i.Tb(16,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc().onLikeComment(s.id,n,1,r)}),i.Ob(17,"img",54),i.Sb(),i.Tb(18,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc().onLikeComment(s.id,n,2,r)}),i.Ob(19,"img",55),i.Sb(),i.Tb(20,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(11),s=i.hc().$implicit;return i.hc().onLikeComment(s.id,n,3,r)}),i.Ob(21,"img",56),i.Sb(),i.Sb(),i.Sb(),i.Tb(22,"span",57),i.Kc(23),i.Sb(),i.Tb(24,"span",61),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onViewCommentReaction(n.commentID)}),i.Ob(25,"i",62),i.Sb(),i.Tb(26,"span",89),i.Kc(27),i.ic(28,"postCreated"),i.Sb(),i.Tb(29,"button",90),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).onDeleteComment(n)}),i.Ob(30,"i",91),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id)("src",t.profile_img?n.profilePath+t.profile_img:n.userAvatar,i.Dc),i.Ab(2),i.oc("routerLink",t.user_id==n.loggedUser.id?"/myProfile":"/user/"+t.user_id),i.Ab(1),i.Lc(t.username),i.Ab(2),i.Lc(t.comment),i.Ab(3),i.oc("ngClass",i.sc(12,nx,n.isCommentLiked(t.reactionType))),i.Ab(2),i.oc("src",n.checkCommentLikeType(t.reactionType),i.Dc),i.Ab(11),i.Lc(t.reactionType.length),i.Ab(4),i.Mc("\xa0 \xa0 | \xa0 \xa0 ",i.jc(28,10,t.created),""),i.Ab(2),i.oc("hidden",t.user_id!==n.loggedUser.id)}}function rx(t,e){1&t&&(i.Tb(0,"p",92),i.Kc(1,"Be the first to comment!"),i.Sb())}const sx=function(t){return{clipped:t}},ox=function(){return["facebook","twitter","linkedin","pinterest","reddit","copy"]};function ax(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",26),i.Tb(1,"div",27),i.Tb(2,"div",28),i.Ob(3,"img",29),i.Sb(),i.Tb(4,"div",30),i.Tb(5,"div",31),i.Tb(6,"h3",32),i.Kc(7),i.Sb(),i.Ob(8,"img",33),i.Sb(),i.Ic(9,Wk,5,3,"p",21),i.Ic(10,$k,5,4,"p",21),i.Sb(),i.Tb(11,"div",34),i.Tb(12,"button",35),i.Ob(13,"img",36),i.Sb(),i.Tb(14,"div",37),i.Tb(15,"ul"),i.Tb(16,"li"),i.Tb(17,"a",38),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc().reportModal(n.id)}),i.Kc(18,"Report Post"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(19,"div",39),i.Tb(20,"p",40),i.Kc(21),i.Sb(),i.Tb(22,"a",41),i.Kc(23,"Read More..."),i.Sb(),i.Ic(24,Qk,2,1,"ul",42),i.Ic(25,Yk,1,1,"img",43),i.Ic(26,Zk,1,6,"plyr",44),i.Sb(),i.Ic(27,tx,3,3,"p",45),i.Tb(28,"div",46),i.Tb(29,"div",47),i.Tb(30,"button",48,49),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(31),s=i.hc();return s.onLikePost(n.id,s.likeType?s.likeType:s.getLikeType(n.likes),r,n)}),i.Ob(32,"img",50),i.Sb(),i.Tb(33,"div",51),i.Tb(34,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(31);return i.hc().onLikePost(n.id,0,r,n)}),i.Ob(35,"img",53),i.Sb(),i.Tb(36,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(31);return i.hc().onLikePost(n.id,1,r,n)}),i.Ob(37,"img",54),i.Sb(),i.Tb(38,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(31);return i.hc().onLikePost(n.id,2,r,n)}),i.Ob(39,"img",55),i.Sb(),i.Tb(40,"button",52),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=i.yc(31);return i.hc().onLikePost(n.id,3,r,n)}),i.Ob(41,"img",56),i.Sb(),i.Sb(),i.Sb(),i.Tb(42,"span",57),i.Kc(43),i.Sb(),i.gc(),i.Tb(44,"svg",58),i.Tb(45,"g"),i.Tb(46,"g",59),i.Tb(47,"g"),i.Ob(48,"path",60),i.Sb(),i.Sb(),i.Sb(),i.Ob(49,"g"),i.Ob(50,"g"),i.Ob(51,"g"),i.Ob(52,"g"),i.Ob(53,"g"),i.Ob(54,"g"),i.Ob(55,"g"),i.Ob(56,"g"),i.Ob(57,"g"),i.Ob(58,"g"),i.Ob(59,"g"),i.Ob(60,"g"),i.Ob(61,"g"),i.Ob(62,"g"),i.Ob(63,"g"),i.Sb(),i.fc(),i.Tb(64,"span",57),i.Kc(65),i.Sb(),i.Tb(66,"span",61),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc().onViewReaction(n.id)}),i.Ob(67,"i",62),i.Sb(),i.Ic(68,ex,3,3,"span",63),i.Tb(69,"div",64),i.Ob(70,"share-buttons",65),i.Tb(71,"button",66,67),i.dc("click",function(){i.Bc(t);const e=i.yc(72);return i.hc().toggleShareGroup(e)}),i.Ob(73,"img",68),i.Sb(),i.Sb(),i.Sb(),i.Tb(74,"div",69),i.Tb(75,"div",70),i.Ic(76,ix,31,14,"div",71),i.Sb(),i.Ic(77,rx,2,0,"p",72),i.Tb(78,"form",73,74),i.dc("submit",function(){i.Bc(t);const n=e.$implicit,r=i.yc(79);return i.hc().onCommentOnPost(n,r)}),i.Ob(80,"input",75),i.Tb(81,"button",76),i.Ob(82,"i",77),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.yc(79),r=i.hc();i.Ab(3),i.oc("routerLink",t.user_id==r.loggedUser.id?"/myProfile":"/user/"+t.user_id)("src",null==t.profile_img?r.userAvatar:r.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(3),i.oc("routerLink",t.user_id==r.loggedUser.id?"/myProfile":"/user/"+t.user_id),i.Ab(1),i.Lc(t.username),i.Ab(1),i.oc("src",3==t.usertype?r.studentIcon:r.teacherIcon,i.Dc),i.Ab(1),i.oc("ngIf",0==t.usertype),i.Ab(1),i.oc("ngIf",0!=t.usertype),i.Ab(10),i.oc("ngClass",i.sc(26,sx,t.body.length>500)),i.Ab(1),i.Mc(" ",t.body," "),i.Ab(1),i.oc("hidden",t.body.length<500),i.Ab(2),i.oc("ngIf",null!==t.tags?t.tags.length>0:null!==t.tags),i.Ab(1),i.oc("ngIf",t.image.length>0),i.Ab(1),i.oc("ngIf",t.video.length>0),i.Ab(1),i.oc("ngIf",null!==t.subject?t.subject.length>0:null!==t.subject),i.Ab(3),i.oc("ngClass",i.sc(28,nx,r.isPostLiked(t.likes))),i.Ab(2),i.oc("src",r.checkLikeType(t.likes),i.Dc),i.Ab(11),i.Lc(t.likes.length),i.Ab(22),i.Lc(t.comment.length),i.Ab(3),i.oc("ngIf",null!==t.subject?t.subject.length>0:null!==t.subject),i.Ab(2),i.oc("show",5)("include",i.rc(30,ox))("url",r.baseurl+"/#/post/"+t.id),i.Ab(6),i.oc("ngForOf",t.comment),i.Ab(1),i.oc("ngIf",0==t.comment.length),i.Ab(4),i.oc("disabled",!n.valid)}}function cx(t,e){1&t&&(i.Tb(0,"div"),i.Ob(1,"app-users"),i.Sb())}function lx(t,e){if(1&t&&(i.Tb(0,"span",100),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.totalUserReaction.length)}}function ux(t,e){if(1&t&&(i.Kc(0," All "),i.Ic(1,lx,2,1,"span",99)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function hx(t,e){if(1&t&&(i.Tb(0,"div",101),i.Tb(1,"span",102),i.Ob(2,"img",103),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function dx(t,e){if(1&t&&(i.Tb(0,"span",106),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.okUserReaction.length)}}function px(t,e){if(1&t&&(i.Ob(0,"img",104),i.Ic(1,dx,2,1,"span",105)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function fx(t,e){if(1&t&&(i.Tb(0,"div",101),i.Tb(1,"span",102),i.Ob(2,"img",103),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function mx(t,e){if(1&t&&(i.Tb(0,"span",100),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.innUserReaction.length)}}function gx(t,e){if(1&t&&(i.Ob(0,"img",107),i.Ic(1,mx,2,1,"span",99)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function bx(t,e){if(1&t&&(i.Tb(0,"div",101),i.Tb(1,"span",102),i.Ob(2,"img",103),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function yx(t,e){if(1&t&&(i.Tb(0,"span",100),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.clapUserReaction.length)}}function vx(t,e){if(1&t&&(i.Ob(0,"img",108),i.Ic(1,yx,2,1,"span",99)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function _x(t,e){if(1&t&&(i.Tb(0,"div",101),i.Tb(1,"span",102),i.Ob(2,"img",103),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function wx(t,e){if(1&t&&(i.Tb(0,"span",100),i.Kc(1),i.Sb()),2&t){const t=i.hc(3);i.Ab(1),i.Lc(t.goodUserReaction.length)}}function Sx(t,e){if(1&t&&(i.Ob(0,"img",109),i.Ic(1,wx,2,1,"span",99)),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngIf",t.reactionFetched)}}function Cx(t,e){if(1&t&&(i.Tb(0,"div",101),i.Tb(1,"span",102),i.Ob(2,"img",103),i.Sb(),i.Tb(3,"h5"),i.Kc(4),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("src",n.profilePath+t.profile_img,i.Dc)("alt",t.username),i.Ab(2),i.Lc(t.username)}}function Tx(t,e){if(1&t&&(i.Tb(0,"div",93),i.Tb(1,"div",94),i.Tb(2,"div",95),i.Tb(3,"div",96),i.Tb(4,"h5"),i.Kc(5),i.Sb(),i.Sb(),i.Tb(6,"mat-tab-group"),i.Tb(7,"mat-tab"),i.Ic(8,ux,2,1,"ng-template",97),i.Ic(9,hx,5,3,"div",98),i.Sb(),i.Tb(10,"mat-tab"),i.Ic(11,px,2,1,"ng-template",97),i.Ic(12,fx,5,3,"div",98),i.Sb(),i.Tb(13,"mat-tab"),i.Ic(14,gx,2,1,"ng-template",97),i.Ic(15,bx,5,3,"div",98),i.Sb(),i.Tb(16,"mat-tab"),i.Ic(17,vx,2,1,"ng-template",97),i.Ic(18,_x,5,3,"div",98),i.Sb(),i.Tb(19,"mat-tab"),i.Ic(20,Sx,2,1,"ng-template",97),i.Ic(21,Cx,5,3,"div",98),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(5),i.Lc(t.reactionModalTitle),i.Ab(4),i.oc("ngForOf",t.totalUserReaction),i.Ab(3),i.oc("ngForOf",t.okUserReaction),i.Ab(3),i.oc("ngForOf",t.innUserReaction),i.Ab(3),i.oc("ngForOf",t.clapUserReaction),i.Ab(3),i.oc("ngForOf",t.goodUserReaction)}}function kx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",120),i.Tb(1,"input",121),i.dc("change",function(){i.Bc(t);const n=e.$implicit;return i.hc(2).selectedReason=n}),i.Sb(),i.Tb(2,"label",122),i.Tb(3,"h6"),i.Kc(4),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=e.index;i.Ab(1),i.pc("id","reason"+-+n),i.Ab(1),i.pc("for","reason"+-+n),i.Ab(2),i.Lc(t)}}function xx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",110),i.Tb(1,"div",94),i.Tb(2,"div",111),i.Tb(3,"div",112),i.Tb(4,"h5",113),i.Kc(5,"Report Post"),i.Sb(),i.Sb(),i.Tb(6,"div",114),i.Tb(7,"form"),i.Ic(8,kx,5,3,"div",115),i.Tb(9,"textarea",116),i.dc("ngModelChange",function(e){return i.Bc(t),i.hc().specifiedReason=e}),i.Sb(),i.Tb(10,"div",117),i.Tb(11,"a",118),i.Kc(12,"Back to Home"),i.Sb(),i.Tb(13,"button",119),i.dc("click",function(){return i.Bc(t),i.hc().onReportProfile()}),i.Kc(14,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(8),i.oc("ngForOf",t.reportReason),i.Ab(1),i.oc("ngModel",t.specifiedReason)}}const Ex=function(){return{post:"create"}},Ox=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Ix=(()=>{class t{constructor(t,e,n,i,r){this.userService=t,this.modalService=e,this.route=n,this.myPlanService=i,this.notificationService=r,this.feeds=[],this.filteredFeeds=[],this.showFullContent=!1,this.loading=!1,this.reactionFetched=!1,this.catChanged=!1,this.reportReason=["Harassment","False Information","Spam","Something else, specify in comment"],this.selectedReason="",this.specifiedReason="",this.currentPage=1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.imageDirPath="https://tanito.in/admin/assets/user-post-media/image/",this.videoDirPath="https://tanito.in/admin/assets/user-post-media/video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.items=Array.from({length:1e5}).map((t,e)=>"Item #"+e),this.loggedUser=JSON.parse(this.userService.getUser()),this.route.queryParams.subscribe(t=>{this.catChanged?this.feedBlock.nativeElement.scrollIntoView({behavior:"smooth"}):this.catChanged=!0,this.query=t.cat,this.currentPage=1,this.getFeeds()})}ngOnInit(){this.getFeeds(),this.baseurl=window.location.origin,this.myPlanService.getCurrentPlan()&&!this.myPlanService.isPlanExpired()&&(this.isPlanActive=!0)}getFeeds(){this.loading=!0,this.userService.getAllPost(this.currentPage,this.query).subscribe(t=>{this.loading=!1,t.data&&(this.feeds=t.data.user_post)},t=>{this.loading=!1,alert("Something went wrong!")})}toggleContent(){this.showFullContent=!this.showFullContent}onScroll(){this.currentPage+=1,this.userService.getAllPost(this.currentPage,this.query).subscribe(t=>{t.data&&t.data.user_post.forEach(t=>{this.feeds.push(t)})})}onLikePost(t,e,n,i){let r=new FormData;r.append("user_id",this.loggedUser.id),r.append("post_id",t),r.append("like_type",e),this.userService.likePost(r).subscribe(t=>{let r=n.parentElement,s=null==r?void 0:r.nextSibling,o=parseInt(s.innerHTML),a=n.firstChild;switch(e){case 1:a.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:a.setAttribute("src","assets/images/icons/clap.png");break;case 3:a.setAttribute("src","assets/images/icons/like.png");break;default:a.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(n.classList.add("liked"),o+=1,s.innerHTML=o,this.likeType=e,i.user_id!==this.loggedUser.id&&this.notificationService.sendNotification(i.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has liked your post: "+i.body)):0==t.likeStatus?(n.classList.remove("liked"),o-=1,s.innerHTML=o,a.setAttribute("src","assets/images/icons/like_icon.png"),this.likeType=0):this.likeType=e})}onViewReaction(t){let e=new FormData;e.append("post_id",t),this.openModal(this.viewReactions),this.userService.viewReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.like_type),this.innUserReaction=e.filter(t=>1==t.like_type),this.clapUserReaction=e.filter(t=>2==t.like_type),this.goodUserReaction=e.filter(t=>3==t.like_type)})}isPostLiked(t){return t.some(t=>t.user_id==this.loggedUser.id)}checkLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?1==e.like_type?"assets/images/icons/lightbulb.png":2==e.like_type?"assets/images/icons/clap.png":3==e.like_type?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getLikeType(t){let e=t.find(t=>t.user_id==this.loggedUser.id);return e?+e.like_type:0}changeTabs(t){document.getElementsByClassName("reactions").classList.remove("active"),t.classList.add("active")}reportModal(t){this.selectedPost=t,this.openModal(this.reportPost)}onReportProfile(){if(this.selectedReason=this.selectedReason==this.reportReason[this.reportReason.length-1]?this.specifiedReason:this.selectedReason,this.selectedReason.length>0){let t=new FormData;t.append("from_id",this.loggedUser.id),t.append("post_id",this.selectedPost),t.append("reason",this.selectedReason),this.userService.reportPost(t).subscribe(t=>{0==t.status&&alert(t.msg),alert(t.msg),this.modalRef.hide()})}else 0==this.specifiedReason.length?alert("Please specify in comment!"):alert("Please select a reason!")}onCommentOnPost(t,e){let n=new FormData;n.append("from_id",this.loggedUser.id),n.append("post_id",t.id),n.append("comment",e.value.comment);let i=this.feeds.find(e=>e.id==t.id),r=new FormData;r.append("id",this.loggedUser.id),this.userService.userComments(r).subscribe(r=>{this.isPlanActive||r.data<5?(this.loading=!0,this.userService.commentOnPost(n).subscribe(n=>{this.loading=!1,i.comment.push(n.data),t.user_id!==this.loggedUser.id&&this.notificationService.sendNotification(t.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has commented on your post: "+t.body),e.reset()})):alert("Comment limit on one post has reached, Subscribe to our plans to comment further!")})}onDeleteComment(t){let e=new FormData;e.append("comment_id",t.commentID);let n=this.feeds.find(e=>e.id==t.post_id);1==confirm("Do you want to delete this comment?")&&(this.loading=!0,this.userService.deleteComment(e).subscribe(e=>{this.loading=!1,n.comment.splice(n.comment.findIndex(e=>e.commentID==t.commentID),1)}))}isCommentLiked(t){return t.some(t=>t.from_id==this.loggedUser.id)}checkCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?1==e.reactionType?"assets/images/icons/lightbulb.png":2==e.reactionType?"assets/images/icons/clap.png":3==e.reactionType?"assets/images/icons/like.png":"assets/images/icons/like_icon.png":"assets/images/icons/like_icon.png"}getCommentLikeType(t){let e=t.find(t=>t.from_id==this.loggedUser.id);return e?+e.reactionType:0}onLikeComment(t,e,n,i){let r=new FormData;r.append("from_id",this.loggedUser.id),r.append("post_id",t),r.append("comment_id",e.commentID),r.append("reactionType",n),this.userService.likeComment(r).subscribe(t=>{let r=i.parentElement,s=null==r?void 0:r.nextSibling,o=+s.innerHTML,a=i.firstChild;switch(n){case 1:a.setAttribute("src","assets/images/icons/lightbulb.png");break;case 2:a.setAttribute("src","assets/images/icons/clap.png");break;case 3:a.setAttribute("src","assets/images/icons/like.png");break;default:a.setAttribute("src","assets/images/icons/like_icon.png")}1==t.likeStatus?(i.classList.add("liked"),o+=1,s.innerHTML=o,this.commentLikeType=n,e.user_id!==this.loggedUser.id&&this.notificationService.sendNotification(e.user_id,this.loggedUser.profile_img,this.loggedUser.username+" has liked your comment: "+e.comment)):0==t.likeStatus?(i.classList.remove("liked"),o-=1,s.innerHTML=o,a.setAttribute("src","assets/images/icons/like_icon.png"),this.commentLikeType=0):this.commentLikeType=n})}onViewCommentReaction(t){let e=new FormData;e.append("comment_id",t),this.openModal(this.viewReactions),this.userService.viewCommentReaction(e).subscribe(t=>{this.reactionFetched=!0,this.reactionModalTitle="Comment Reactions";let e=t.data.my_post;this.totalUserReaction=e,this.okUserReaction=e.filter(t=>0==t.reactionType),this.innUserReaction=e.filter(t=>1==t.reactionType),this.clapUserReaction=e.filter(t=>2==t.reactionType),this.goodUserReaction=e.filter(t=>3==t.reactionType)})}openModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"reaction_modal"}))}toggleShareGroup(t){let e=t.previousSibling;e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(Pa),i.Nb(sb),i.Nb(Fw),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-feed"]],viewQuery:function(t,e){if(1&t&&(i.Oc(Vk,!0),i.Oc(zk,!0),i.Oc(qk,!0),i.Oc(Hk,!0)),2&t){let t;i.xc(t=i.ec())&&(e.reportPost=t.first),i.xc(t=i.ec())&&(e.viewReactions=t.first),i.xc(t=i.ec())&&(e.feedBlock=t.first),i.xc(t=i.ec())&&(e.comment=t.first)}},decls:39,vars:10,consts:[[1,"student_rht"],["infiniteScroll","",3,"scrolled"],["feedBlock",""],["routerLink","/myProfile",1,"custom_card","media_card",3,"queryParams"],[1,"tabs_wraper"],["data-item","write-something",1,"active"],["src","assets/images/icons/edit_icon.png","alt","edit"],["id","write-something",1,"text_box"],["placeholder","Write Something..","id","writeSomething"],["id","upload-img",1,"upload_media","media_box"],["type","file","id","upload_img",1,"d-none"],["for","upload_img"],["src","assets/images/icons/uploadImg.png","alt","image"],["id","upload-video",1,"upload_media","media_box"],["type","file","id","upload_vid",1,"d-none"],["for","upload_vid"],["src","assets/images/icons/upload_video.png","alt","video",1,"mb-2"],[1,"custom_card_ftr"],["id","charCount"],["class","custom_card custom_crd_padd",4,"ngIf"],["class","custom_card custom_crd_padd feeds",4,"ngFor","ngForOf"],[4,"ngIf"],["viewReactions",""],["reportPost",""],[3,"show","config"],[1,"custom_card","custom_crd_padd"],[1,"custom_card","custom_crd_padd","feeds"],[1,"follow_top","d-flex","align-items-center"],[1,"follow_lft"],[1,"profile-img",3,"routerLink","src","alt"],[1,"follow_rht"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","user type",1,"user-type",3,"src"],[1,"option"],["type","button","appShowMenu","",1,"dots_btn"],["src","assets/images/icons/dots.png","alt","dots"],[1,"dropdown-menu","report","my_account_dropmenu"],[3,"click"],[1,"follow_bdy"],[1,"content-body",3,"ngClass"],["appToggleContent","",1,"read-more-link",3,"hidden"],["class","hashtags",4,"ngIf"],["class","post-img",3,"src",4,"ngIf"],["style","display: block; max-width: 640px;","plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources",4,"ngIf"],["class","subject d-block d-sm-none",4,"ngIf"],[1,"follow_ftr"],[1,"action-btn"],["type","button",1,"post-action-btn",3,"ngClass","click"],["likeBtn",""],["alt","icon",3,"src"],[1,"follow_ftr","react-btn-grp"],["type","button",3,"click"],["src","assets/images/icons/like_icon.png","alt","icon"],["src","assets/images/icons/lightbulb.png","alt","icon"],["src","assets/images/icons/clap.png","alt","icon"],["src","assets/images/icons/like.png","alt","icon"],[1,"likes"],["version","1.1","fill","#474747","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","612px","height","612px","viewBox","0 0 612 612",0,"xml","space","preserve","appShowCommentBox","",1,"comment",2,"enable-background","new 0 0 612 612"],["id","_x32__26_"],["d","M401.625,325.125h-191.25c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h191.25\n                        c10.557,0,19.125-8.568,19.125-19.125S412.182,325.125,401.625,325.125z M439.875,210.375h-267.75\n                        c-10.557,0-19.125,8.568-19.125,19.125s8.568,19.125,19.125,19.125h267.75c10.557,0,19.125-8.568,19.125-19.125\n                        S450.432,210.375,439.875,210.375z M306,0C137.012,0,0,119.875,0,267.75c0,84.514,44.848,159.751,114.75,208.826V612\n                        l134.047-81.339c18.552,3.061,37.638,4.839,57.203,4.839c169.008,0,306-119.875,306-267.75C612,119.875,475.008,0,306,0z\n                        M306,497.25c-22.338,0-43.911-2.601-64.643-7.019l-90.041,54.123l1.205-88.701C83.5,414.133,38.25,345.513,38.25,267.75\n                        c0-126.741,119.875-229.5,267.75-229.5c147.875,0,267.75,102.759,267.75,229.5S453.875,497.25,306,497.25z"],[1,"view",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["class","subjects d-none d-sm-block",4,"ngIf"],[1,"share-post"],[3,"show","include","url"],["type","button","data-toggle","modal","data-target","#report_mdl",1,"post-action-btn","share-btn",3,"click"],["shareBtn",""],["src","assets/images/icons/share_icon.png","alt","icon"],[1,"comment-box"],[1,"inner-box"],["class","comment-row",4,"ngFor","ngForOf"],["class","no-comment",4,"ngIf"],[1,"write-comment",3,"submit"],["cmntForm","ngForm"],["placeholder","Write your comment here...","type","text","name","comment","required","","ngModel",""],["type","submit",3,"disabled"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"hashtags"],[4,"ngFor","ngForOf"],[1,"post-img",3,"src"],["plyrTitle","Video 1",2,"display","block","max-width","640px",3,"plyrPlaysInline","plyrSources"],[1,"subject","d-block","d-sm-none"],[1,"subjects","d-none","d-sm-block"],[1,"comment-row"],[1,"user"],["alt","user",3,"routerLink","src"],[1,"name"],[1,"comment"],[1,"date"],[1,"dlt-btn",3,"hidden","click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"no-comment"],[1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal_body_top"],["mat-tab-label",""],["class","d-flex align-items-center mb-4",4,"ngFor","ngForOf"],["class","badge badge-primary",4,"ngIf"],[1,"badge","badge-primary"],[1,"d-flex","align-items-center","mb-4"],[1,"profile_dp"],[3,"src","alt"],["src","assets/images/icons/ok.png","alt","reaction"],["class","badge badge-primary ml-",4,"ngIf"],[1,"badge","badge-primary","ml-"],["src","assets/images/icons/lightbulb.png","alt","reaction"],["src","assets/images/icons/clap.png","alt","reaction"],["src","assets/images/icons/like.png","alt","reaction"],[1,"modal_tanito","report_modal"],[1,"modal-content","text-center"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],["name","message","placeholder","Type your message..",3,"ngModel","ngModelChange"],[1,"button_box","d-flex","align-items-center","justify-content-center"],["href","index.php",1,"back_to_home_btn","mr-2"],["type","button",1,"ml-2",3,"click"],[1,"form-check"],["type","radio","name","reason",1,"form-check-input",3,"id","change"],[1,"form-check-label",3,"for"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1,2),i.dc("scrolled",function(){return e.onScroll()}),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"ul"),i.Tb(6,"li",5),i.Ob(7,"img",6),i.Kc(8,"Write a Feed"),i.Sb(),i.Sb(),i.Sb(),i.Tb(9,"div",7),i.Ob(10,"textarea",8),i.Sb(),i.Tb(11,"div",9),i.Ob(12,"input",10),i.Tb(13,"label",11),i.Ob(14,"img",12),i.Kc(15," Upload image "),i.Sb(),i.Sb(),i.Tb(16,"div",13),i.Ob(17,"input",14),i.Tb(18,"label",15),i.Ob(19,"img",16),i.Kc(20," Upload video "),i.Sb(),i.Sb(),i.Tb(21,"div",17),i.Tb(22,"p"),i.Tb(23,"span"),i.Kc(24,"Put a Question or Post"),i.Sb(),i.Kc(25," on tanito"),i.Sb(),i.Tb(26,"p"),i.Tb(27,"span",18),i.Kc(28,"0"),i.Sb(),i.Kc(29,"/2000"),i.Sb(),i.Sb(),i.Sb(),i.Ic(30,Kk,3,0,"div",19),i.Ic(31,ax,83,31,"div",20),i.ic(32,"recentPost"),i.Sb(),i.Ic(33,cx,2,0,"div",21),i.Sb(),i.Ic(34,Tx,22,6,"ng-template",null,22,i.Jc),i.Ic(36,xx,15,2,"ng-template",null,23,i.Jc),i.Ob(38,"ngx-loading",24)),2&t&&(i.Ab(3),i.oc("queryParams",i.rc(8,Ex)),i.Ab(27),i.oc("ngIf",0==e.feeds.length&&e.query),i.Ab(1),i.oc("ngForOf",i.jc(32,6,e.feeds)),i.Ab(2),i.oc("ngIf",0==e.feeds.length&&!e.query),i.Ab(5),i.oc("show",e.loading)("config",i.rc(9,Ox)))},directives:[cc,Iy,q,V,Oo,jw,U,Mw,Uw,X_,Bs,Yr,Fs,Er,Ws,Qr,Us,Va,Bk,up,Zd,Gd],pipes:[Bw,Vw,rt,ot],styles:[".mat-tab-body-content{height:450px!important;overflow:scroll;padding:25px}.mat-tab-label-content .badge{margin-left:5px;background:#514dc5}.mat-tab-label-content img{height:28px}.hashtags li{display:inline-block;margin-right:10px;color:#007bff}.share-post{position:relative;margin-left:auto}.share-post share-buttons{position:absolute;bottom:45px;right:-3px;display:none}.share-post share-buttons.show{display:block}.subject{font-size:14px;word-break:break-word}.viewport{height:1000px}.follow_bdy .content-body.clipped{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.follow_bdy .read-more-link{color:#007bff;position:relative;top:-10px}"],encapsulation:2}),t})();const Ax=function(t){return{cat:t}};function Px(t,e){if(1&t&&(i.Tb(0,"div",24),i.Tb(1,"h4",28),i.Kc(2),i.Sb(),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.oc("queryParams",i.sc(2,Ax,t)),i.Ab(1),i.Lc(t)}}const Dx=function(){return{exact:!0}};let Rx=(()=>{class t{constructor(t){this.userService=t,this.subjects=[],this.showAll=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.user=JSON.parse(this.userService.getUser()),this.loggedUserId=JSON.parse(this.userService.getUser()).id,this.userService.storeUpdatedUser().subscribe(t=>{this.user.count_following=t.count_following,this.user.following_id=t.following_id,localStorage.setItem("user",JSON.stringify(this.user))})}get inbox(){return localStorage.getItem("inbox")}ngOnInit(){this.userService.getSubjects().subscribe(t=>{t.data.subjects.forEach(t=>{this.subjects.push(t.subject)})})}ngAfterContentChecked(){this.myInbox=this.inbox?JSON.parse(this.inbox):{defaultChatroom:0,newMsgs:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-user-info"]],decls:55,vars:19,consts:[[1,"student_lft","row"],[1,"col-12"],[1,"custom_card","profile_box"],[1,"dp_box"],["routerLink","/myProfile"],["alt","user image",3,"src"],["alt","user type",1,"user-type",3,"src"],[1,"text-center","pb-2"],["routerLink","/myProfile",1,"text-center"],[1,"followers_info","d-flex"],[1,"followers_lft"],[1,"followers_rht"],[1,"col-md-6","col-lg-12"],[1,"custom_card","sideMenu_box"],["routerLink","/feed","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","assets/images/icons/home.png","alt","home"],["routerLink","network","routerLinkActive","active"],["src","assets/images/icons/users.png","alt","user"],["routerLinkActive","active",3,"routerLink"],["src","assets/images/icons/message.png","alt","message"],[1,"badge","badge-danger",3,"hidden"],["routerLink","my-plans","routerLinkActive","active"],["src","assets/images/icons/premium.svg","alt","plans"],[1,"custom_card","category_card"],[1,"category_accord"],["routerLink","/feed","routerLinkActive","active",1,"accord_btn",3,"routerLinkActiveOptions"],["class","category_accord",4,"ngFor","ngForOf"],[1,"see_all_btn",3,"click"],["routerLink","/feed","routerLinkActive","active",1,"accord_btn",3,"queryParams"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"a",4),i.Ob(5,"img",5),i.Sb(),i.Ob(6,"img",6),i.Sb(),i.Tb(7,"div",7),i.Tb(8,"h3",8),i.Kc(9),i.Sb(),i.Tb(10,"p"),i.Kc(11),i.Sb(),i.Sb(),i.Tb(12,"div",9),i.Tb(13,"div",10),i.Tb(14,"h4"),i.Kc(15),i.Sb(),i.Tb(16,"p"),i.Kc(17,"Followers"),i.Sb(),i.Sb(),i.Tb(18,"div",11),i.Tb(19,"h4"),i.Kc(20),i.Sb(),i.Tb(21,"p"),i.Kc(22,"Following"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(23,"div",12),i.Tb(24,"div",13),i.Tb(25,"ul"),i.Tb(26,"li"),i.Tb(27,"a",14),i.Ob(28,"img",15),i.Kc(29," Home "),i.Sb(),i.Sb(),i.Tb(30,"li"),i.Tb(31,"a",16),i.Ob(32,"img",17),i.Kc(33," My Network "),i.Sb(),i.Sb(),i.Tb(34,"li"),i.Tb(35,"a",18),i.Ob(36,"img",19),i.Kc(37," Messages "),i.Tb(38,"span",20),i.Kc(39),i.Sb(),i.Sb(),i.Sb(),i.Tb(40,"li"),i.Tb(41,"a",21),i.Ob(42,"img",22),i.Kc(43," My Plans "),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(44,"div",12),i.Tb(45,"div",23),i.Tb(46,"h3"),i.Kc(47,"Categories"),i.Sb(),i.Tb(48,"div",24),i.Tb(49,"h4",25),i.Kc(50,"All"),i.Sb(),i.Sb(),i.Ic(51,Px,3,4,"div",26),i.ic(52,"slice"),i.Tb(53,"a",27),i.dc("click",function(){return e.showAll=!e.showAll}),i.Kc(54),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(5),i.oc("src",e.user.profile_img.length>0?e.profilePath+e.user.profile_img:e.userAvatar,i.Dc),i.Ab(1),i.oc("src",3==e.user.usertype?e.studentIcon:e.teacherIcon,i.Dc),i.Ab(3),i.Lc(e.user.username),i.Ab(2),i.Lc(e.user.email),i.Ab(4),i.Lc(e.user.count_follower),i.Ab(5),i.Lc(e.user.count_following),i.Ab(7),i.oc("routerLinkActiveOptions",i.rc(17,Dx)),i.Ab(8),i.oc("routerLink",0==e.myInbox.defaultChatroom?"/feed/inbox":"/feed/inbox/"+e.myInbox.defaultChatroom),i.Ab(3),i.oc("hidden",0==e.myInbox.newMsgs),i.Ab(1),i.Lc(e.myInbox.newMsgs),i.Ab(10),i.oc("routerLinkActiveOptions",i.rc(18,Dx)),i.Ab(2),i.oc("ngForOf",i.lc(52,13,e.subjects,0,e.showAll?e.subjects.length:5)),i.Ab(3),i.Lc(e.showAll?"See Less":"See All"))},directives:[Ay,Iy,Dy,V],pipes:[lt],styles:[""]}),t})(),Nx=(()=>{class t{constructor(t,e,n,i){if(this.userService=t,this.chatService=e,this.notification=n,this.authService=i,this.loggedUserId=JSON.parse(this.userService.getUser()).id,this.chatService.getRooms(this.loggedUserId).valueChanges().subscribe(t=>{let e={defaultChatroom:t.length>0?+t[0].memberId:0,newMsgs:t.length>0?t.filter(t=>0==t.msgSeen).length:0};localStorage.setItem("inbox",JSON.stringify(e))}),this.loggedUser=JSON.parse(this.userService.getUser()),this.loggedUser.plan_subcription.length>0){this.activePlan=this.loggedUser.plan_subcription[0];let t=new Date(this.activePlan.end_date),e=new Date,n=Math.abs(t-e),i=Math.ceil(n/864e5);3==i&&this.notification.sendNotification(this.loggedUser.id,this.loggedUser.profile_img,"Your plan is about to expire in "+i+" days"),2==i&&this.notification.sendNotification(this.loggedUser.id,this.loggedUser.profile_img,"Your plan is about to expire in "+i+" days"),1==i&&this.notification.sendNotification(this.loggedUser.id,this.loggedUser.profile_img,"Your plan is about to expire in "+i+" days")}}get loggedTime(){return localStorage.getItem("loggedTime")}ngOnInit(){(new Date).setHours(0,0,0,0)>this.loggedTime&&this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(sT),i.Nb(Lw),i.Nb(nw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-user-feed"]],decls:8,vars:0,consts:[[1,"student_timeline","student_sec"],[1,"container-fluid"],[1,"student_inr"],[1,"row"],[1,"col-lg-4","col-xl-3"],[1,"col-lg-8","col-xl-9"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Ob(5,"app-user-info"),i.Sb(),i.Tb(6,"div",5),i.Ob(7,"router-outlet"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb())},directives:[Rx,Ry],styles:[""]}),t})();function Lx(t,e){if(1&t&&(i.Tb(0,"span"),i.Kc(1),i.Sb()),2&t){const t=i.hc().$implicit;i.Ab(1),i.Lc((3==t.data.usertype?"Student at ":"Teacher at ")+t.data.university)}}function Fx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",8),i.Tb(1,"div",9),i.Tb(2,"span",10),i.Ob(3,"img",11),i.Ob(4,"img",12),i.Sb(),i.Tb(5,"div",13),i.Tb(6,"h4",10),i.Kc(7),i.Sb(),i.Ic(8,Lx,2,1,"span",14),i.Sb(),i.Sb(),i.Tb(9,"div",15),i.Tb(10,"button",16),i.dc("click",function(){i.Bc(t);const n=e.$implicit,r=e.index;return i.hc(2).onFollowUser(n.data.id,r)}),i.Kc(11),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,n=i.hc(2);i.Ab(2),i.oc("routerLink","/user/"+t.data.id),i.Ab(1),i.oc("src",t.data.profile_img?n.path+t.data.profile_img:n.userAvatar,i.Dc)("alt",t.data.username),i.Ab(1),i.oc("src",3==t.data.usertype?n.studentIcon:n.teacherIcon,i.Dc),i.Ab(2),i.oc("routerLink","/user/"+t.data.id),i.Ab(1),i.Lc(t.data.username),i.Ab(1),i.oc("ngIf",null!==t.data.university),i.Ab(3),i.Lc(1==t.followed?"Unfollow":"Follow")}}function jx(t,e){if(1&t&&(i.Tb(0,"div",3),i.Tb(1,"div",4),i.Tb(2,"h3"),i.Kc(3,"People "),i.Ob(4,"img",5),i.Sb(),i.Sb(),i.Tb(5,"div",6),i.Ic(6,Fx,12,8,"div",7),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(6),i.oc("ngForOf",t.users)}}function Mx(t,e){1&t&&(i.Tb(0,"div",3),i.Tb(1,"div",6),i.Tb(2,"h5"),i.Kc(3,"There is no such result!"),i.Sb(),i.Sb(),i.Sb())}const Ux=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let Bx=(()=>{class t{constructor(t,e,n){this.userService=t,this.route=e,this.notificationService=n,this.users=[],this.loading=!1,this.isFollowed=!1,this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.loggedUser=JSON.parse(this.userService.getUser()),this.route.queryParams.subscribe(t=>{this.query=t.query,this.userFound()})}onFollowUser(t,e){this.loading=!0;let n=new FormData;n.append("user_id",this.userService.loggedUserId()),n.append("follow_id",t),this.userService.followUser(n).subscribe(n=>{this.loading=!1,this.userService.updateUser(),this.users[e].followed=!this.users[e].followed,"true"==n.followed&&this.notificationService.sendNotification(t,this.loggedUser.profile_img,this.loggedUser.username+" has started following you!")})}ngOnInit(){this.query=this.route.snapshot.queryParams.query,this.userFound()}userFound(){let t=new FormData;t.append("query",this.query),this.loading=!0,this.userService.searchUser(t).subscribe(t=>{this.loading=!1,this.users=t.users.filter(t=>null!==t.data.profile_img),this.path=t.urlkey})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(sb),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-user-found"]],decls:4,vars:5,consts:[[1,"student_rht"],["class","custom_card networks_people",4,"ngIf"],[3,"show","config"],[1,"custom_card","networks_people"],[1,"network_top"],["src","assets/images/icons/down-arrow.png","alt","arrow down"],[1,"network_btm"],["class","connection d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],[1,"connection","d-flex","align-items-center","justify-content-between"],[1,"connection_lft","d-flex","align-items-center"],[3,"routerLink"],[3,"src","alt"],["alt","user type",1,"user-type",3,"src"],[1,"ml-4"],[4,"ngIf"],[1,"connection_rht"],["type","button",1,"follow_btn",3,"click"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Ic(1,jx,7,1,"div",1),i.Ic(2,Mx,4,0,"div",1),i.Sb(),i.Ob(3,"ngx-loading",2)),2&t&&(i.Ab(1),i.oc("ngIf",e.users.length>0),i.Ab(1),i.oc("ngIf",0==e.users.length),i.Ab(1),i.oc("show",e.loading)("config",i.rc(4,Ux)))},directives:[q,Oo,V,Iy],styles:[""]}),t})(),Vx=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-search-user"]],decls:8,vars:0,consts:[[1,"student_timeline","student_sec"],[1,"container-fluid"],[1,"student_inr"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-8","col-lg-9"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Ob(5,"app-user-info"),i.Sb(),i.Tb(6,"div",5),i.Ob(7,"app-user-found"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb())},directives:[Rx,Bx],styles:[""]}),t})(),zx=(()=>{class t{constructor(t){this.http=t,this.url=s}getPlans(){return this.http.get(this.url+"/get_plan_list")}buyPlan(t){return this.http.post(this.url+"/subscribe_plan",t)}applyPromo(t){return this.http.post(this.url+"/check_promocode",t)}redeemPromo(t){return this.http.post(this.url+"/use_promocode",t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rr))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qx=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hx=["confirmationBox"],Kx=["applyPromocode"];function Wx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",7),i.Tb(1,"div",8),i.Tb(2,"div",9),i.Tb(3,"div",10),i.Tb(4,"div",11),i.Tb(5,"h4"),i.Ob(6,"img",12),i.Kc(7),i.Sb(),i.Sb(),i.Ob(8,"div",13),i.Sb(),i.Tb(9,"div",14),i.Tb(10,"h3"),i.Kc(11),i.ic(12,"currency"),i.Tb(13,"span"),i.Kc(14),i.Sb(),i.Sb(),i.Tb(15,"a",15),i.dc("click",function(){i.Bc(t);const n=e.$implicit;return i.hc().initPay(n.plan,n.id,n.amount)}),i.Kc(16,"Choose Plan"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit;i.Ab(7),i.Lc(t.plan),i.Ab(1),i.oc("innerHtml",t.description,i.Cc),i.Ab(3),i.Mc("",i.kc(12,4,t.amount,"\u20b9")," "),i.Ab(3),i.Mc(" for ",t.validity," Months")}}function $x(t,e){if(1&t&&(i.Tb(0,"span",32),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Mc("Congratulations! You have saved Rs.",t.discount," on this plan!")}}function Gx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",16),i.Tb(1,"div",17),i.Tb(2,"div",18),i.Tb(3,"div",19),i.Tb(4,"h5",20),i.Kc(5,"Proceed Payment"),i.Sb(),i.Sb(),i.Tb(6,"div",21),i.Tb(7,"div",22),i.Tb(8,"div",23),i.Tb(9,"h5"),i.Kc(10,"Plan Summary"),i.Sb(),i.Tb(11,"p"),i.Kc(12,"Subtotal : "),i.Tb(13,"span"),i.Kc(14),i.ic(15,"currency"),i.Sb(),i.Sb(),i.Tb(16,"p"),i.Kc(17,"Discount Applied : "),i.Tb(18,"span"),i.Kc(19),i.ic(20,"currency"),i.Sb(),i.Sb(),i.Tb(21,"div",24),i.Tb(22,"label",25),i.Kc(23,"Apply Promo"),i.Sb(),i.Ob(24,"input",26,27),i.Tb(26,"button",28),i.dc("click",function(){i.Bc(t);const e=i.yc(25);return i.hc().onApplyPromo(e.value)}),i.Kc(27,"Apply"),i.Sb(),i.Sb(),i.Ic(28,$x,2,1,"span",29),i.Ob(29,"hr"),i.Tb(30,"p"),i.Kc(31,"Total: "),i.Tb(32,"span"),i.Kc(33),i.ic(34,"currency"),i.Sb(),i.Sb(),i.Sb(),i.Tb(35,"div",30),i.Tb(36,"button",31),i.dc("click",function(){return i.Bc(t),i.hc().proceedToPay()}),i.Kc(37,"Proceed"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(14),i.Lc(i.kc(15,4,t.planAmt,"\u20b9")),i.Ab(5),i.Lc(t.discountApplied?t.discount:i.kc(20,7,0,"\u20b9")),i.Ab(9),i.oc("ngIf",t.discountApplied),i.Ab(5),i.Lc(i.kc(34,10,t.planAmt,"\u20b9"))}}function Qx(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",33),i.Tb(1,"div",17),i.Tb(2,"div",34),i.Tb(3,"div",19),i.Tb(4,"h5",20),i.Kc(5,"Plan"),i.Sb(),i.Sb(),i.Tb(6,"div",21),i.Tb(7,"p",35),i.Kc(8,"Hey, you have subscribed our "),i.Tb(9,"strong"),i.Kc(10),i.ic(11,"titlecase"),i.Sb(),i.Kc(12,"! Now explore your plans here."),i.Sb(),i.Tb(13,"button",36),i.dc("click",function(){return i.Bc(t),i.hc().navigateToPlans()}),i.Kc(14,"My Plans"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(10),i.Lc(i.jc(11,1,t.options.description))}}let Yx=(()=>{class t{constructor(t,e,n,i,r,s,o){this.planService=t,this.zone=e,this.modalService=n,this.userService=i,this.router=r,this.winRef=s,this.notification=o,this.discountApplied=!1,this.options={key:"",name:"Tanito Learning Platform",description:"",amount:0,order_id:"",prefill:{name:"Tanito Learning Platform",email:""},notes:{},theme:{color:"#3880FF"},handler:this.paymentHandler.bind(this),modal:{ondismiss:()=>{this.zone.run(()=>{})}}},this.loggedUser=JSON.parse(this.userService.getUser()),this._window=this.winRef.nativeWindow,this.userService.storeUpdatedUser().subscribe(t=>{this.loggedUser.plan_subcription=t.plan_subcription,localStorage.setItem("user",JSON.stringify(this.loggedUser))})}ngOnInit(){this.planService.getPlans().subscribe(t=>{this.plans=t.data.results,this.options.key=t.data.razerpay[0].field_value}),this.modalService.onHidden.subscribe(t=>{this.planAmt=0,this.discount=0,this.discountApplied=!1})}initPay(t,e,n){this.selectedPlanId=e,this.planDescription=t,this.planAmt=n,this.openModal(this.applyPromocode)}onApplyPromo(t){if(this.promocode=t,0==t.length)alert("Please enter any promocode first!");else{let e=new FormData;e.append("promocode",t),this.planService.applyPromo(e).subscribe(t=>{0==t.status?alert(t.msg):(this.discount=t.data.amount,this.planAmt=this.planAmt-this.discount,this.discountApplied=!0)})}}proceedToPay(){this.loggedUser.plan_subcription.some(t=>t.id==this.selectedPlanId)?alert("You have already subscribed this plan!"):(this.options.description=this.planDescription,this.options.amount=100*this.planAmt,this.rzp=new this.winRef.nativeWindow.Razorpay(this.options),this.rzp.open(),this.modalService.hide())}paymentHandler(t){this.zone.run(()=>{let t=new FormData;t.append("plan_id",this.selectedPlanId),t.append("user_id",this.loggedUser.id),this.planService.buyPlan(t).subscribe(t=>{this.openModal(this.confirmationBox),this.userService.updateUser(),this.notification.sendNotification(this.loggedUser.id,this.loggedUser.profile_img,"You have subscribed our "+this.options.description+" plan");let e=new FormData;e.append("promocode",this.promocode),this.planService.redeemPromo(e).subscribe(t)})})}openModal(t){this.modalService.show(t,Object.assign({},{class:"tanito"}))}navigateToPlans(){this.modalService.hide(),this.router.navigate(["/feed/my-plans"])}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(zx),i.Nb(i.z),i.Nb(Pa),i.Nb(iw),i.Nb(Oy),i.Nb(qx),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-plans"]],viewQuery:function(t,e){if(1&t&&(i.Oc(Hx,!0),i.Oc(Kx,!0)),2&t){let t;i.xc(t=i.ec())&&(e.confirmationBox=t.first),i.xc(t=i.ec())&&(e.applyPromocode=t.first)}},decls:11,vars:1,consts:[[1,"pricing"],[1,"container"],[1,"intro"],[1,"row","slider-wrap","justify-content-center"],["class","col-12 col-sm-6 col-lg-4 col-wrap",4,"ngFor","ngForOf"],["applyPromocode",""],["confirmationBox",""],[1,"col-12","col-sm-6","col-lg-4","col-wrap"],[1,"card-wrap","purple"],[1,"inner-wrap"],[1,"top-block"],[1,"title"],["src","assets/images/message.svg","alt","message"],[1,"list","content",3,"innerHtml"],[1,"bottom-block"],["data-target","#pricing_success_modal",1,"btn",3,"click"],[1,"modal_tanito"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","primary_bg"],[1,"modal-title","text-uppercase"],[1,"modal-body"],[1,"registration-form"],[1,"order-summary"],[1,"form-group","mb-4"],[1,"primary_color","spcllbl"],["type","text","placeholder","Apply promocode(if you have any)","name","promocode",1,"form-control"],["promocode",""],["type","button",1,"btn","btn_primary","btn-sm","text-uppercase","mr-3",3,"click"],["class","promo-applied",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase",3,"click"],[1,"promo-applied"],["id","signotpmodal",1,"modal_tanito"],[1,"modal-content","text-center"],[1,"mb-4"],["type","button",1,"text-purple","btn_primary","btn-sm",3,"click"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"h4"),i.Kc(4,"Subscription Plans"),i.Sb(),i.Sb(),i.Tb(5,"div",3),i.Ic(6,Wx,17,7,"div",4),i.Sb(),i.Sb(),i.Sb(),i.Ic(7,Gx,38,13,"ng-template",null,5,i.Jc),i.Ic(9,Qx,15,3,"ng-template",null,6,i.Jc)),2&t&&(i.Ab(6),i.oc("ngForOf",e.plans))},directives:[V,q],pipes:[ct,ot],styles:[".pricing .col-wrap{margin-bottom:30px}.pricing .col-wrap .inner-wrap{display:flex;flex-direction:column;height:100%;justify-content:space-between}.pricing .col-wrap .content{color:#fff;max-height:192px;overflow:hidden;line-clamp:8;display:-webkit-box;-webkit-line-clamp:8;-webkit-box-orient:vertical}.registration-form .order-summary{max-width:460px;margin:0 auto}.registration-form .order-summary h5{margin-bottom:20px}.registration-form .order-summary p{display:flex;justify-content:space-between;font-size:18px}.registration-form .order-summary .promo-applied{color:green}.registration-form .order-summary .form-group{display:flex;margin-bottom:10px!important}@media screen and (max-width:480px){.registration-form .order-summary .form-group{display:block}}.registration-form .order-summary .form-group button{margin-left:20px}@media screen and (max-width:480px){.registration-form .order-summary .form-group button{margin:20px 0 0}}"],encapsulation:2}),t})();const Xx=function(t){return{card_plan02:t}};function Jx(t,e){if(1&t&&(i.Tb(0,"div"),i.Tb(1,"h4",5),i.Kc(2),i.Sb(),i.Tb(3,"div",6),i.Tb(4,"ul"),i.Tb(5,"li"),i.Kc(6),i.Sb(),i.Tb(7,"li",7),i.Tb(8,"span"),i.Kc(9),i.ic(10,"currency"),i.Sb(),i.Sb(),i.Sb(),i.Ob(11,"p",8),i.Tb(12,"p"),i.Kc(13),i.Ob(14,"br"),i.Kc(15),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(2),i.Lc(t.isExpired?"Expired":"Active Plan"),i.Ab(1),i.oc("ngClass",i.sc(10,Xx,t.isExpired)),i.Ab(3),i.Mc("",t.currentPlan.plan," Plan"),i.Ab(3),i.Lc(i.kc(10,7,t.currentPlan.amount,"\u20b9")),i.Ab(2),i.oc("innerHtml",t.currentPlan.description,i.Cc),i.Ab(2),i.Mc("Pack Duration : ",t.currentPlan.validity," Month "),i.Ab(2),i.Mc(" Pack Expires on : ",t.currentPlan.end_date," ")}}function Zx(t,e){1&t&&(i.Tb(0,"h5"),i.Kc(1,"You have no plan!"),i.Sb())}let tE=(()=>{class t{constructor(t){this.myPlanService=t,this.isExpired=!1}ngOnInit(){this.currentPlan=this.myPlanService.getCurrentPlan(),this.isExpired=this.myPlanService.isPlanExpired()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Fw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-my-plans"]],decls:8,vars:2,consts:[[1,"student_rht"],[1,"custom_card","networks_people","contact_page"],[1,"network_top"],[1,"network_btm"],[4,"ngIf"],[1,"primary_color","mb-3"],[1,"card","card_plan","card_plan01",3,"ngClass"],[1,"pricelist"],[3,"innerHtml"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"h3"),i.Kc(4,"My Plans"),i.Sb(),i.Sb(),i.Tb(5,"div",3),i.Ic(6,Jx,16,12,"div",4),i.Ic(7,Zx,2,0,"h5",4),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(6),i.oc("ngIf",e.currentPlan),i.Ab(1),i.oc("ngIf",!e.currentPlan))},directives:[q,U],pipes:[ct],styles:["@media screen and (max-width:575px){.pricelist[_ngcontent-%COMP%]{width:100%}}"]}),t})();function eE(t,e){if(1&t&&(i.Tb(0,"li"),i.Kc(1),i.ic(2,"lowercase"),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.Mc("#",i.jc(2,1,t),"")}}function nE(t,e){if(1&t&&(i.Tb(0,"ul",24),i.Ic(1,eE,3,3,"li",25),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngForOf",t.post.tags.split(","))}}function iE(t,e){if(1&t&&i.Ob(0,"img",26),2&t){const t=i.hc(2);i.oc("src",t.imageDirPath+t.post.image,i.Dc)}}const rE=function(t){return{src:t}},sE=function(t){return[t]};function oE(t,e){if(1&t&&i.Ob(0,"plyr",27),2&t){const t=i.hc(2);i.oc("plyrPlaysInline",!0)("plyrSources",i.sc(4,sE,i.sc(2,rE,t.videoDirPath+t.post.video)))}}function aE(t,e){if(1&t&&(i.Tb(0,"section",2),i.Tb(1,"div",3),i.Tb(2,"div",4),i.Tb(3,"div",5),i.Tb(4,"div",6),i.Ob(5,"img",7),i.Sb(),i.Tb(6,"div",8),i.Tb(7,"div",9),i.Tb(8,"h3",10),i.Kc(9),i.Sb(),i.Ob(10,"img",11),i.Sb(),i.Tb(11,"p"),i.Kc(12),i.Tb(13,"span"),i.Kc(14),i.ic(15,"postCreated"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(16,"div",12),i.Tb(17,"p"),i.Kc(18),i.Sb(),i.Ic(19,nE,2,1,"ul",13),i.Ic(20,iE,1,1,"img",14),i.Ic(21,oE,1,6,"plyr",15),i.Sb(),i.Sb(),i.Tb(22,"div",16),i.Tb(23,"div",17),i.Tb(24,"div",18),i.Tb(25,"h3",19),i.Kc(26," Find the people you need "),i.Sb(),i.Tb(27,"a",20),i.Kc(28,"Get Started"),i.Sb(),i.Sb(),i.Sb(),i.Tb(29,"div",21),i.Tb(30,"div",22),i.Ob(31,"img",23),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.hc();i.Ab(5),i.oc("src",null==t.post.profile_img?t.userAvatar:t.profilePath+t.post.profile_img,i.Dc)("alt",t.post.username),i.Ab(3),i.oc("routerLink","/user/"+t.post.user_id),i.Ab(1),i.Lc(t.post.username),i.Ab(1),i.oc("src",3==t.post.usertype?t.studentIcon:t.teacherIcon,i.Dc),i.Ab(2),i.Mc("",(3==t.post.usertype?"Teacher at ":"Student at ")+t.post.university," \xa0 | "),i.Ab(2),i.Lc(i.jc(15,11,t.post.created)),i.Ab(4),i.Mc(" ",t.post.body," "),i.Ab(1),i.oc("ngIf",t.post.tags),i.Ab(1),i.oc("ngIf",t.post.image),i.Ab(1),i.oc("ngIf",t.post.video)}}const cE=function(){return{backdropBorderRadius:"3px",fullScreenBackdrop:!0}};let lE=(()=>{class t{constructor(t,e,n){this.userService=t,this.route=e,this.metaService=n,this.loading=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.imageDirPath="https://tanito.in/admin/assets/user-post-media/image/",this.videoDirPath="https://tanito.in/admin/assets/user-post-media/video/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.metaService.addTags([{property:"og:title",content:"Tanito - Social Learning Platform"},{property:"og:url",content:"https://www.imdb.com/title/tt0117500/"},{property:"og:image",content:"https://scx2.b-cdn.net/gfx/news/2019/2-nature.jpg"},{property:"og:description",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}])}ngOnInit(){let t=this.route.snapshot.params.id;this.loading=!0,this.userService.getPostById(t).subscribe(t=>{this.loading=!1,this.post=t.data.user_post})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(sb),i.Nb(Gt))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-post"]],decls:2,vars:4,consts:[["class","student_timeline student_sec",4,"ngIf"],[3,"show","config"],[1,"student_timeline","student_sec"],[1,"container"],[1,"custom_card","custom_crd_padd"],[1,"follow_top","d-flex","align-items-center"],[1,"follow_lft"],[1,"profile-img",3,"src","alt"],[1,"follow_rht"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","user type",1,"user-type",3,"src"],[1,"follow_bdy"],["class","hashtags",4,"ngIf"],["class","post-img",3,"src",4,"ngIf"],["style","display: block; width: 640px;","plyrTitle","Video 1",3,"plyrPlaysInline","plyrSources",4,"ngIf"],[1,"row","align-items-center","m_column-reverse"],[1,"col-lg-5","offset-lg-1"],[1,"pr-lg-5","mt-4"],[1,"mb-5","primary_color"],["href","student-home.php",1,"text-purple","text-uppercase","btn_primary","btn-sm"],[1,"col-lg-6"],[1,"people_need-img","mt-4"],["src","assets/images/fing.svg","alt","find people",1,"img-fluid","mx-auto","d-block"],[1,"hashtags"],[4,"ngFor","ngForOf"],[1,"post-img",3,"src"],["plyrTitle","Video 1",2,"display","block","width","640px",3,"plyrPlaysInline","plyrSources"]],template:function(t,e){1&t&&(i.Ic(0,aE,32,13,"section",0),i.Ob(1,"ngx-loading",1)),2&t&&(i.oc("ngIf",!e.loading),i.Ab(1),i.oc("show",e.loading)("config",i.rc(3,cE)))},directives:[q,Oo,Iy,V,Va],pipes:[Vw,rt],styles:[""]}),t})(),uE=(()=>{class t{constructor(t){this.contentService=t}ngOnInit(){this.contentService.aboutUsContent().subscribe(t=>this.body=t.data.result[0].aboutus)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(qS))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-about-us"]],decls:6,vars:1,consts:[[1,"info-box"],[1,"form-title"],[1,"inner-wrap"],[1,"text-wrap",3,"innerHtml"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"h5"),i.Kc(3,"About Us"),i.Sb(),i.Sb(),i.Tb(4,"div",2),i.Ob(5,"div",3),i.Sb(),i.Sb()),2&t&&(i.Ab(5),i.oc("innerHtml",e.body,i.Cc))},styles:[".info-box[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;min-height:535px;border-radius:20px;box-shadow:0 10px 20px rgba(196,200,208,.4);overflow:hidden}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{background:#514dc5;padding:20px 0}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;color:#fff}.info-box[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{overflow-y:scroll;max-height:603px;padding:30px 40px}"]}),t})(),hE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-page-not-found"]],decls:15,vars:0,consts:[[1,"page-not-found"],[1,"container"],[1,"inner-wrap"],[1,"img-wrap"],["src","../../../assets/images/404.svg","alt","404"],[1,"content-wrap"],["href","#","routerLink","/"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Ob(4,"img",4),i.Sb(),i.Tb(5,"div",5),i.Tb(6,"h4"),i.Kc(7,"Page not found"),i.Sb(),i.Tb(8,"p"),i.Kc(9,"The page you are looking for does'nt exist or an other error occured. "),i.Ob(10,"br"),i.Kc(11," Go back or head over to "),i.Tb(12,"a",6),i.Kc(13,"home"),i.Sb(),i.Kc(14," to choose a new direction."),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb())},directives:[Ay],styles:[".page-not-found[_ngcontent-%COMP%]{padding:150px 0}@media screen and (max-width:575px){.page-not-found[_ngcontent-%COMP%]{padding:100px 0}}.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{text-align:center}.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}@media screen and (max-width:575px){.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}}.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#514dc5}.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:30px 0}@media screen and (max-width:575px){.page-not-found[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),t})();function dE(t,e){1&t&&(i.Tb(0,"div",17),i.Kc(1," Please enter name! "),i.Sb())}function pE(t,e){1&t&&(i.Tb(0,"div"),i.Kc(1," Please enter valid phone number! "),i.Sb())}function fE(t,e){1&t&&i.Kc(0," Please enter phone number! ")}function mE(t,e){if(1&t&&(i.Tb(0,"div",17),i.Ic(1,pE,2,0,"div",18),i.Ic(2,fE,1,0,"ng-template",null,19,i.Jc),i.Sb()),2&t){const t=i.yc(3);i.hc();const e=i.yc(17);i.Ab(1),i.oc("ngIf",null==e.errors?null:e.errors.pattern)("ngIfElse",t)}}function gE(t,e){1&t&&(i.Tb(0,"div"),i.Kc(1," Please enter email! "),i.Sb())}function bE(t,e){1&t&&i.Kc(0," Please enter valid email! ")}function yE(t,e){if(1&t&&(i.Tb(0,"div",17),i.Ic(1,gE,2,0,"div",18),i.Ic(2,bE,1,0,"ng-template",null,20,i.Jc),i.Sb()),2&t){const t=i.yc(3);i.hc();const e=i.yc(17);i.Ab(1),i.oc("ngIf",null==e.errors?null:e.errors.pattern)("ngIfElse",t)}}const vE=[{path:"",pathMatch:"full",component:mw},{path:"login",component:gw,data:{title:"Tanito Login"}},{path:"register",component:pC},{path:"profile-setup",component:ZS},{path:"feed",component:Nx,canActivate:[rw],children:[{path:"",pathMatch:"full",component:Ix},{path:"network",component:jk,children:[{path:"",pathMatch:"full",component:Lk},{path:"followers",component:Pk}]},{path:"inbox",component:Ek},{path:"inbox/:id",component:Ek},{path:"my-plans",component:tE}]},{path:"myProfile",component:zS,canActivate:[rw]},{path:"user/:id",component:rT,canActivate:[rw]},{path:"search-user",component:Vx,canActivate:[rw]},{path:"plans",component:Yx,canActivate:[rw]},{path:"post/:id",component:lE},{path:"terms-and-condition",component:fC},{path:"privacy-policy",component:HS},{path:"about-us",component:uE},{path:"contact-us",component:(()=>{class t{constructor(t){this.userService=t}ngOnInit(){}onSubmit(t){let e=new FormData;e.append("name",t.value.name),e.append("email",t.value.email),e.append("mobile",t.value.phone),e.append("message",t.value.message),this.userService.sendQuery(e).subscribe(e=>{0==e.status?alert(e.msg):(alert("Thanks for submitting your query, we will get back to you!"),t.reset())})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-contact-us"]],decls:33,vars:4,consts:[[1,"info-box"],[1,"form-title"],[1,"inner-wrap"],[1,"registration-form",3,"submit"],["queryForm","ngForm"],[1,"form-group"],[1,"primary_color","spcllbl"],["type","text","placeholder","Joe Smith","name","name","ngModel","","required","",1,"form-control"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","tel","placeholder","+876-9876543210","name","phone","ngModel","","pattern","^[0-9]*$","required","",1,"form-control"],["phone","ngModel"],["type","email","placeholder","john@gmail.com","name","email","ngModel","","pattern","^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$","required","",1,"form-control"],["email","ngModel"],["placeholder","Write your message...","name","message","ngModel","","required","","cols","30","rows","10",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn_primary","btn-sm","text-uppercase",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf","ngIfElse"],["invalidPhone",""],["invalidEmail",""]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"h5"),i.Kc(3,"Contact Us"),i.Sb(),i.Sb(),i.Tb(4,"div",2),i.Tb(5,"form",3,4),i.dc("submit",function(){i.Bc(t);const n=i.yc(6);return e.onSubmit(n)}),i.Tb(7,"div",5),i.Tb(8,"label",6),i.Kc(9,"Full Name"),i.Sb(),i.Ob(10,"input",7,8),i.Ic(12,dE,2,0,"div",9),i.Sb(),i.Tb(13,"div",5),i.Tb(14,"label",6),i.Kc(15,"Phone No"),i.Sb(),i.Ob(16,"input",10,11),i.Ic(18,mE,4,2,"div",9),i.Sb(),i.Tb(19,"div",5),i.Tb(20,"label",6),i.Kc(21,"Email"),i.Sb(),i.Ob(22,"input",12,13),i.Ic(24,yE,4,2,"div",9),i.Sb(),i.Tb(25,"div",5),i.Tb(26,"label",6),i.Kc(27,"Message*"),i.Sb(),i.Tb(28,"textarea",14),i.Kc(29,"            "),i.Sb(),i.Sb(),i.Tb(30,"div",15),i.Tb(31,"button",16),i.Kc(32,"Submit"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.yc(6),e=i.yc(11),n=i.yc(17),r=i.yc(23);i.Ab(12),i.oc("ngIf",e.invalid&&(e.dirty||e.touched)),i.Ab(6),i.oc("ngIf",n.invalid&&(n.dirty||n.touched)),i.Ab(6),i.oc("ngIf",r.invalid&&(r.dirty||r.touched)),i.Ab(7),i.oc("disabled",!t.valid)}},directives:[Bs,Yr,Fs,Er,Qr,Us,Ws,q,to],styles:[".info-box[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;min-height:535px;border-radius:20px;box-shadow:0 10px 20px rgba(196,200,208,.4);overflow:hidden}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{background:#514dc5;padding:20px 0}.info-box[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;color:#fff}.info-box[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{overflow-y:scroll;max-height:603px;padding:30px 40px}"]}),t})()},{path:"404",component:hE},{path:"**",redirectTo:"404"}];let _E=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[qy.forRoot(vE,{initialNavigation:"enabled"})],qy]}),t})(),wE=(()=>{class t{transform(t,e){let n=e,i=t;return i.length>n?i.substring(0,n)+"...":i.substring(0,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"truncate",type:t,pure:!0}),t})();const SE=["query"];function CE(t,e){if(1&t&&(i.Tb(0,"span"),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Lc(t.newAnnouncements.length)}}const TE=function(t){return{fontWeight:t}};function kE(t,e){if(1&t&&(i.Tb(0,"li"),i.Tb(1,"p",23),i.Kc(2),i.ic(3,"truncate"),i.Ob(4,"br"),i.Tb(5,"strong"),i.Kc(6),i.ic(7,"postCreated"),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(3);i.Ab(1),i.oc("ngStyle",i.sc(8,TE,t.readBy.includes(n.user.id)?"normal":"bold")),i.Ab(1),i.Mc("",i.kc(3,3,t.notification,200)," "),i.Ab(4),i.Lc(i.jc(7,6,t.created))}}function xE(t,e){if(1&t&&(i.Tb(0,"ul"),i.Ic(1,kE,8,10,"li",22),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngForOf",t.announcements)}}function EE(t,e){1&t&&(i.Tb(0,"ul"),i.Tb(1,"li"),i.Tb(2,"p"),i.Kc(3,"No new announcement"),i.Sb(),i.Sb(),i.Sb())}function OE(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",17),i.Tb(1,"a",18),i.dc("click",function(){return i.Bc(t),i.hc().onCheckAnnouncement()}),i.Ob(2,"i",19),i.Ic(3,CE,2,1,"span",20),i.Sb(),i.Tb(4,"div",21),i.Ic(5,xE,2,1,"ul",20),i.Ic(6,EE,4,0,"ul",20),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(3),i.oc("ngIf",t.newAnnouncements.length>0),i.Ab(2),i.oc("ngIf",t.announcements.length>0),i.Ab(1),i.oc("ngIf",0==t.announcements.length)}}function IE(t,e){if(1&t&&(i.Tb(0,"span"),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Lc(t.newNotifications.length)}}function AE(t,e){if(1&t&&(i.Tb(0,"li"),i.Ob(1,"img",28),i.Tb(2,"p",23),i.Kc(3),i.ic(4,"truncate"),i.Ob(5,"br"),i.Tb(6,"strong"),i.Kc(7),i.ic(8,"postCreated"),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.oc("src",t.userPic,i.Dc),i.Ab(1),i.oc("ngStyle",i.sc(9,TE,0==t.isRead?"bold":"normal")),i.Ab(1),i.Mc("",i.kc(4,4,t.notification,200)," "),i.Ab(4),i.Lc(i.jc(8,7,t.timestamp))}}function PE(t,e){if(1&t&&(i.Tb(0,"div",27),i.Tb(1,"ul"),i.Ic(2,AE,9,11,"li",22),i.Sb(),i.Sb()),2&t){const t=i.hc(2);i.Ab(2),i.oc("ngForOf",t.notifications)}}function DE(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",24),i.Tb(1,"a",18),i.dc("click",function(){return i.Bc(t),i.hc().onCheckNotification()}),i.Ob(2,"i",25),i.Ic(3,IE,2,1,"span",20),i.Sb(),i.Ic(4,PE,3,1,"div",26),i.Sb()}if(2&t){const t=i.hc();i.Ab(3),i.oc("ngIf",t.newNotifications.length>0),i.Ab(1),i.oc("ngIf",t.notifications.length>0)}}function RE(t,e){if(1&t&&(i.Tb(0,"span"),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Lc(t.newAnnouncements.length)}}function NE(t,e){if(1&t&&(i.Tb(0,"li"),i.Tb(1,"p",23),i.Kc(2),i.ic(3,"truncate"),i.Ob(4,"br"),i.Tb(5,"strong"),i.Kc(6),i.ic(7,"postCreated"),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit,n=i.hc(3);i.Ab(1),i.oc("ngStyle",i.sc(8,TE,t.readBy.includes(n.user.id)?"normal":"bold")),i.Ab(1),i.Mc("",i.kc(3,3,t.notification,200)," "),i.Ab(4),i.Lc(i.jc(7,6,t.created))}}function LE(t,e){if(1&t&&(i.Tb(0,"ul"),i.Ic(1,NE,8,10,"li",22),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.oc("ngForOf",t.announcements)}}function FE(t,e){1&t&&(i.Tb(0,"ul"),i.Tb(1,"li"),i.Tb(2,"p"),i.Kc(3,"No new announcement"),i.Sb(),i.Sb(),i.Sb())}function jE(t,e){if(1&t&&(i.Tb(0,"span"),i.Kc(1),i.Sb()),2&t){const t=i.hc(2);i.Ab(1),i.Lc(t.newNotifications.length)}}function ME(t,e){if(1&t&&(i.Tb(0,"li"),i.Ob(1,"img",28),i.Tb(2,"p",23),i.Kc(3),i.ic(4,"truncate"),i.Ob(5,"br"),i.Tb(6,"strong"),i.Kc(7),i.ic(8,"postCreated"),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit;i.Ab(1),i.oc("src",t.userPic,i.Dc),i.Ab(1),i.oc("ngStyle",i.sc(9,TE,0==t.isRead?"bold":"normal")),i.Ab(1),i.Mc("",i.kc(4,4,t.notification,80)," "),i.Ab(4),i.Lc(i.jc(8,7,t.timestamp))}}function UE(t,e){if(1&t&&(i.Tb(0,"div",27),i.Tb(1,"ul"),i.Ic(2,ME,9,11,"li",22),i.Sb(),i.Sb()),2&t){const t=i.hc(2);i.Ab(2),i.oc("ngForOf",t.notifications)}}function BE(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",29),i.Tb(1,"div",30),i.Tb(2,"form",31),i.dc("submit",function(){i.Bc(t);const e=i.yc(4);return i.hc().onSearchUser(e.value)}),i.Ob(3,"input",32,33),i.Tb(5,"button",34),i.dc("click",function(){i.Bc(t);const e=i.yc(4);return i.hc().onSearchUser(e.value)}),i.Sb(),i.Sb(),i.Sb(),i.Tb(6,"div",35),i.Tb(7,"div",36),i.Tb(8,"div",37),i.Tb(9,"a",18),i.dc("click",function(){return i.Bc(t),i.hc().onCheckAnnouncement()}),i.Ob(10,"i",19),i.Ic(11,RE,2,1,"span",20),i.Sb(),i.Tb(12,"div",21),i.Ic(13,LE,2,1,"ul",20),i.Ic(14,FE,4,0,"ul",20),i.Sb(),i.Sb(),i.Sb(),i.Tb(15,"div",36),i.Tb(16,"div",38),i.Tb(17,"a",18),i.dc("click",function(){return i.Bc(t),i.hc().onCheckNotification()}),i.Ob(18,"i",25),i.Ic(19,jE,2,1,"span",20),i.Sb(),i.Ic(20,UE,3,1,"div",26),i.Sb(),i.Sb(),i.Tb(21,"div",39),i.Tb(22,"div",40),i.Tb(23,"a",41),i.Ob(24,"img",42),i.Ob(25,"span",43),i.Sb(),i.Tb(26,"div",44),i.Tb(27,"ul"),i.Tb(28,"li"),i.Tb(29,"a",45),i.Kc(30,"My Account"),i.Sb(),i.Sb(),i.Tb(31,"li"),i.Tb(32,"a",46),i.dc("click",function(e){return i.Bc(t),i.hc().onLogOut(e)}),i.Kc(33,"Log Out"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(34,"div",47),i.Tb(35,"ul"),i.Tb(36,"li"),i.Tb(37,"a",45),i.Ob(38,"i",48),i.Kc(39," My Account"),i.Sb(),i.Sb(),i.Tb(40,"li"),i.Tb(41,"a",46),i.dc("click",function(e){return i.Bc(t),i.hc().onLogOut(e)}),i.Ob(42,"i",49),i.Kc(43," Log Out"),i.Sb(),i.Sb(),i.Tb(44,"li"),i.Tb(45,"a",50),i.Ob(46,"i",51),i.Kc(47," Try Tanito Premium"),i.Sb(),i.Sb(),i.Sb(),i.Tb(48,"div",30),i.Tb(49,"form",31),i.dc("submit",function(){i.Bc(t);const e=i.yc(51);return i.hc().onSearchUser(e.value)}),i.Ob(50,"input",32,52),i.Tb(52,"button",34),i.dc("click",function(){i.Bc(t);const e=i.yc(51);return i.hc().onSearchUser(e.value)}),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(53,"div",53),i.Tb(54,"a",54),i.Ob(55,"img",55),i.Kc(56," try Tanito Premium "),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.hc();i.Ab(11),i.oc("ngIf",t.newAnnouncements.length>0),i.Ab(2),i.oc("ngIf",t.announcements.length>0),i.Ab(1),i.oc("ngIf",0==t.announcements.length),i.Ab(5),i.oc("ngIf",t.newNotifications.length>0),i.Ab(1),i.oc("ngIf",t.notifications.length>0),i.Ab(4),i.oc("src",t.user.profile_img.length>0?t.profilePath+t.user.profile_img:t.userAvatar,i.Dc)}}function VE(t,e){1&t&&(i.Tb(0,"ul",56),i.Tb(1,"li"),i.Tb(2,"a",57),i.Kc(3," Login "),i.Sb(),i.Sb(),i.Tb(4,"li"),i.Tb(5,"a",58),i.Kc(6," Join Now"),i.Sb(),i.Sb(),i.Sb())}const zE=function(){return["feed"]},qE=function(){return["/"]},HE=function(t){return{show:t}};let KE=(()=>{class t{constructor(t,e,n,i){this.router=t,this.authService=e,this.userService=n,this.notificationService=i,this.isLoggedIn=!1,this.showMenu=!1,this.notifications=[],this.announcements=[],this.newNotifications=[],this.newAnnouncements=[],this.isRead=!1,this.profilePath="https://tanito.in/admin/assets/user-profile/",this.userAvatar="assets/images/icons/user_avatar.svg",this.teacherIcon="assets/images/icons/teacher.png",this.studentIcon="assets/images/icons/student.png",this.authService.user.subscribe(t=>{this.isLoggedIn=!!t.isLoggedIn&&t.isLoggedIn,this.user=t.data,this.notificationService.getNotification(null==this.user?0:this.user.id).valueChanges().subscribe(t=>{this.notifications=t.reverse(),this.newNotifications=t.filter(t=>0==t.isRead)}),this.fetchAnnouncement()}),this.user=JSON.parse(this.userService.getUser()),this.notificationService.getNotification(null==this.user?0:this.user.id).valueChanges().subscribe(t=>{this.notifications=t.reverse(),this.newNotifications=t.filter(t=>0==t.isRead)}),this.router.events.subscribe(t=>{t instanceof ng&&(this.showMenu=!1)})}ngOnInit(){let t=JSON.parse(this.userService.getUser());t&&(t.mobile&&(this.isLoggedIn=t.mobile==localStorage.getItem("mobile")),this.fetchAnnouncement())}fetchAnnouncement(){this.notificationService.getAnnouncement().subscribe(t=>{this.user&&(this.announcements=3==this.user.usertype?t.data.result.reverse().filter(t=>"S"==t.share||"A"==t.share):t.data.result.reverse().filter(t=>"T"==t.share||"A"==t.share),this.newAnnouncements=this.announcements.filter(t=>!t.readBy.includes(this.user.id)))})}onCheckAnnouncement(){let t=[];this.newAnnouncements.forEach(e=>{t.push(e.id)});let e=this.notificationService.announcementUrlArr(t,this.user.id);setTimeout(()=>{Object(_r.a)(e).subscribe(t=>{this.fetchAnnouncement()})},2e3)}onSearchUser(t){t.length>0&&this.router.navigate(["/search-user"],{queryParams:{query:t}})}onLogOut(t){1==confirm("Do you want to logout?")&&(t.preventDefault(),this.authService.logout())}onCheckNotification(){setTimeout(()=>{this.notificationService.readNotification()},2e3)}toggleMenu(){this.showMenu=!this.showMenu}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Oy),i.Nb(nw),i.Nb(iw),i.Nb(Lw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-header"]],viewQuery:function(t,e){if(1&t&&i.Oc(SE,!0),2&t){let t;i.xc(t=i.ec())&&(e.query=t.first)}},decls:19,vars:13,consts:[["property","og:title","content",""],["property","og:url","content",""],["property","og:image","content",""],["property","og:description","content",""],[1,"navbar-header","clearfix"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"inner-wrap"],[1,"navbar-brand",3,"routerLink"],["src","assets/images/logo.svg","alt","logo",1,"img-fluid","head_logo"],["class","wishlish_icon mobile announcement",4,"ngIf"],["class","wishlish_icon mobile",4,"ngIf"],[1,"toggle-menu",3,"ngClass","click"],[1,"bar"],[1,"collapse-menu",3,"ngClass"],["class","after_login_head",4,"ngIf"],["class","btn-sign-head",4,"ngIf"],[1,"wishlish_icon","mobile","announcement"],["appShowMenu","",3,"click"],["aria-hidden","true",1,"fa","fa-bullhorn"],[4,"ngIf"],[1,"dropdown-menu","my_account_dropmenu","notification","announcement"],[4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"wishlish_icon","mobile"],[1,"fa","fa-bell"],["class","dropdown-menu my_account_dropmenu notification",4,"ngIf"],[1,"dropdown-menu","my_account_dropmenu","notification"],["alt","userpic",3,"src"],[1,"after_login_head"],[1,"search_bar_head","head_top_bar"],[3,"submit"],["type","search","placeholder","Search here...",1,"form-control"],["query",""],["type","submit",1,"submit_search_bar",3,"click"],[1,"nav"],[1,"wishlist_card_head","head_top_bar"],[1,"wishlish_icon","announcement"],[1,"wishlish_icon"],[1,"account_panel_head","head_top_bar"],[1,"account_user_icon"],["id","logindrop","appShowMenu",""],["alt","profile image",3,"src"],[1,"user_online"],[1,"dropdown-menu","my_account_dropmenu"],["routerLink","/myProfile"],[3,"click"],[1,"mobile-links"],["aria-hidden","true",1,"fa","fa-user-circle-o"],["aria-hidden","true",1,"fa","fa-sign-out"],["routerLink","/plans"],["aria-hidden","true",1,"fa","fa-diamond"],["querySm",""],[1,"premium_buy","head_top_bar"],["routerLink","/plans",1,"primary_color"],["src","assets/images/diamond.svg","alt","diamond"],[1,"btn-sign-head"],["routerLink","login"],["routerLink","register",1,"become_partner","btn","btn_primary"]],template:function(t,e){1&t&&(i.Ob(0,"meta",0),i.Ob(1,"meta",1),i.Ob(2,"meta",2),i.Ob(3,"meta",3),i.Tb(4,"header",4),i.Tb(5,"nav",5),i.Tb(6,"div",6),i.Tb(7,"div",7),i.Tb(8,"a",8),i.Ob(9,"img",9),i.Sb(),i.Ic(10,OE,7,3,"div",10),i.Ic(11,DE,5,2,"div",11),i.Tb(12,"div",12),i.dc("click",function(){return e.toggleMenu()}),i.Ob(13,"span",13),i.Ob(14,"span",13),i.Ob(15,"span",13),i.Sb(),i.Tb(16,"div",14),i.Ic(17,BE,57,6,"div",15),i.Ic(18,VE,7,0,"ul",16),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(8),i.oc("routerLink",e.isLoggedIn?i.rc(7,zE):i.rc(8,qE)),i.Ab(2),i.oc("ngIf",e.isLoggedIn),i.Ab(1),i.oc("ngIf",e.isLoggedIn),i.Ab(1),i.oc("ngClass",i.sc(9,HE,e.showMenu)),i.Ab(4),i.oc("ngClass",i.sc(11,HE,e.showMenu)),i.Ab(1),i.oc("ngIf",e.isLoggedIn),i.Ab(1),i.oc("ngIf",!e.isLoggedIn))},directives:[UT,Ay,q,U,jw,V,Y,Bs,Yr,Fs],pipes:[wE,Vw],styles:[".collapse-menu[_ngcontent-%COMP%]{width:100%}.collapse-menu[_ngcontent-%COMP%]   .after_login_head[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}@media screen and (max-width:1090px){.collapse-menu[_ngcontent-%COMP%]   .after_login_head[_ngcontent-%COMP%]{height:auto}}.collapse-menu[_ngcontent-%COMP%]   .after_login_head[_ngcontent-%COMP%]   .search_bar_head[_ngcontent-%COMP%]{margin-left:60px}@media screen and (max-width:1199px){.collapse-menu[_ngcontent-%COMP%]   .after_login_head[_ngcontent-%COMP%]   .search_bar_head[_ngcontent-%COMP%]{margin-left:0}}"]}),t})(),WE=(()=>{class t{constructor(t,e){this.userService=t,this.authService=e,this.authService.user.subscribe(t=>{this.isLoggedIn=!!t.isLoggedIn&&t.isLoggedIn})}ngOnInit(){let t=JSON.parse(this.userService.getUser());t&&t.mobile&&(this.isLoggedIn=t.mobile==localStorage.getItem("mobile"))}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(iw),i.Nb(nw))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-footer"]],decls:42,vars:2,consts:[[1,"footer"],["id","navbar",1,"navbar","navbar-expand-lg","navbar-custom","navbar-light"],[1,"container-fluid"],[1,"inner-wrap","row","align-items-center","justify-content-between"],[1,"logo"],["src","assets/images/logo.svg","alt","footer icon","height","70",1,"logo-footer"],[1,"footermenu"],[1,"active"],["href","/"],["href","#","routerLink","/about-us"],["href","#","routerLink","/contact-us"],[3,"hidden"],["href","#","routerLink","/login"],["href","#","routerLink","/register"],[1,"foo-social"],["href","https://www.facebook.com/tanito.in","target","_blank"],[1,"fa","fa-facebook"],["href","https://twitter.com/in_tanito","target","_blank"],[1,"fa","fa-twitter"],["href","https://www.linkedin.com/company/tanito","target","_blank"],[1,"fa","fa-linkedin"],[1,"copy"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mb-3"],[1,"f-15","mb-0"]],template:function(t,e){1&t&&(i.Tb(0,"footer",0),i.Tb(1,"nav",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"a",4),i.Ob(5,"img",5),i.Sb(),i.Tb(6,"div",6),i.Tb(7,"ul"),i.Tb(8,"li",7),i.Tb(9,"a",8),i.Kc(10,"Home"),i.Sb(),i.Sb(),i.Tb(11,"li"),i.Tb(12,"a",9),i.Kc(13,"About Us"),i.Sb(),i.Sb(),i.Tb(14,"li"),i.Tb(15,"a",10),i.Kc(16,"Contact Us"),i.Sb(),i.Sb(),i.Tb(17,"li",11),i.Tb(18,"a",12),i.Kc(19,"Login"),i.Sb(),i.Sb(),i.Tb(20,"li",11),i.Tb(21,"a",13),i.Kc(22,"Register"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(23,"div",6),i.Tb(24,"ul",14),i.Tb(25,"li"),i.Tb(26,"a",15),i.Ob(27,"i",16),i.Sb(),i.Sb(),i.Tb(28,"li"),i.Tb(29,"a",17),i.Ob(30,"i",18),i.Sb(),i.Sb(),i.Tb(31,"li"),i.Tb(32,"a",19),i.Ob(33,"i",20),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(34,"div",2),i.Ob(35,"hr"),i.Tb(36,"div",21),i.Tb(37,"div",22),i.Tb(38,"div",23),i.Tb(39,"div",24),i.Tb(40,"p",25),i.Kc(41," Copyright \xa9 2020 Tanito"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(17),i.oc("hidden",e.isLoggedIn),i.Ab(3),i.oc("hidden",e.isLoggedIn))},directives:[UT,Ay],styles:[""]}),t})(),$E=(()=>{class t{constructor(t,e){this.router=t,this.location=e,this.title="tanito";let n=this.location.path();localStorage.getItem("user")&&!n.includes("post")&&this.router.navigate(["/feed"]),this.router.events.subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(Oy),i.Nb(C))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(i.Ob(0,"app-header"),i.Ob(1,"router-outlet"),i.Ob(2,"app-footer"))},directives:[KE,Ry,WE],styles:[""]}),t})();n("jtHE");var GE=n("wO+i");const QE={useTransferState:!0,alwaysMonitor:!1,manualIdle:!1,baseURIForScullyContent:"http://localhost:1668"},YE=new i.q("scullyLibConfig",{factory:()=>QE}),XE=t=>(t.includes("#")&&(t=t.split("#")[0]),t.includes("?")&&(t=t.split("?")[0]),t.endsWith("/")?t.slice(0,-1):t);function JE(t,e="json"){return new Promise((n,i)=>{const r=new XMLHttpRequest;r.responseType=e,r.addEventListener("load",t=>{if(200!==r.status)return i(r);n(r.response)}),r.addEventListener("error",(...t)=>i(t)),r.open("get",t,!0),r.send()})}const ZE=()=>window&&"running"===window.ScullyIO,tO=()=>window&&"generated"===window.ScullyIO;function eO(t,e){return t.endsWith("/")&&e.startsWith("/")?`${t}${e.substr(1)}`:t.endsWith("/")||e.startsWith("/")?`${t}${e}`:`${t}/${e}`}const nO="ScullyIO-transfer-state",iO="/** ___SCULLY_STATE_START___ */",rO="/** ___SCULLY_STATE_END___ */";let sO=(()=>{class t{constructor(t,e){this.document=t,this.router=e,this.inlineOnly=!1,this.currentBaseUrl="//",this.stateBS=new Fa.a({}),this.state$=this.stateBS.pipe(Object(Bi.a)(t=>void 0!==t)),this.nextUrl=this.router.events.pipe(Object(Bi.a)(t=>t instanceof eg),Object(Ma.a)(t=>XE(this.initialUrl)===XE(t.url)?(this.initialUrl="__done__with__Initial__navigation__",pT.a):Object(ji.a)(t)),Object(Ha.a)(()=>this.stateBS.next(void 0)),Object(Ma.a)(t=>this.router.events.pipe(Object(Bi.a)(e=>e instanceof ng&&e.url===t.url),Object(ja.a)())),Object(Vi.a)(t=>XE(t.urlAfterRedirects||t.url)),Object(Uu.a)(1))}startMonitoring(){window&&window["ScullyIO-injected"]&&window["ScullyIO-injected"].inlineStateOnly&&(this.inlineOnly=!0),this.setupEnvForTransferState(),this.setupStartNavMonitoring()}setupEnvForTransferState(){if(ZE()){this.injectScript();const t=window["ScullyIO-exposed"]||{};t.transferState&&(this.stateBS.next(t.transferState),this.saveState(t.transferState))}else tO()&&(this.initialUrl=window.location.pathname||"__no_NO_no__",this.initialUrl="/"!==this.initialUrl&&this.initialUrl.endsWith("/")?this.initialUrl.slice(0,-1):this.initialUrl,this.stateBS.next(window&&window[nO]||{}))}injectScript(){this.script=this.document.createElement("script"),this.script.setAttribute("id",nO);let t=document.body.lastChild;for(;"SCRIPT"===t.previousSibling.nodeName;)t=t.previousSibling;document.body.insertBefore(this.script,t)}getState(t){return this.fetchTransferState(),this.state$.pipe(Object(GE.a)(t))}stateHasKey(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)}stateKeyHasValue(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)&&null!=this.stateBS.value[t]}setState(t,e){const n=Object.assign(Object.assign({},this.stateBS.value),{[t]:e});this.stateBS.next(n),this.saveState(n)}saveState(t){ZE()&&(this.script.textContent=`{window['${nO}']=_u(\`${iO}${function(t){const e={"'":"_~q~","`":"_~b~","/":"_~s~","<":"_~l~",">":"_~g~"};return t.replace(/[`'<>\/]/g,t=>e[t]).replace(/\\\"/g,"_~d~")}(JSON.stringify(t))}${rO}\`);function _u(t){t=t.split('${iO}')[1].split('${rO}')[0];const u={'_~b~': "\`",'_~q~': "'",'_~s~': '/','_~l~': '<','_~g~': '>'};return JSON.parse(t.replace(/_~d~/g,'\\\\"').replace(/_~[^]~/g, (s) => u[s]).replace(/\\n/g,'\\\\n').replace(/\\t/g,'\\\\t').replace(/\\r/g,'\\\\r'));}}`)}setupStartNavMonitoring(){tO()&&this.nextUrl.subscribe()}useScullyTransferState(t,e){return tO()?this.getState(t):e.pipe(Object(Ha.a)(e=>this.setState(t,e)))}fetchTransferState(){return La(this,void 0,void 0,function*(){const t=t=>t.split("/").filter(t=>""!==t.trim())[0];yield new Promise(t=>setTimeout(t,0));const e=yield this.nextUrl.pipe(Object(fc.a)(1)).toPromise(),n=t(e);this.currentBaseUrl!==n&&(this.currentBaseUrl=n,this.nextUrl.pipe(Object(Zu.a)(e=>t(e)===this.currentBaseUrl),Object(Ma.a)(t=>this.inlineOnly?this.readFromIndex(t):this.readFromJson(t)),Object(cd.a)(t=>(console.warn("Error while loading of parsing Scully state:",t),Object(ji.a)({}))),Object(Ha.a)(t=>{this.stateBS.next(t)})).subscribe({complete:()=>{this.currentBaseUrl="//"}}))})}readFromJson(t){return JE(oO(eO(t,"/data.json")))}readFromIndex(t){return JE(oO(eO(t,"/index.html")),"text").then(t=>{const e=t.split(iO)[1].split(rO)[0];return JSON.parse(function(t){const e={"_~q~":"'","_~b~":"`","_~s~":"/","_~l~":"<","_~g~":">"};return t.replace(/_~d~/g,'\\"').replace(/_~[^]~/g,t=>e[t]).replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(e))})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(Oy))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(c),Object(i.ac)(Oy))},token:t,providedIn:"root"}),t})();function oO(t){return t.startsWith("/")?t.slice(1):t}let aO=(()=>{class t{constructor(t,e,n,i){var r;this.zone=t,this.router=e,this.initialUrl=((r=window&&window.location.pathname).endsWith("/")?r.slice(0,-1):r)||"",this.imState=new Fa.a({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(Object(GE.a)("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),this.scullyLibConfig=Object.assign({},QE,n);const s=!!(window["ScullyIO-exposed"]||{}).manualIdle;!this.scullyLibConfig.manualIdle&&window&&(this.scullyLibConfig.alwaysMonitor||ZE())&&(window.dispatchEvent(this.initApp),this.router.events.pipe(Object(Bi.a)(t=>t instanceof ng&&void 0!==t.urlAfterRedirects),Object(Bi.a)(t=>!s||t.urlAfterRedirects!==this.initialUrl),Object(Ha.a)(()=>this.zoneIdleCheck())).subscribe()),this.scullyLibConfig.manualIdle&&window.dispatchEvent(this.initApp),this.scullyLibConfig.useTransferState&&i.startMonitoring()}fireManualMyAppReadyEvent(){return La(this,void 0,void 0,function*(){return window.dispatchEvent(this.appReady)})}init(){return La(this,void 0,void 0,function*(){return this.idle$.pipe(Object(fc.a)(1)).toPromise()})}zoneIdleCheck(){return La(this,void 0,void 0,function*(){if(void 0===Zone)return this.simpleTimeout();const t=Zone.current.get("TaskTrackingZone");if(void 0===t)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let e,n=0;const i=Date.now(),r=()=>{clearTimeout(e),Date.now()-i>3e4?window.dispatchEvent(this.appTimeout):t.macroTasks.length>0&&void 0!==t.macroTasks.find(t=>t.source.includes("XMLHttpRequest"))||n<1?e=setTimeout(()=>{n+=1,r()},50):this.zone.run(()=>{setTimeout(()=>{window.dispatchEvent(this.appReady),this.setState("idle",!0)},250)})};r()})})}simpleTimeout(){return La(this,void 0,void 0,function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(t=>setTimeout(t,this.imState.value.timeOut)),window.dispatchEvent(this.appReady)})}setPupeteerTimeoutValue(t){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:t}))}setState(t,e){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[t]:e}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.z),i.ac(Oy),i.ac(YE),i.ac(sO))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(i.z),Object(i.ac)(Oy),Object(i.ac)(YE),Object(i.ac)(sO))},token:t,providedIn:"root"}),t})(),cO=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t})(),lO=(()=>{class t{constructor(t){this.idle=t}static forRoot(e=QE){return e=Object.assign({},QE,e),{ngModule:t,providers:[{provide:YE,useValue:e}]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.ac(aO))},imports:[[cO],cO]}),t})(),uO=(()=>{class t{}return t.\u0275mod=i.Lb({type:t,bootstrap:[$E]}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[{provide:y,useClass:S}],imports:[[Wt.withServerTransition({appId:"serverApp"}),Li,_E,vr,io,ro,Fi,Nu,Qh,od,xd,yp,za,Da.forRoot(),Io.forRoot({}),vp.a.initializeApp(r),Qp,$m,ov,Z_,ew,qu,lc,hk,lO]]}),t})();Object(i.T)(),document.addEventListener("DOMContentLoaded",()=>{Ht().bootstrapModule(uO).catch(t=>console.error(t))})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mAIw"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(u=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==c)throw Error();i.push(s<<2|o>>4),64!==a&&(i.push(o<<4&240|a>>2),64!==c&&i.push(a<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return i.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?g(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",c=new f(r,a),l=0,u=Object.keys(i);l<u.length;l++){var h=u[l];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=i[h])}return c},t}();function g(t,e){return t.replace(b,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=y(l(s[0])||""),n=y(l(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=l^a&(c^l),s=1518500249):(r=a^c^l,s=1859775393):i<60?(r=a&c|l&(a|c),s=2400959708):(r=a^c^l,s=3395469782);var h=(o<<5|o>>>27)+r+u+s+n[i]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function C(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}var T=144e5;e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.MAX_VALUE_MILLIS=T,e.RANDOM_FACTOR=.5,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=c,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(T,i+r)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=p,e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,s(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(C(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,i)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=window.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||window.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(C(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("l7GE"),r=n("ZUHj");function s(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}class o{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends i.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let s=0;s<i;s++){let t=e[s];this.add(Object(r.a)(this,t,void 0,s))}}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),s=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);